const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./95Uf3Myd.js","./CWj6FrbW.js","./CuinI3cC.js","./DaP7Nkza.js","../assets/FontAwesomeCSS.WzE38GyQ.css"])))=>i.map(i=>d[i]);
var Ur=Object.defineProperty;var Gr=(e,t,n)=>t in e?Ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vt=(e,t,n)=>Gr(e,typeof t!="symbol"?t+"":t,n);import"./CWj6FrbW.js";import{aO as Br,b as qr,h as Se,c as Wr,aP as jn,aq as $r,ar as Yr,$ as Xr,_ as Qn,at as Jn,aw as nn,J as Kn,Q as ti,B as jr,f as Qr,af as ei,ae as ni,aQ as ii,j as Jr,as as Kr,d as ts,e as rn,aa as es,C as ns,a5 as is,p as Hi,g as Ui,a as Gi,v as gt,o as rs,t as ss,I as Wt,ab as _e,s as os,i as as,r as ls,m as ri}from"./DaP7Nkza.js";import{c as us,a as Bi,t as hs,s as cs,b as si,j as fs}from"./DWqXNLKD.js";import{bw as ps,aL as qi,aM as oi,bx as ds,aV as ms,aU as gs,by as vs,bz as ys,bA as bs,bB as xs,aY as ws,bC as ai}from"./BWYPeTkd.js";import{_ as Ts,p as li,b as ui}from"./B1qTRFF6.js";import{i as Es}from"./CuinI3cC.js";import{u as Ms}from"./CFAYQzRo.js";const sn=0,Ae=1,on=2;function Ss(e,t,n,i,r){Se&&Wr();var s=e,a=Br(),o=Jr,l=Jn,u,h,c,d=(a?Kn:ti)(void 0),p=(a?Kn:ti)(void 0),g=!1;function v(x,T){g=!0,T&&(ei(w),ni(w),ii(o));try{x===Ae&&i&&(h?Kr(h):h=ts(()=>i(s,d))),x!==sn&&u&&rn(u,()=>u=null),x!==Ae&&h&&rn(h,()=>h=null),x!==on&&c&&rn(c,()=>c=null)}finally{T&&(ii(null),ni(null),ei(null),es())}}var w=qr(()=>{if(l===(l=t()))return;let x=Se&&jn(l)===(s.data===$r);if(x&&(s=Yr(),Xr(s),Qn(!1),x=!0),jn(l)){var T=l;g=!1,T.then(O=>{T===l&&(nn(d,O),v(Ae,!0))},O=>{if(T===l)throw nn(p,O),v(on,!0),p.v}),Se||jr(()=>{g||v(sn,!0)})}else nn(d,l),v(Ae,!1);return x&&Qn(!0),()=>l=Jn});Se&&(s=Qr)}function _s(e,t,n){var i=ns(e,t);i&&i.set&&(e[t]=n,is(()=>{e[t]=null}))}let ce=!0,Wi,Ie,Re;const As=1e3,Cs=150,$i=ps(()=>{ce=!0,Wi()},As),Os=(e,t)=>{Re==null||Re(),Wi=t;const n=e>Cs;ce||$i(),ce=!n},Ns=()=>(Ie||(Ie=new Promise(e=>{Re=()=>{Ie=void 0,e()}})),ce||$i(),ce),ba=()=>Ie??Promise.resolve();var Yi={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(e){(function(t,n,i,r){var s=["","webkit","Moz","MS","ms","o"],a=n.createElement("div"),o="function",l=Math.round,u=Math.abs,h=Date.now;function c(f,m,y){return setTimeout(O(f,y),m)}function d(f,m,y){return Array.isArray(f)?(p(f,y[m],y),!0):!1}function p(f,m,y){var b;if(f)if(f.forEach)f.forEach(m,y);else if(f.length!==r)for(b=0;b<f.length;)m.call(y,f[b],b,f),b++;else for(b in f)f.hasOwnProperty(b)&&m.call(y,f[b],b,f)}function g(f,m,y){var b="DEPRECATED METHOD: "+m+`
`+y+` AT 
`;return function(){var M=new Error("get-stack-trace"),S=M&&M.stack?M.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",L=t.console&&(t.console.warn||t.console.log);return L&&L.call(t.console,b,S),f.apply(this,arguments)}}var v;typeof Object.assign!="function"?v=function(m){if(m===r||m===null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(m),b=1;b<arguments.length;b++){var M=arguments[b];if(M!==r&&M!==null)for(var S in M)M.hasOwnProperty(S)&&(y[S]=M[S])}return y}:v=Object.assign;var w=g(function(m,y,b){for(var M=Object.keys(y),S=0;S<M.length;)(!b||b&&m[M[S]]===r)&&(m[M[S]]=y[M[S]]),S++;return m},"extend","Use `assign`."),x=g(function(m,y){return w(m,y,!0)},"merge","Use `assign`.");function T(f,m,y){var b=m.prototype,M;M=f.prototype=Object.create(b),M.constructor=f,M._super=b,y&&v(M,y)}function O(f,m){return function(){return f.apply(m,arguments)}}function _(f,m){return typeof f==o?f.apply(m&&m[0]||r,m):f}function D(f,m){return f===r?m:f}function P(f,m,y){p(X(m),function(b){f.addEventListener(b,y,!1)})}function N(f,m,y){p(X(m),function(b){f.removeEventListener(b,y,!1)})}function C(f,m){for(;f;){if(f==m)return!0;f=f.parentNode}return!1}function R(f,m){return f.indexOf(m)>-1}function X(f){return f.trim().split(/\s+/g)}function U(f,m,y){if(f.indexOf&&!y)return f.indexOf(m);for(var b=0;b<f.length;){if(y&&f[b][y]==m||!y&&f[b]===m)return b;b++}return-1}function F(f){return Array.prototype.slice.call(f,0)}function z(f,m,y){for(var b=[],M=[],S=0;S<f.length;){var L=f[S][m];U(M,L)<0&&b.push(f[S]),M[S]=L,S++}return b=b.sort(function(it,at){return it[m]>at[m]}),b}function H(f,m){for(var y,b,M=m[0].toUpperCase()+m.slice(1),S=0;S<s.length;){if(y=s[S],b=y?y+M:m,b in f)return b;S++}return r}var Y=1;function q(){return Y++}function Q(f){var m=f.ownerDocument||f;return m.defaultView||m.parentWindow||t}var rt=/mobile|tablet|ip(ad|hone|od)|android/i,G="ontouchstart"in t,B=H(t,"PointerEvent")!==r,j=G&&rt.test(navigator.userAgent),st="touch",nt="pen",kt="mouse",Jt="kinect",qe=25,ot=1,Gt=2,J=4,lt=8,me=1,Kt=2,te=4,ee=8,ne=16,Et=Kt|te,Bt=ee|ne,Pn=Et|Bt,kn=["x","y"],ge=["clientX","clientY"];function dt(f,m){var y=this;this.manager=f,this.callback=m,this.element=f.element,this.target=f.options.inputTarget,this.domHandler=function(b){_(f.options.enable,[f])&&y.handler(b)},this.init()}dt.prototype={handler:function(){},init:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(Q(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&N(this.element,this.evEl,this.domHandler),this.evTarget&&N(this.target,this.evTarget,this.domHandler),this.evWin&&N(Q(this.element),this.evWin,this.domHandler)}};function mr(f){var m,y=f.options.inputClass;return y?m=y:B?m=$e:j?m=be:G?m=Ye:m=ye,new m(f,gr)}function gr(f,m,y){var b=y.pointers.length,M=y.changedPointers.length,S=m&ot&&b-M===0,L=m&(J|lt)&&b-M===0;y.isFirst=!!S,y.isFinal=!!L,S&&(f.session={}),y.eventType=m,vr(f,y),f.emit("hammer.input",y),f.recognize(y),f.session.prevInput=y}function vr(f,m){var y=f.session,b=m.pointers,M=b.length;y.firstInput||(y.firstInput=In(m)),M>1&&!y.firstMultiple?y.firstMultiple=In(m):M===1&&(y.firstMultiple=!1);var S=y.firstInput,L=y.firstMultiple,tt=L?L.center:S.center,it=m.center=Rn(b);m.timeStamp=h(),m.deltaTime=m.timeStamp-S.timeStamp,m.angle=We(tt,it),m.distance=ve(tt,it),yr(y,m),m.offsetDirection=Dn(m.deltaX,m.deltaY);var at=Vn(m.deltaTime,m.deltaX,m.deltaY);m.overallVelocityX=at.x,m.overallVelocityY=at.y,m.overallVelocity=u(at.x)>u(at.y)?at.x:at.y,m.scale=L?wr(L.pointers,b):1,m.rotation=L?xr(L.pointers,b):0,m.maxPointers=y.prevInput?m.pointers.length>y.prevInput.maxPointers?m.pointers.length:y.prevInput.maxPointers:m.pointers.length,br(y,m);var St=f.element;C(m.srcEvent.target,St)&&(St=m.srcEvent.target),m.target=St}function yr(f,m){var y=m.center,b=f.offsetDelta||{},M=f.prevDelta||{},S=f.prevInput||{};(m.eventType===ot||S.eventType===J)&&(M=f.prevDelta={x:S.deltaX||0,y:S.deltaY||0},b=f.offsetDelta={x:y.x,y:y.y}),m.deltaX=M.x+(y.x-b.x),m.deltaY=M.y+(y.y-b.y)}function br(f,m){var y=f.lastInterval||m,b=m.timeStamp-y.timeStamp,M,S,L,tt;if(m.eventType!=lt&&(b>qe||y.velocity===r)){var it=m.deltaX-y.deltaX,at=m.deltaY-y.deltaY,St=Vn(b,it,at);S=St.x,L=St.y,M=u(St.x)>u(St.y)?St.x:St.y,tt=Dn(it,at),f.lastInterval=m}else M=y.velocity,S=y.velocityX,L=y.velocityY,tt=y.direction;m.velocity=M,m.velocityX=S,m.velocityY=L,m.direction=tt}function In(f){for(var m=[],y=0;y<f.pointers.length;)m[y]={clientX:l(f.pointers[y].clientX),clientY:l(f.pointers[y].clientY)},y++;return{timeStamp:h(),pointers:m,center:Rn(m),deltaX:f.deltaX,deltaY:f.deltaY}}function Rn(f){var m=f.length;if(m===1)return{x:l(f[0].clientX),y:l(f[0].clientY)};for(var y=0,b=0,M=0;M<m;)y+=f[M].clientX,b+=f[M].clientY,M++;return{x:l(y/m),y:l(b/m)}}function Vn(f,m,y){return{x:m/f||0,y:y/f||0}}function Dn(f,m){return f===m?me:u(f)>=u(m)?f<0?Kt:te:m<0?ee:ne}function ve(f,m,y){y||(y=kn);var b=m[y[0]]-f[y[0]],M=m[y[1]]-f[y[1]];return Math.sqrt(b*b+M*M)}function We(f,m,y){y||(y=kn);var b=m[y[0]]-f[y[0]],M=m[y[1]]-f[y[1]];return Math.atan2(M,b)*180/Math.PI}function xr(f,m){return We(m[1],m[0],ge)+We(f[1],f[0],ge)}function wr(f,m){return ve(m[0],m[1],ge)/ve(f[0],f[1],ge)}var Tr={mousedown:ot,mousemove:Gt,mouseup:J},Er="mousedown",Mr="mousemove mouseup";function ye(){this.evEl=Er,this.evWin=Mr,this.pressed=!1,dt.apply(this,arguments)}T(ye,dt,{handler:function(m){var y=Tr[m.type];y&ot&&m.button===0&&(this.pressed=!0),y&Gt&&m.which!==1&&(y=J),this.pressed&&(y&J&&(this.pressed=!1),this.callback(this.manager,y,{pointers:[m],changedPointers:[m],pointerType:kt,srcEvent:m}))}});var Sr={pointerdown:ot,pointermove:Gt,pointerup:J,pointercancel:lt,pointerout:lt},_r={2:st,3:nt,4:kt,5:Jt},Ln="pointerdown",zn="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ln="MSPointerDown",zn="MSPointerMove MSPointerUp MSPointerCancel");function $e(){this.evEl=Ln,this.evWin=zn,dt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T($e,dt,{handler:function(m){var y=this.store,b=!1,M=m.type.toLowerCase().replace("ms",""),S=Sr[M],L=_r[m.pointerType]||m.pointerType,tt=L==st,it=U(y,m.pointerId,"pointerId");S&ot&&(m.button===0||tt)?it<0&&(y.push(m),it=y.length-1):S&(J|lt)&&(b=!0),!(it<0)&&(y[it]=m,this.callback(this.manager,S,{pointers:y,changedPointers:[m],pointerType:L,srcEvent:m}),b&&y.splice(it,1))}});var Ar={touchstart:ot,touchmove:Gt,touchend:J,touchcancel:lt},Cr="touchstart",Or="touchstart touchmove touchend touchcancel";function Fn(){this.evTarget=Cr,this.evWin=Or,this.started=!1,dt.apply(this,arguments)}T(Fn,dt,{handler:function(m){var y=Ar[m.type];if(y===ot&&(this.started=!0),!!this.started){var b=Nr.call(this,m,y);y&(J|lt)&&b[0].length-b[1].length===0&&(this.started=!1),this.callback(this.manager,y,{pointers:b[0],changedPointers:b[1],pointerType:st,srcEvent:m})}}});function Nr(f,m){var y=F(f.touches),b=F(f.changedTouches);return m&(J|lt)&&(y=z(y.concat(b),"identifier")),[y,b]}var Pr={touchstart:ot,touchmove:Gt,touchend:J,touchcancel:lt},kr="touchstart touchmove touchend touchcancel";function be(){this.evTarget=kr,this.targetIds={},dt.apply(this,arguments)}T(be,dt,{handler:function(m){var y=Pr[m.type],b=Ir.call(this,m,y);b&&this.callback(this.manager,y,{pointers:b[0],changedPointers:b[1],pointerType:st,srcEvent:m})}});function Ir(f,m){var y=F(f.touches),b=this.targetIds;if(m&(ot|Gt)&&y.length===1)return b[y[0].identifier]=!0,[y,y];var M,S,L=F(f.changedTouches),tt=[],it=this.target;if(S=y.filter(function(at){return C(at.target,it)}),m===ot)for(M=0;M<S.length;)b[S[M].identifier]=!0,M++;for(M=0;M<L.length;)b[L[M].identifier]&&tt.push(L[M]),m&(J|lt)&&delete b[L[M].identifier],M++;if(tt.length)return[z(S.concat(tt),"identifier"),tt]}var Rr=2500,Zn=25;function Ye(){dt.apply(this,arguments);var f=O(this.handler,this);this.touch=new be(this.manager,f),this.mouse=new ye(this.manager,f),this.primaryTouch=null,this.lastTouches=[]}T(Ye,dt,{handler:function(m,y,b){var M=b.pointerType==st,S=b.pointerType==kt;if(!(S&&b.sourceCapabilities&&b.sourceCapabilities.firesTouchEvents)){if(M)Vr.call(this,y,b);else if(S&&Dr.call(this,b))return;this.callback(m,y,b)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Vr(f,m){f&ot?(this.primaryTouch=m.changedPointers[0].identifier,Hn.call(this,m)):f&(J|lt)&&Hn.call(this,m)}function Hn(f){var m=f.changedPointers[0];if(m.identifier===this.primaryTouch){var y={x:m.clientX,y:m.clientY};this.lastTouches.push(y);var b=this.lastTouches,M=function(){var S=b.indexOf(y);S>-1&&b.splice(S,1)};setTimeout(M,Rr)}}function Dr(f){for(var m=f.srcEvent.clientX,y=f.srcEvent.clientY,b=0;b<this.lastTouches.length;b++){var M=this.lastTouches[b],S=Math.abs(m-M.x),L=Math.abs(y-M.y);if(S<=Zn&&L<=Zn)return!0}return!1}var Un=H(a.style,"touchAction"),Gn=Un!==r,Bn="compute",qn="auto",Xe="manipulation",qt="none",ie="pan-x",re="pan-y",xe=zr();function je(f,m){this.manager=f,this.set(m)}je.prototype={set:function(f){f==Bn&&(f=this.compute()),Gn&&this.manager.element.style&&xe[f]&&(this.manager.element.style[Un]=f),this.actions=f.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var f=[];return p(this.manager.recognizers,function(m){_(m.options.enable,[m])&&(f=f.concat(m.getTouchAction()))}),Lr(f.join(" "))},preventDefaults:function(f){var m=f.srcEvent,y=f.offsetDirection;if(this.manager.session.prevented){m.preventDefault();return}var b=this.actions,M=R(b,qt)&&!xe[qt],S=R(b,re)&&!xe[re],L=R(b,ie)&&!xe[ie];if(M){var tt=f.pointers.length===1,it=f.distance<2,at=f.deltaTime<250;if(tt&&it&&at)return}if(!(L&&S)&&(M||S&&y&Et||L&&y&Bt))return this.preventSrc(m)},preventSrc:function(f){this.manager.session.prevented=!0,f.preventDefault()}};function Lr(f){if(R(f,qt))return qt;var m=R(f,ie),y=R(f,re);return m&&y?qt:m||y?m?ie:re:R(f,Xe)?Xe:qn}function zr(){if(!Gn)return!1;var f={},m=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(y){f[y]=m?t.CSS.supports("touch-action",y):!0}),f}var we=1,mt=2,Xt=4,It=8,Ct=It,se=16,Mt=32;function Ot(f){this.options=v({},this.defaults,f||{}),this.id=q(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=we,this.simultaneous={},this.requireFail=[]}Ot.prototype={defaults:{},set:function(f){return v(this.options,f),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(f){if(d(f,"recognizeWith",this))return this;var m=this.simultaneous;return f=Te(f,this),m[f.id]||(m[f.id]=f,f.recognizeWith(this)),this},dropRecognizeWith:function(f){return d(f,"dropRecognizeWith",this)?this:(f=Te(f,this),delete this.simultaneous[f.id],this)},requireFailure:function(f){if(d(f,"requireFailure",this))return this;var m=this.requireFail;return f=Te(f,this),U(m,f)===-1&&(m.push(f),f.requireFailure(this)),this},dropRequireFailure:function(f){if(d(f,"dropRequireFailure",this))return this;f=Te(f,this);var m=U(this.requireFail,f);return m>-1&&this.requireFail.splice(m,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(f){return!!this.simultaneous[f.id]},emit:function(f){var m=this,y=this.state;function b(M){m.manager.emit(M,f)}y<It&&b(m.options.event+Wn(y)),b(m.options.event),f.additionalEvent&&b(f.additionalEvent),y>=It&&b(m.options.event+Wn(y))},tryEmit:function(f){if(this.canEmit())return this.emit(f);this.state=Mt},canEmit:function(){for(var f=0;f<this.requireFail.length;){if(!(this.requireFail[f].state&(Mt|we)))return!1;f++}return!0},recognize:function(f){var m=v({},f);if(!_(this.options.enable,[this,m])){this.reset(),this.state=Mt;return}this.state&(Ct|se|Mt)&&(this.state=we),this.state=this.process(m),this.state&(mt|Xt|It|se)&&this.tryEmit(m)},process:function(f){},getTouchAction:function(){},reset:function(){}};function Wn(f){return f&se?"cancel":f&It?"end":f&Xt?"move":f&mt?"start":""}function $n(f){return f==ne?"down":f==ee?"up":f==Kt?"left":f==te?"right":""}function Te(f,m){var y=m.manager;return y?y.get(f):f}function vt(){Ot.apply(this,arguments)}T(vt,Ot,{defaults:{pointers:1},attrTest:function(f){var m=this.options.pointers;return m===0||f.pointers.length===m},process:function(f){var m=this.state,y=f.eventType,b=m&(mt|Xt),M=this.attrTest(f);return b&&(y&lt||!M)?m|se:b||M?y&J?m|It:m&mt?m|Xt:mt:Mt}});function Ee(){vt.apply(this,arguments),this.pX=null,this.pY=null}T(Ee,vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pn},getTouchAction:function(){var f=this.options.direction,m=[];return f&Et&&m.push(re),f&Bt&&m.push(ie),m},directionTest:function(f){var m=this.options,y=!0,b=f.distance,M=f.direction,S=f.deltaX,L=f.deltaY;return M&m.direction||(m.direction&Et?(M=S===0?me:S<0?Kt:te,y=S!=this.pX,b=Math.abs(f.deltaX)):(M=L===0?me:L<0?ee:ne,y=L!=this.pY,b=Math.abs(f.deltaY))),f.direction=M,y&&b>m.threshold&&M&m.direction},attrTest:function(f){return vt.prototype.attrTest.call(this,f)&&(this.state&mt||!(this.state&mt)&&this.directionTest(f))},emit:function(f){this.pX=f.deltaX,this.pY=f.deltaY;var m=$n(f.direction);m&&(f.additionalEvent=this.options.event+m),this._super.emit.call(this,f)}});function Qe(){vt.apply(this,arguments)}T(Qe,vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[qt]},attrTest:function(f){return this._super.attrTest.call(this,f)&&(Math.abs(f.scale-1)>this.options.threshold||this.state&mt)},emit:function(f){if(f.scale!==1){var m=f.scale<1?"in":"out";f.additionalEvent=this.options.event+m}this._super.emit.call(this,f)}});function Je(){Ot.apply(this,arguments),this._timer=null,this._input=null}T(Je,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qn]},process:function(f){var m=this.options,y=f.pointers.length===m.pointers,b=f.distance<m.threshold,M=f.deltaTime>m.time;if(this._input=f,!b||!y||f.eventType&(J|lt)&&!M)this.reset();else if(f.eventType&ot)this.reset(),this._timer=c(function(){this.state=Ct,this.tryEmit()},m.time,this);else if(f.eventType&J)return Ct;return Mt},reset:function(){clearTimeout(this._timer)},emit:function(f){this.state===Ct&&(f&&f.eventType&J?this.manager.emit(this.options.event+"up",f):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}});function Ke(){vt.apply(this,arguments)}T(Ke,vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[qt]},attrTest:function(f){return this._super.attrTest.call(this,f)&&(Math.abs(f.rotation)>this.options.threshold||this.state&mt)}});function tn(){vt.apply(this,arguments)}T(tn,vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Et|Bt,pointers:1},getTouchAction:function(){return Ee.prototype.getTouchAction.call(this)},attrTest:function(f){var m=this.options.direction,y;return m&(Et|Bt)?y=f.overallVelocity:m&Et?y=f.overallVelocityX:m&Bt&&(y=f.overallVelocityY),this._super.attrTest.call(this,f)&&m&f.offsetDirection&&f.distance>this.options.threshold&&f.maxPointers==this.options.pointers&&u(y)>this.options.velocity&&f.eventType&J},emit:function(f){var m=$n(f.offsetDirection);m&&this.manager.emit(this.options.event+m,f),this.manager.emit(this.options.event,f)}});function Me(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T(Me,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xe]},process:function(f){var m=this.options,y=f.pointers.length===m.pointers,b=f.distance<m.threshold,M=f.deltaTime<m.time;if(this.reset(),f.eventType&ot&&this.count===0)return this.failTimeout();if(b&&M&&y){if(f.eventType!=J)return this.failTimeout();var S=this.pTime?f.timeStamp-this.pTime<m.interval:!0,L=!this.pCenter||ve(this.pCenter,f.center)<m.posThreshold;this.pTime=f.timeStamp,this.pCenter=f.center,!L||!S?this.count=1:this.count+=1,this._input=f;var tt=this.count%m.taps;if(tt===0)return this.hasRequireFailures()?(this._timer=c(function(){this.state=Ct,this.tryEmit()},m.interval,this),mt):Ct}return Mt},failTimeout:function(){return this._timer=c(function(){this.state=Mt},this.options.interval,this),Mt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ct&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Rt(f,m){return m=m||{},m.recognizers=D(m.recognizers,Rt.defaults.preset),new en(f,m)}Rt.VERSION="2.0.7",Rt.defaults={domEvents:!1,touchAction:Bn,enable:!0,inputTarget:null,inputClass:null,preset:[[Ke,{enable:!1}],[Qe,{enable:!1},["rotate"]],[tn,{direction:Et}],[Ee,{direction:Et},["swipe"]],[Me],[Me,{event:"doubletap",taps:2},["tap"]],[Je]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Fr=1,Yn=2;function en(f,m){this.options=v({},Rt.defaults,m||{}),this.options.inputTarget=this.options.inputTarget||f,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=f,this.input=mr(this),this.touchAction=new je(this,this.options.touchAction),Xn(this,!0),p(this.options.recognizers,function(y){var b=this.add(new y[0](y[1]));y[2]&&b.recognizeWith(y[2]),y[3]&&b.requireFailure(y[3])},this)}en.prototype={set:function(f){return v(this.options,f),f.touchAction&&this.touchAction.update(),f.inputTarget&&(this.input.destroy(),this.input.target=f.inputTarget,this.input.init()),this},stop:function(f){this.session.stopped=f?Yn:Fr},recognize:function(f){var m=this.session;if(!m.stopped){this.touchAction.preventDefaults(f);var y,b=this.recognizers,M=m.curRecognizer;(!M||M&&M.state&Ct)&&(M=m.curRecognizer=null);for(var S=0;S<b.length;)y=b[S],m.stopped!==Yn&&(!M||y==M||y.canRecognizeWith(M))?y.recognize(f):y.reset(),!M&&y.state&(mt|Xt|It)&&(M=m.curRecognizer=y),S++}},get:function(f){if(f instanceof Ot)return f;for(var m=this.recognizers,y=0;y<m.length;y++)if(m[y].options.event==f)return m[y];return null},add:function(f){if(d(f,"add",this))return this;var m=this.get(f.options.event);return m&&this.remove(m),this.recognizers.push(f),f.manager=this,this.touchAction.update(),f},remove:function(f){if(d(f,"remove",this))return this;if(f=this.get(f),f){var m=this.recognizers,y=U(m,f);y!==-1&&(m.splice(y,1),this.touchAction.update())}return this},on:function(f,m){if(f!==r&&m!==r){var y=this.handlers;return p(X(f),function(b){y[b]=y[b]||[],y[b].push(m)}),this}},off:function(f,m){if(f!==r){var y=this.handlers;return p(X(f),function(b){m?y[b]&&y[b].splice(U(y[b],m),1):delete y[b]}),this}},emit:function(f,m){this.options.domEvents&&Zr(f,m);var y=this.handlers[f]&&this.handlers[f].slice();if(!(!y||!y.length)){m.type=f,m.preventDefault=function(){m.srcEvent.preventDefault()};for(var b=0;b<y.length;)y[b](m),b++}},destroy:function(){this.element&&Xn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Xn(f,m){var y=f.element;if(y.style){var b;p(f.options.cssProps,function(M,S){b=H(y.style,S),m?(f.oldCssProps[b]=y.style[b],y.style[b]=M):y.style[b]=f.oldCssProps[b]||""}),m||(f.oldCssProps={})}}function Zr(f,m){var y=n.createEvent("Event");y.initEvent(f,!0,!0),y.gesture=m,m.target.dispatchEvent(y)}v(Rt,{INPUT_START:ot,INPUT_MOVE:Gt,INPUT_END:J,INPUT_CANCEL:lt,STATE_POSSIBLE:we,STATE_BEGAN:mt,STATE_CHANGED:Xt,STATE_ENDED:It,STATE_RECOGNIZED:Ct,STATE_CANCELLED:se,STATE_FAILED:Mt,DIRECTION_NONE:me,DIRECTION_LEFT:Kt,DIRECTION_RIGHT:te,DIRECTION_UP:ee,DIRECTION_DOWN:ne,DIRECTION_HORIZONTAL:Et,DIRECTION_VERTICAL:Bt,DIRECTION_ALL:Pn,Manager:en,Input:dt,TouchAction:je,TouchInput:be,MouseInput:ye,PointerEventInput:$e,TouchMouseInput:Ye,SingleTouchInput:Fn,Recognizer:Ot,AttrRecognizer:vt,Tap:Me,Pan:Ee,Swipe:tn,Pinch:Qe,Rotate:Ke,Press:Je,on:P,off:N,each:p,merge:x,extend:w,assign:v,inherit:T,bindFn:O,prefixed:H});var Hr=typeof t<"u"?t:typeof self<"u"?self:{};Hr.Hammer=Rt,e.exports?e.exports=Rt:t[i]=Rt})(window,document,"Hammer")})(Yi);var Ps=Yi.exports;const ks=qi(Ps);var Is=function(){var e="",t,n,i,r=[],s={passive:!0},a={passive:!1};window.addEventListener?(t="addEventListener",n="removeEventListener"):(t="attachEvent",n="detachEvent",e="on"),i="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function o(g,v){var w=function(x){!x&&(x=window.event);var T={originalEvent:x,target:x.target||x.srcElement,type:"wheel",deltaMode:x.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){x.preventDefault?x.preventDefault():x.returnValue=!1}};return i=="mousewheel"?(T.deltaY=-.025*x.wheelDelta,x.wheelDeltaX&&(T.deltaX=-.025*x.wheelDeltaX)):T.deltaY=x.detail,v(T)};return r.push({element:g,fn:w}),w}function l(g){for(var v=0;v<r.length;v++)if(r[v].element===g)return r[v].fn;return function(){}}function u(g){for(var v=0;v<r.length;v++)if(r[v].element===g)return r.splice(v,1)}function h(g,v,w,x){var T;i==="wheel"?T=w:T=o(g,w),g[t](e+v,T,x?s:a)}function c(g,v,w,x){var T;i==="wheel"?T=w:T=l(g),g[n](e+v,T,x?s:a),u(g)}function d(g,v,w){h(g,i,v,w),i=="DOMMouseScroll"&&h(g,"MozMousePixelScroll",v,w)}function p(g,v,w){c(g,i,v,w),i=="DOMMouseScroll"&&c(g,"MozMousePixelScroll",v,w)}return{on:d,off:p}}(),Sn={extend:function(e,t){e=e||{};for(var n in t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&typeof e=="object"&&e!==null&&e.nodeType===1&&typeof e.nodeName=="string"},isObject:function(e){return Object.prototype.toString.call(e)==="[object Object]"},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else if(typeof e=="string"||e instanceof String){if(t=document.querySelector(e),!t)throw new Error("Provided selector did not find any elements. Selector: "+e)}else throw new Error("Provided selector is not an HTML object nor String");if(t.tagName.toLowerCase()==="svg")n=t;else if(t.tagName.toLowerCase()==="object")n=t.contentDocument.documentElement;else if(t.tagName.toLowerCase()==="embed")n=t.getSVGDocument().documentElement;else throw t.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(e.clientX===void 0||e.clientX===null)if(e.clientX=0,e.clientY=0,e.touches!==void 0&&e.touches.length){if(e.touches[0].clientX!==void 0)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(e.touches[0].pageX!==void 0){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else e.originalEvent!==void 0&&e.originalEvent.clientX!==void 0&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(e.detail===2)return!0;if(t!=null){var n=e.timeStamp-t.timeStamp,i=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(e,t,n){var i=this,r,s,a,o=null,l=0;n||(n={});var u=function(){l=n.leading===!1?0:i.now(),o=null,a=e.apply(r,s),o||(r=s=null)};return function(){var h=i.now();!l&&n.leading===!1&&(l=h);var c=t-(h-l);return r=this,s=arguments,c<=0||c>t?(clearTimeout(o),o=null,l=h,a=e.apply(r,s),o||(r=s=null)):!o&&n.trailing!==!1&&(o=setTimeout(u,c)),a}},createRequestAnimationFrame:function(e){var t=null;return e!=="auto"&&e<60&&e>1&&(t=Math.floor(1e3/e)),t===null?window.requestAnimationFrame||hi(33):hi(t)}};function hi(e){return function(t){window.setTimeout(t,e)}}var an=Sn,Xi="unknown";document.documentMode&&(Xi="ie");var _n={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(an.isElement(t)?n=t:n=e.querySelector(t),!n){var i=Array.prototype.slice.call(e.childNodes||e.children).filter(function(l){return l.nodeName!=="defs"&&l.nodeName!=="#text"});i.length===1&&i[0].nodeName==="g"&&i[0].getAttribute("transform")===null&&(n=i[0])}if(!n){var r="viewport-"+new Date().toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",r);var s=e.childNodes||e.children;if(s&&s.length>0)for(var a=s.length;a>0;a--)s[s.length-a].nodeName!=="defs"&&n.appendChild(s[s.length-a]);e.appendChild(n)}var o=[];return n.getAttribute("class")&&(o=n.getAttribute("class").split(" ")),~o.indexOf("svg-pan-zoom_viewport")||(o.push("svg-pan-zoom_viewport"),n.setAttribute("class",o.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),e.parentNode!==null){var t=e.getAttribute("style")||"";t.toLowerCase().indexOf("overflow")===-1&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:an.throttle(function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var i=e[n];i.parentNode.insertBefore(i,i)}},oi?oi.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var i=this,r="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",r),"transform"in e.style?e.style.transform=r:"-ms-transform"in e.style?e.style["-ms-transform"]=r:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=r),Xi==="ie"&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout(function(){i.refreshDefsGlobal()},i.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return an.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var i=e.createSVGPoint();return i.x=t,i.y=n,i}},ht=_n,Rs={enable:function(e){var t=e.svg.querySelector("defs");t||(t=document.createElementNS(ht.svgNS,"defs"),e.svg.appendChild(t));var n=t.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var i=document.createElementNS(ht.svgNS,"style");i.setAttribute("id","svg-pan-zoom-controls-styles"),i.setAttribute("type","text/css"),i.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(i)}var r=document.createElementNS(ht.svgNS,"g");r.setAttribute("id","svg-pan-zoom-controls"),r.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),r.setAttribute("class","svg-pan-zoom-control"),r.appendChild(this._createZoomIn(e)),r.appendChild(this._createZoomReset(e)),r.appendChild(this._createZoomOut(e)),e.svg.appendChild(r),e.controlIcons=r},_createZoomIn:function(e){var t=document.createElementNS(ht.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomIn()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(ht.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var i=document.createElementNS(ht.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i),t},_createZoomReset:function(e){var t=document.createElementNS(ht.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().reset()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().reset()},!1);var n=document.createElementNS(ht.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var i=document.createElementNS(ht.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i);var r=document.createElementNS(ht.svgNS,"path");return r.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),r.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(r),t},_createZoomOut:function(e){var t=document.createElementNS(ht.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",function(){e.getPublicInstance().zoomOut()},!1),t.addEventListener("touchstart",function(){e.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(ht.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var i=document.createElementNS(ht.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(i),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}},Vs=_n,Ht=Sn,K=function(e,t){this.init(e,t)};K.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=Ht.proxy(this.updateCTM,this),this.requestAnimationFrame=Ht.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()};K.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter(function(i){return i}).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()};K.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height};K.prototype.getViewBox=function(){return Ht.extend({},this.viewBox)};K.prototype.processCTM=function(){var e=this.getCTM();if(this.options.fit||this.options.contain){var t;this.options.fit?t=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):t=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t}if(this.options.center){var n=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*e.a)*.5,i=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*e.a)*.5;e.e=n,e.f=i}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e};K.prototype.getOriginalState=function(){return Ht.extend({},this.originalState)};K.prototype.getState=function(){return Ht.extend({},this.activeState)};K.prototype.getZoom=function(){return this.activeState.zoom};K.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom};K.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom};K.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}};K.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e};K.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))===!1?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),r=!1,s=!1;i===!1?(e.e=this.getPan().x,e.f=this.getPan().y,r=s=!0):Ht.isObject(i)&&(i.x===!1?(e.e=this.getPan().x,r=!0):Ht.isNumber(i.x)&&(e.e=i.x),i.y===!1?(e.f=this.getPan().y,s=!0):Ht.isNumber(i.y)&&(e.f=i.y)),r&&s||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}};K.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a};K.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f};K.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f};K.prototype.pendingUpdate=!1;K.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))};K.prototype.updateCTM=function(){var e=this.getCTM();Vs.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)};var Ds=function(e,t){return new K(e,t)},ji=Is,gn=Rs,wt=Sn,At=_n,Ls=Ds,Z=function(e,t){this.init(e,t)},zs={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},Qi={passive:!0};Z.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),At.setupSvgAttributes(this.svg),this.options=wt.extend(wt.extend({},zs),t),this.state="none";var i=At.getBoundingClientRectNormalized(e);this.width=i.width,this.height=i.height,this.viewport=Ls(At.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(s,a){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(s,a)},onZoom:function(s){if(n.viewport&&n.options.onZoom)return n.options.onZoom(s)},beforePan:function(s,a){if(n.viewport&&n.options.beforePan)return n.options.beforePan(s,a)},onPan:function(s){if(n.viewport&&n.options.onPan)return n.options.onPan(s)},onUpdatedCTM:function(s){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(s)}});var r=this.getPublicInstance();r.setBeforeZoom(this.options.beforeZoom),r.setOnZoom(this.options.onZoom),r.setBeforePan(this.options.beforePan),r.setOnPan(this.options.onPan),r.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&gn.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()};Z.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={mousedown:function(s){var a=e.handleMouseDown(s,t);return t=s,a},touchstart:function(s){var a=e.handleMouseDown(s,t);return t=s,a},mouseup:function(s){return e.handleMouseUp(s)},touchend:function(s){return e.handleMouseUp(s)},mousemove:function(s){return e.handleMouseMove(s)},touchmove:function(s){return e.handleMouseMove(s)},mouseleave:function(s){return e.handleMouseUp(s)},touchleave:function(s){return e.handleMouseUp(s)},touchcancel:function(s){return e.handleMouseUp(s)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var r in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(r,this.eventListeners[r],this.options.preventMouseEventsDefault?!1:Qi);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())};Z.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(n){return e.handleMouseWheel(n)};var t=!this.options.preventMouseEventsDefault;ji.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}};Z.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;ji.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}};Z.prototype.handleMouseWheel=function(e){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&e.deltaMode===0&&e.wheelDelta&&(t=e.deltaY===0?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/i;var r=this.svg.getScreenCTM().inverse(),s=At.getEventPoint(e,this.svg).matrixTransform(r),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(a,s)}};Z.prototype.zoomAtPoint=function(e,t,n){var i=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,e)),e=e/this.getZoom()):this.getZoom()*e<this.options.minZoom*i.zoom?e=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*i.zoom&&(e=this.options.maxZoom*i.zoom/this.getZoom());var r=this.viewport.getCTM(),s=t.matrixTransform(r.inverse()),a=this.svg.createSVGMatrix().translate(s.x,s.y).scale(e).translate(-s.x,-s.y),o=r.multiply(a);o.a!==r.a&&this.viewport.setCTM(o)};Z.prototype.zoom=function(e,t){this.zoomAtPoint(e,At.getSvgCenterPoint(this.svg,this.width,this.height),t)};Z.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)};Z.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),wt.getType(t)!=="SVGPoint")if("x"in t&&"y"in t)t=At.createSVGPoint(this.svg,t.x,t.y);else throw new Error("Given point is invalid");this.zoomAtPoint(e,t,n)};Z.prototype.getZoom=function(){return this.viewport.getZoom()};Z.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()};Z.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom};Z.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)};Z.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())};Z.prototype.reset=function(){this.resetZoom(),this.resetPan()};Z.prototype.handleDblClick=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled){var t=e.target.getAttribute("class")||"";if(t.indexOf("svg-pan-zoom-control")>-1)return!1}var n;e.shiftKey?n=1/((1+this.options.zoomScaleSensitivity)*2):n=(1+this.options.zoomScaleSensitivity)*2;var i=At.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,i)};Z.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),wt.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&wt.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=At.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))};Z.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var t=At.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}};Z.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.state==="pan"&&(this.state="none")};Z.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)};Z.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)};Z.prototype.center=function(){var e=this.viewport.getViewBox(),t=(this.width-(e.width+e.x*2)*this.getZoom())*.5,n=(this.height-(e.height+e.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:t,y:n})};Z.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()};Z.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)};Z.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)};Z.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}};Z.prototype.resize=function(){var e=At.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())};Z.prototype.destroy=function(){var e=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var t in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],this.options.preventMouseEventsDefault?!1:Qi);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),Dt=Dt.filter(function(n){return n.svg!==e.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}};Z.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=t===null?null:wt.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=t===null?null:wt.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,gn.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,gn.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=t===null?null:wt.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=t===null?null:wt.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=t===null?null:wt.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var Dt=[],Fs=function(e,t){var n=wt.getSvg(e);if(n===null)return null;for(var i=Dt.length-1;i>=0;i--)if(Dt[i].svg===n)return Dt[i].instance.getPublicInstance();return Dt.push({svg:n,instance:new Z(n,t)}),Dt[Dt.length-1].instance.getPublicInstance()},Zs=Fs;const Hs=qi(Zs);class Us{constructor(){Vt(this,"pan");Vt(this,"zoom");Vt(this,"pzoom");Vt(this,"isDirty",!1);Vt(this,"resizeObserver");Vt(this,"isPanEnabled");Vt(this,"onPanZoomChange");this.isPanEnabled=!0,this.resizeObserver=new ResizeObserver(()=>{this.resize(),this.isDirty||this.reset()})}updateElement(t,{pan:n,zoom:i}){var s;(s=this.pzoom)==null||s.destroy();let r;this.pzoom=Hs(t,{center:!0,controlIconsEnabled:!1,customEventsHandler:{haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(a){const o=a.instance;let l=1,u=0,h=0;r=new ks(a.svgElement);const c=()=>{u=0,h=0},d=p=>{o.panBy({x:p.deltaX-u,y:p.deltaY-h}),u=p.deltaX,h=p.deltaY};r.get("pinch").set({enable:!0}),r.on("panstart panmove",function(p){p.type==="panstart"&&c(),d(p)}),r.on("pinchstart pinchmove",function(p){p.type==="pinchstart"&&(l=o.getZoom(),c()),o.zoomAtPoint(l*p.scale,{x:p.center.x,y:p.center.y}),d(p)}),a.svgElement.addEventListener("touchmove",function(p){p.preventDefault()})},destroy:function(){r==null||r.destroy()}},fit:!0,maxZoom:12,minZoom:.2,onPan:a=>{var o,l;this.pan=a,this.zoom=(o=this.pzoom)==null?void 0:o.getZoom(),this.isDirty=!0,this.zoom&&((l=this.onPanZoomChange)==null||l.call(this,this.pan,this.zoom))},onZoom:a=>{var o,l;this.zoom=a,this.pan=(o=this.pzoom)==null?void 0:o.getPan(),this.isDirty=!0,this.pan&&((l=this.onPanZoomChange)==null||l.call(this,this.pan,this.zoom))},panEnabled:!0,zoomEnabled:!0}),this.pzoom.disableDblClickZoom(),this.resizeObserver.disconnect(),this.resizeObserver.observe(t),n&&i&&Number.isFinite(i)&&Number.isFinite(n.x)&&Number.isFinite(n.y)?this.restorePanZoom(n,i):this.reset(),this.isPanEnabled?(this.pzoom.enablePan(),this.pzoom.enableZoom()):(this.pzoom.disableZoom(),this.pzoom.disablePan()),n===void 0&&i===void 0&&this.reset()}restorePanZoom(t,n){if(!this.pzoom){console.error("PanZoomState.restorePanZoom: pzoom is not initialized");return}this.pzoom.zoom(n),this.pzoom.pan(t)}resize(){var t;(t=this.pzoom)==null||t.resize(),this.isDirty||this.reset()}zoomIn(){var t;(t=this.pzoom)==null||t.zoomIn()}zoomOut(){var t;(t=this.pzoom)==null||t.zoomOut()}reset(){var t,n;(t=this.pzoom)==null||t.reset(),(n=this.pzoom)==null||n.zoom(.875),this.isDirty=!1}}function Gs(e){return/fa[blrs]?:fa-[\w-]+/g.test(e)}function Bs(e,t){Hi(t,!1);let n=Ts(()=>import("./95Uf3Myd.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),i=(async()=>{await n,await Promise.allSettled(Array.from(document.fonts,o=>o.load()))})();async function r(){return await i}Es();var s=us(),a=Ui(s);return Ss(a,()=>n,null,(o,l)=>{gt(l).default(o,{})}),Bi(e,s),_s(t,"waitForFontAwesomeToLoad",r),Gi({waitForFontAwesomeToLoad:r})}function vn(e,t,n){if(e&&e.length){const[i,r]=t,s=Math.PI/180*n,a=Math.cos(s),o=Math.sin(s);for(const l of e){const[u,h]=l;l[0]=(u-i)*a-(h-r)*o+i,l[1]=(u-i)*o+(h-r)*a+r}}}function qs(e,t,n){const i=[];e.forEach(r=>i.push(...r)),vn(i,t,n)}function Ws(e,t){return e[0]===t[0]&&e[1]===t[1]}function $s(e,t,n,i=1){const r=n,s=Math.max(t,.1),a=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(r)for(const u of a)vn(u,o,r);const l=Ys(a,s,i);if(r){for(const u of a)vn(u,o,-r);qs(l,o,-r)}return l}function Ys(e,t,n){const i=[];for(const u of e){const h=[...u];Ws(h[0],h[h.length-1])||h.push([h[0][0],h[0][1]]),h.length>2&&i.push(h)}const r=[];t=Math.max(t,.1);const s=[];for(const u of i)for(let h=0;h<u.length-1;h++){const c=u[h],d=u[h+1];if(c[1]!==d[1]){const p=Math.min(c[1],d[1]);s.push({ymin:p,ymax:Math.max(c[1],d[1]),x:p===c[1]?c[0]:d[0],islope:(d[0]-c[0])/(d[1]-c[1])})}}if(s.sort((u,h)=>u.ymin<h.ymin?-1:u.ymin>h.ymin?1:u.x<h.x?-1:u.x>h.x?1:u.ymax===h.ymax?0:(u.ymax-h.ymax)/Math.abs(u.ymax-h.ymax)),!s.length)return r;let a=[],o=s[0].ymin,l=0;for(;a.length||s.length;){if(s.length){let u=-1;for(let c=0;c<s.length&&!(s[c].ymin>o);c++)u=c;s.splice(0,u+1).forEach(c=>{a.push({s:o,edge:c})})}if(a=a.filter(u=>!(u.edge.ymax<=o)),a.sort((u,h)=>u.edge.x===h.edge.x?0:(u.edge.x-h.edge.x)/Math.abs(u.edge.x-h.edge.x)),(n!==1||l%t===0)&&a.length>1)for(let u=0;u<a.length;u=u+2){const h=u+1;if(h>=a.length)break;const c=a[u].edge,d=a[h].edge;r.push([[Math.round(c.x),o],[Math.round(d.x),o]])}o+=n,a.forEach(u=>{u.edge.x=u.edge.x+n*u.edge.islope}),l++}return r}function de(e,t){var n;const i=t.hachureAngle+90;let r=t.hachureGap;r<0&&(r=t.strokeWidth*4),r=Math.round(Math.max(r,.1));let s=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=r),$s(e,r,i,s||1)}class An{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const i=de(t,n);return{type:"fillSketch",ops:this.renderLines(i,n)}}renderLines(t,n){const i=[];for(const r of t)i.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],n));return i}}function Ge(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class Xs extends An{fillPolygons(t,n){let i=n.hachureGap;i<0&&(i=n.strokeWidth*4),i=Math.max(i,.1);const r=Object.assign({},n,{hachureGap:i}),s=de(t,r),a=Math.PI/180*n.hachureAngle,o=[],l=i*.5*Math.cos(a),u=i*.5*Math.sin(a);for(const[c,d]of s)Ge([c,d])&&o.push([[c[0]-l,c[1]+u],[...d]],[[c[0]+l,c[1]-u],[...d]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class js extends An{fillPolygons(t,n){const i=this._fillPolygons(t,n),r=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(t,r);return i.ops=i.ops.concat(s.ops),i}}class Qs{constructor(t){this.helper=t}fillPolygons(t,n){n=Object.assign({},n,{hachureAngle:0});const i=de(t,n);return this.dotsOnLines(i,n)}dotsOnLines(t,n){const i=[];let r=n.hachureGap;r<0&&(r=n.strokeWidth*4),r=Math.max(r,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const a=r/4;for(const o of t){const l=Ge(o),u=l/r,h=Math.ceil(u)-1,c=l-h*r,d=(o[0][0]+o[1][0])/2-r/4,p=Math.min(o[0][1],o[1][1]);for(let g=0;g<h;g++){const v=p+c+g*r,w=d-a+Math.random()*2*a,x=v-a+Math.random()*2*a,T=this.helper.ellipse(w,x,s,s,n);i.push(...T.ops)}}return{type:"fillSketch",ops:i}}}class Js{constructor(t){this.helper=t}fillPolygons(t,n){const i=de(t,n);return{type:"fillSketch",ops:this.dashedLine(i,n)}}dashedLine(t,n){const i=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,r=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,s=[];return t.forEach(a=>{const o=Ge(a),l=Math.floor(o/(i+r)),u=(o+r-l*(i+r))/2;let h=a[0],c=a[1];h[0]>c[0]&&(h=a[1],c=a[0]);const d=Math.atan((c[1]-h[1])/(c[0]-h[0]));for(let p=0;p<l;p++){const g=p*(i+r),v=g+i,w=[h[0]+g*Math.cos(d)+u*Math.cos(d),h[1]+g*Math.sin(d)+u*Math.sin(d)],x=[h[0]+v*Math.cos(d)+u*Math.cos(d),h[1]+v*Math.sin(d)+u*Math.sin(d)];s.push(...this.helper.doubleLineOps(w[0],w[1],x[0],x[1],n))}}),s}}class Ks{constructor(t){this.helper=t}fillPolygons(t,n){const i=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,r=n.zigzagOffset<0?i:n.zigzagOffset;n=Object.assign({},n,{hachureGap:i+r});const s=de(t,n);return{type:"fillSketch",ops:this.zigzagLines(s,r,n)}}zigzagLines(t,n,i){const r=[];return t.forEach(s=>{const a=Ge(s),o=Math.round(a/(2*n));let l=s[0],u=s[1];l[0]>u[0]&&(l=s[1],u=s[0]);const h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let c=0;c<o;c++){const d=c*2*n,p=(c+1)*2*n,g=Math.sqrt(2*Math.pow(n,2)),v=[l[0]+d*Math.cos(h),l[1]+d*Math.sin(h)],w=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],x=[v[0]+g*Math.cos(h+Math.PI/4),v[1]+g*Math.sin(h+Math.PI/4)];r.push(...this.helper.doubleLineOps(v[0],v[1],x[0],x[1],i),...this.helper.doubleLineOps(x[0],x[1],w[0],w[1],i))}}),r}}const ut={};function to(e,t){let n=e.fillStyle||"hachure";if(!ut[n])switch(n){case"zigzag":ut[n]||(ut[n]=new Xs(t));break;case"cross-hatch":ut[n]||(ut[n]=new js(t));break;case"dots":ut[n]||(ut[n]=new Qs(t));break;case"dashed":ut[n]||(ut[n]=new Js(t));break;case"zigzag-line":ut[n]||(ut[n]=new Ks(t));break;case"hachure":default:n="hachure",ut[n]||(ut[n]=new An(t));break}return ut[n]}function eo(){return Math.floor(Math.random()*2**31)}class Ji{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const no=0,yn=1,Ki=2,Ce={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function io(e){const t=new Array;for(;e!=="";)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:no,text:RegExp.$1},e=e.substr(RegExp.$1.length);else if(e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]={type:yn,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length);else return[];return t[t.length]={type:Ki,text:""},t}function ln(e,t){return e.type===t}function Cn(e){const t=[],n=io(e);let i="BOD",r=0,s=n[r];for(;!ln(s,Ki);){let a=0;const o=[];if(i==="BOD")if(s.text==="M"||s.text==="m")r++,a=Ce[s.text],i=s.text;else return Cn("M0,0"+e);else ln(s,yn)?a=Ce[i]:(r++,a=Ce[s.text],i=s.text);if(r+a<n.length){for(let l=r;l<r+a;l++){const u=n[l];if(ln(u,yn))o[o.length]=+u.text;else throw new Error("Param not a number: "+i+","+u.text)}if(typeof Ce[i]=="number"){const l={key:i,data:o};t.push(l),r+=a,s=n[r],i==="M"&&(i="L"),i==="m"&&(i="l")}else throw new Error("Bad segment: "+i)}else throw new Error("Path data ended short")}return t}function tr(e){let t=0,n=0,i=0,r=0;const s=[];for(const{key:a,data:o}of e)switch(a){case"M":s.push({key:"M",data:[...o]}),[t,n]=o,[i,r]=o;break;case"m":t+=o[0],n+=o[1],s.push({key:"M",data:[t,n]}),i=t,r=n;break;case"L":s.push({key:"L",data:[...o]}),[t,n]=o;break;case"l":t+=o[0],n+=o[1],s.push({key:"L",data:[t,n]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],n=o[5];break;case"c":{const l=o.map((u,h)=>h%2?u+n:u+t);s.push({key:"C",data:l}),t=l[4],n=l[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],n=o[3];break;case"q":{const l=o.map((u,h)=>h%2?u+n:u+t);s.push({key:"Q",data:l}),t=l[2],n=l[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],n=o[6];break;case"a":t+=o[5],n+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,n]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],n=o[3];break;case"s":{const l=o.map((u,h)=>h%2?u+n:u+t);s.push({key:"S",data:l}),t=l[2],n=l[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],n=o[1];break;case"t":t+=o[0],n+=o[1],s.push({key:"T",data:[t,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=i,n=r;break}return s}function er(e){const t=[];let n="",i=0,r=0,s=0,a=0,o=0,l=0;for(const{key:u,data:h}of e){switch(u){case"M":t.push({key:"M",data:[...h]}),[i,r]=h,[s,a]=h;break;case"C":t.push({key:"C",data:[...h]}),i=h[4],r=h[5],o=h[2],l=h[3];break;case"L":t.push({key:"L",data:[...h]}),[i,r]=h;break;case"H":i=h[0],t.push({key:"L",data:[i,r]});break;case"V":r=h[0],t.push({key:"L",data:[i,r]});break;case"S":{let c=0,d=0;n==="C"||n==="S"?(c=i+(i-o),d=r+(r-l)):(c=i,d=r),t.push({key:"C",data:[c,d,...h]}),o=h[0],l=h[1],i=h[2],r=h[3];break}case"T":{const[c,d]=h;let p=0,g=0;n==="Q"||n==="T"?(p=i+(i-o),g=r+(r-l)):(p=i,g=r);const v=i+2*(p-i)/3,w=r+2*(g-r)/3,x=c+2*(p-c)/3,T=d+2*(g-d)/3;t.push({key:"C",data:[v,w,x,T,c,d]}),o=p,l=g,i=c,r=d;break}case"Q":{const[c,d,p,g]=h,v=i+2*(c-i)/3,w=r+2*(d-r)/3,x=p+2*(c-p)/3,T=g+2*(d-g)/3;t.push({key:"C",data:[v,w,x,T,p,g]}),o=c,l=d,i=p,r=g;break}case"A":{const c=Math.abs(h[0]),d=Math.abs(h[1]),p=h[2],g=h[3],v=h[4],w=h[5],x=h[6];c===0||d===0?(t.push({key:"C",data:[i,r,w,x,w,x]}),i=w,r=x):(i!==w||r!==x)&&(nr(i,r,w,x,c,d,p,g,v).forEach(function(O){t.push({key:"C",data:O})}),i=w,r=x);break}case"Z":t.push({key:"Z",data:[]}),i=s,r=a;break}n=u}return t}function ro(e){return Math.PI*e/180}function oe(e,t,n){const i=e*Math.cos(n)-t*Math.sin(n),r=e*Math.sin(n)+t*Math.cos(n);return[i,r]}function nr(e,t,n,i,r,s,a,o,l,u){const h=ro(a);let c=[],d=0,p=0,g=0,v=0;if(u)[d,p,g,v]=u;else{[e,t]=oe(e,t,-h),[n,i]=oe(n,i,-h);const F=(e-n)/2,z=(t-i)/2;let H=F*F/(r*r)+z*z/(s*s);H>1&&(H=Math.sqrt(H),r=H*r,s=H*s);const Y=o===l?-1:1,q=r*r,Q=s*s,rt=q*Q-q*z*z-Q*F*F,G=q*z*z+Q*F*F,B=Y*Math.sqrt(Math.abs(rt/G));g=B*r*z/s+(e+n)/2,v=B*-s*F/r+(t+i)/2,d=Math.asin(parseFloat(((t-v)/s).toFixed(9))),p=Math.asin(parseFloat(((i-v)/s).toFixed(9))),e<g&&(d=Math.PI-d),n<g&&(p=Math.PI-p),d<0&&(d=Math.PI*2+d),p<0&&(p=Math.PI*2+p),l&&d>p&&(d=d-Math.PI*2),!l&&p>d&&(p=p-Math.PI*2)}let w=p-d;if(Math.abs(w)>Math.PI*120/180){const F=p,z=n,H=i;l&&p>d?p=d+Math.PI*120/180*1:p=d+Math.PI*120/180*-1,n=g+r*Math.cos(p),i=v+s*Math.sin(p),c=nr(n,i,z,H,r,s,a,0,l,[p,F,g,v])}w=p-d;const x=Math.cos(d),T=Math.sin(d),O=Math.cos(p),_=Math.sin(p),D=Math.tan(w/4),P=4/3*r*D,N=4/3*s*D,C=[e,t],R=[e+P*T,t-N*x],X=[n+P*_,i-N*O],U=[n,i];if(R[0]=2*C[0]-R[0],R[1]=2*C[1]-R[1],u)return[R,X,U].concat(c);{c=[R,X,U].concat(c);const F=[];for(let z=0;z<c.length;z+=3){const H=oe(c[z][0],c[z][1],h),Y=oe(c[z+1][0],c[z+1][1],h),q=oe(c[z+2][0],c[z+2][1],h);F.push([H[0],H[1],Y[0],Y[1],q[0],q[1]])}return F}}const so={randOffset:ho,randOffsetWithRange:co,ellipse:lo,doubleLineOps:fo};function ir(e,t,n,i,r){return{type:"path",ops:Ut(e,t,n,i,r)}}function Ve(e,t,n){const i=(e||[]).length;if(i>2){const r=[];for(let s=0;s<i-1;s++)r.push(...Ut(e[s][0],e[s][1],e[s+1][0],e[s+1][1],n));return t&&r.push(...Ut(e[i-1][0],e[i-1][1],e[0][0],e[0][1],n)),{type:"path",ops:r}}else if(i===2)return ir(e[0][0],e[0][1],e[1][0],e[1][1],n);return{type:"path",ops:[]}}function oo(e,t){return Ve(e,!0,t)}function ao(e,t,n,i,r){const s=[[e,t],[e+n,t],[e+n,t+i],[e,t+i]];return oo(s,r)}function ci(e,t){if(e.length){const i=typeof e[0][0]=="number"?[e]:e,r=Oe(i[0],1*(1+t.roughness*.2),t),s=t.disableMultiStroke?[]:Oe(i[0],1.5*(1+t.roughness*.22),di(t));for(let a=1;a<i.length;a++){const o=i[a];if(o.length){const l=Oe(o,1*(1+t.roughness*.2),t),u=t.disableMultiStroke?[]:Oe(o,1.5*(1+t.roughness*.22),di(t));for(const h of l)h.op!=="move"&&r.push(h);for(const h of u)h.op!=="move"&&s.push(h)}}return{type:"path",ops:r.concat(s)}}return{type:"path",ops:[]}}function lo(e,t,n,i,r){const s=rr(n,i,r);return bn(e,t,r,s).opset}function rr(e,t,n){const i=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),r=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*i)),s=Math.PI*2/r;let a=Math.abs(e/2),o=Math.abs(t/2);const l=1-n.curveFitting;return a+=k(a*l,n),o+=k(o*l,n),{increment:s,rx:a,ry:o}}function bn(e,t,n,i){const[r,s]=mi(i.increment,e,t,i.rx,i.ry,1,i.increment*Le(.1,Le(.4,1,n),n),n);let a=ze(r,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=mi(i.increment,e,t,i.rx,i.ry,1.5,0,n),l=ze(o,null,n);a=a.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:a}}}function fi(e,t,n,i,r,s,a,o,l){const u=e,h=t;let c=Math.abs(n/2),d=Math.abs(i/2);c+=k(c*.01,l),d+=k(d*.01,l);let p=r,g=s;for(;p<0;)p+=Math.PI*2,g+=Math.PI*2;g-p>Math.PI*2&&(p=0,g=Math.PI*2);const v=Math.PI*2/l.curveStepCount,w=Math.min(v/2,(g-p)/2),x=gi(w,u,h,c,d,p,g,1,l);if(!l.disableMultiStroke){const T=gi(w,u,h,c,d,p,g,1.5,l);x.push(...T)}return a&&(o?x.push(...Ut(u,h,u+c*Math.cos(p),h+d*Math.sin(p),l),...Ut(u,h,u+c*Math.cos(g),h+d*Math.sin(g),l)):x.push({op:"lineTo",data:[u,h]},{op:"lineTo",data:[u+c*Math.cos(p),h+d*Math.sin(p)]})),{type:"path",ops:x}}function pi(e,t){const n=er(tr(Cn(e))),i=[];let r=[0,0],s=[0,0];for(const{key:a,data:o}of n)switch(a){case"M":{s=[o[0],o[1]],r=[o[0],o[1]];break}case"L":i.push(...Ut(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[l,u,h,c,d,p]=o;i.push(...po(l,u,h,c,d,p,s,t)),s=[d,p];break}case"Z":i.push(...Ut(s[0],s[1],r[0],r[1],t)),s=[r[0],r[1]];break}return{type:"path",ops:i}}function un(e,t){const n=[];for(const i of e)if(i.length){const r=t.maxRandomnessOffset||0,s=i.length;if(s>2){n.push({op:"move",data:[i[0][0]+k(r,t),i[0][1]+k(r,t)]});for(let a=1;a<s;a++)n.push({op:"lineTo",data:[i[a][0]+k(r,t),i[a][1]+k(r,t)]})}}return{type:"fillPath",ops:n}}function jt(e,t){return to(t,so).fillPolygons(e,t)}function uo(e,t,n,i,r,s,a){const o=e,l=t;let u=Math.abs(n/2),h=Math.abs(i/2);u+=k(u*.01,a),h+=k(h*.01,a);let c=r,d=s;for(;c<0;)c+=Math.PI*2,d+=Math.PI*2;d-c>Math.PI*2&&(c=0,d=Math.PI*2);const p=(d-c)/a.curveStepCount,g=[];for(let v=c;v<=d;v=v+p)g.push([o+u*Math.cos(v),l+h*Math.sin(v)]);return g.push([o+u*Math.cos(d),l+h*Math.sin(d)]),g.push([o,l]),jt([g],a)}function ho(e,t){return k(e,t)}function co(e,t,n){return Le(e,t,n)}function fo(e,t,n,i,r){return Ut(e,t,n,i,r,!0)}function di(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function sr(e){return e.randomizer||(e.randomizer=new Ji(e.seed||0)),e.randomizer.next()}function Le(e,t,n,i=1){return n.roughness*i*(sr(n)*(t-e)+e)}function k(e,t,n=1){return Le(-e,e,t,n)}function Ut(e,t,n,i,r,s=!1){const a=s?r.disableMultiStrokeFill:r.disableMultiStroke,o=xn(e,t,n,i,r,!0,!1);if(a)return o;const l=xn(e,t,n,i,r,!0,!0);return o.concat(l)}function xn(e,t,n,i,r,s,a){const o=Math.pow(e-n,2)+Math.pow(t-i,2),l=Math.sqrt(o);let u=1;l<200?u=1:l>500?u=.4:u=-.0016668*l+1.233334;let h=r.maxRandomnessOffset||0;h*h*100>o&&(h=l/10);const c=h/2,d=.2+sr(r)*.2;let p=r.bowing*r.maxRandomnessOffset*(i-t)/200,g=r.bowing*r.maxRandomnessOffset*(e-n)/200;p=k(p,r,u),g=k(g,r,u);const v=[],w=()=>k(c,r,u),x=()=>k(h,r,u),T=r.preserveVertices;return a?v.push({op:"move",data:[e+(T?0:w()),t+(T?0:w())]}):v.push({op:"move",data:[e+(T?0:k(h,r,u)),t+(T?0:k(h,r,u))]}),a?v.push({op:"bcurveTo",data:[p+e+(n-e)*d+w(),g+t+(i-t)*d+w(),p+e+2*(n-e)*d+w(),g+t+2*(i-t)*d+w(),n+(T?0:w()),i+(T?0:w())]}):v.push({op:"bcurveTo",data:[p+e+(n-e)*d+x(),g+t+(i-t)*d+x(),p+e+2*(n-e)*d+x(),g+t+2*(i-t)*d+x(),n+(T?0:x()),i+(T?0:x())]}),v}function Oe(e,t,n){if(!e.length)return[];const i=[];i.push([e[0][0]+k(t,n),e[0][1]+k(t,n)]),i.push([e[0][0]+k(t,n),e[0][1]+k(t,n)]);for(let r=1;r<e.length;r++)i.push([e[r][0]+k(t,n),e[r][1]+k(t,n)]),r===e.length-1&&i.push([e[r][0]+k(t,n),e[r][1]+k(t,n)]);return ze(i,null,n)}function ze(e,t,n){const i=e.length,r=[];if(i>3){const s=[],a=1-n.curveTightness;r.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<i;o++){const l=e[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*e[o+1][0]-a*e[o-1][0])/6,l[1]+(a*e[o+1][1]-a*e[o-1][1])/6],s[2]=[e[o+1][0]+(a*e[o][0]-a*e[o+2][0])/6,e[o+1][1]+(a*e[o][1]-a*e[o+2][1])/6],s[3]=[e[o+1][0],e[o+1][1]],r.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else i===3?(r.push({op:"move",data:[e[1][0],e[1][1]]}),r.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&r.push(...xn(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return r}function mi(e,t,n,i,r,s,a,o){const l=o.roughness===0,u=[],h=[];if(l){e=e/4,h.push([t+i*Math.cos(-e),n+r*Math.sin(-e)]);for(let c=0;c<=Math.PI*2;c=c+e){const d=[t+i*Math.cos(c),n+r*Math.sin(c)];u.push(d),h.push(d)}h.push([t+i*Math.cos(0),n+r*Math.sin(0)]),h.push([t+i*Math.cos(e),n+r*Math.sin(e)])}else{const c=k(.5,o)-Math.PI/2;h.push([k(s,o)+t+.9*i*Math.cos(c-e),k(s,o)+n+.9*r*Math.sin(c-e)]);const d=Math.PI*2+c-.01;for(let p=c;p<d;p=p+e){const g=[k(s,o)+t+i*Math.cos(p),k(s,o)+n+r*Math.sin(p)];u.push(g),h.push(g)}h.push([k(s,o)+t+i*Math.cos(c+Math.PI*2+a*.5),k(s,o)+n+r*Math.sin(c+Math.PI*2+a*.5)]),h.push([k(s,o)+t+.98*i*Math.cos(c+a),k(s,o)+n+.98*r*Math.sin(c+a)]),h.push([k(s,o)+t+.9*i*Math.cos(c+a*.5),k(s,o)+n+.9*r*Math.sin(c+a*.5)])}return[h,u]}function gi(e,t,n,i,r,s,a,o,l){const u=s+k(.1,l),h=[];h.push([k(o,l)+t+.9*i*Math.cos(u-e),k(o,l)+n+.9*r*Math.sin(u-e)]);for(let c=u;c<=a;c=c+e)h.push([k(o,l)+t+i*Math.cos(c),k(o,l)+n+r*Math.sin(c)]);return h.push([t+i*Math.cos(a),n+r*Math.sin(a)]),h.push([t+i*Math.cos(a),n+r*Math.sin(a)]),ze(h,null,l)}function po(e,t,n,i,r,s,a,o){const l=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let h=[0,0];const c=o.disableMultiStroke?1:2,d=o.preserveVertices;for(let p=0;p<c;p++)p===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:k(u[0],o)),a[1]+(d?0:k(u[0],o))]}),h=d?[r,s]:[r+k(u[p],o),s+k(u[p],o)],l.push({op:"bcurveTo",data:[e+k(u[p],o),t+k(u[p],o),n+k(u[p],o),i+k(u[p],o),h[0],h[1]]});return l}function ae(e){return[...e]}function vi(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const i=[];if(n===3)i.push(ae(e[0]),ae(e[1]),ae(e[2]),ae(e[2]));else{const r=[];r.push(e[0],e[0]);for(let o=1;o<e.length;o++)r.push(e[o]),o===e.length-1&&r.push(e[o]);const s=[],a=1-t;i.push(ae(r[0]));for(let o=1;o+2<r.length;o++){const l=r[o];s[0]=[l[0],l[1]],s[1]=[l[0]+(a*r[o+1][0]-a*r[o-1][0])/6,l[1]+(a*r[o+1][1]-a*r[o-1][1])/6],s[2]=[r[o+1][0]+(a*r[o][0]-a*r[o+2][0])/6,r[o+1][1]+(a*r[o][1]-a*r[o+2][1])/6],s[3]=[r[o+1][0],r[o+1][1]],i.push(s[1],s[2],s[3])}}return i}function mo(e,t){return Math.sqrt(De(e,t))}function De(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function go(e,t,n){const i=De(t,n);if(i===0)return De(e,t);let r=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return r=Math.max(0,Math.min(1,r)),De(e,$t(t,n,r))}function $t(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function vo(e,t){const n=e[t+0],i=e[t+1],r=e[t+2],s=e[t+3];let a=3*i[0]-2*n[0]-s[0];a*=a;let o=3*i[1]-2*n[1]-s[1];o*=o;let l=3*r[0]-2*s[0]-n[0];l*=l;let u=3*r[1]-2*s[1]-n[1];return u*=u,a<l&&(a=l),o<u&&(o=u),a+o}function wn(e,t,n,i){const r=i||[];if(vo(e,t)<n){const s=e[t+0];r.length?mo(r[r.length-1],s)>1&&r.push(s):r.push(s),r.push(e[t+3])}else{const a=e[t+0],o=e[t+1],l=e[t+2],u=e[t+3],h=$t(a,o,.5),c=$t(o,l,.5),d=$t(l,u,.5),p=$t(h,c,.5),g=$t(c,d,.5),v=$t(p,g,.5);wn([a,h,p,v],0,n,r),wn([v,g,d,u],0,n,r)}return r}function yo(e,t){return Fe(e,0,e.length,t)}function Fe(e,t,n,i,r){const s=r||[],a=e[t],o=e[n-1];let l=0,u=1;for(let h=t+1;h<n-1;++h){const c=go(e[h],a,o);c>l&&(l=c,u=h)}return Math.sqrt(l)>i?(Fe(e,t,u+1,i,s),Fe(e,u,n,i,s)):(s.length||s.push(a),s.push(o)),s}function Tn(e,t=.15,n){const i=[],r=(e.length-1)/3;for(let s=0;s<r;s++){const a=s*3;wn(e,a,t,i)}return n&&n>0?Fe(i,0,i.length,n):i}function bo(e,t,n){const i=Cn(e),r=er(tr(i)),s=[];let a=[],o=[0,0],l=[];const u=()=>{l.length>=4&&a.push(...Tn(l,t)),l=[]},h=()=>{u(),a.length&&(s.push(a),a=[])};for(const{key:d,data:p}of r)switch(d){case"M":h(),o=[p[0],p[1]],a.push(o);break;case"L":u(),a.push([p[0],p[1]]);break;case"C":if(!l.length){const g=a.length?a[a.length-1]:o;l.push([g[0],g[1]])}l.push([p[0],p[1]]),l.push([p[2],p[3]]),l.push([p[4],p[5]]);break;case"Z":u(),a.push([o[0],o[1]]);break}if(h(),!n)return s;const c=[];for(const d of s){const p=yo(d,n);p.length&&c.push(p)}return c}const ct="none";class Ze{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return eo()}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,i){return{shape:t,sets:n||[],options:i||this.defaultOptions}}line(t,n,i,r,s){const a=this._o(s);return this._d("line",[ir(t,n,i,r,a)],a)}rectangle(t,n,i,r,s){const a=this._o(s),o=[],l=ao(t,n,i,r,a);if(a.fill){const u=[[t,n],[t+i,n],[t+i,n+r],[t,n+r]];a.fillStyle==="solid"?o.push(un([u],a)):o.push(jt([u],a))}return a.stroke!==ct&&o.push(l),this._d("rectangle",o,a)}ellipse(t,n,i,r,s){const a=this._o(s),o=[],l=rr(i,r,a),u=bn(t,n,a,l);if(a.fill)if(a.fillStyle==="solid"){const h=bn(t,n,a,l).opset;h.type="fillPath",o.push(h)}else o.push(jt([u.estimatedPoints],a));return a.stroke!==ct&&o.push(u.opset),this._d("ellipse",o,a)}circle(t,n,i,r){const s=this.ellipse(t,n,i,i,r);return s.shape="circle",s}linearPath(t,n){const i=this._o(n);return this._d("linearPath",[Ve(t,!1,i)],i)}arc(t,n,i,r,s,a,o=!1,l){const u=this._o(l),h=[],c=fi(t,n,i,r,s,a,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const d=Object.assign({},u);d.disableMultiStroke=!0;const p=fi(t,n,i,r,s,a,!0,!1,d);p.type="fillPath",h.push(p)}else h.push(uo(t,n,i,r,s,a,u));return u.stroke!==ct&&h.push(c),this._d("arc",h,u)}curve(t,n){const i=this._o(n),r=[],s=ci(t,i);if(i.fill&&i.fill!==ct)if(i.fillStyle==="solid"){const a=ci(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],o=t;if(o.length){const u=typeof o[0][0]=="number"?[o]:o;for(const h of u)h.length<3?a.push(...h):h.length===3?a.push(...Tn(vi([h[0],h[0],h[1],h[2]]),10,(1+i.roughness)/2)):a.push(...Tn(vi(h),10,(1+i.roughness)/2))}a.length&&r.push(jt([a],i))}return i.stroke!==ct&&r.push(s),this._d("curve",r,i)}polygon(t,n){const i=this._o(n),r=[],s=Ve(t,!0,i);return i.fill&&(i.fillStyle==="solid"?r.push(un([t],i)):r.push(jt([t],i))),i.stroke!==ct&&r.push(s),this._d("polygon",r,i)}path(t,n){const i=this._o(n),r=[];if(!t)return this._d("path",r,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=i.fill&&i.fill!=="transparent"&&i.fill!==ct,a=i.stroke!==ct,o=!!(i.simplification&&i.simplification<1),l=o?4-4*(i.simplification||1):(1+i.roughness)/2,u=bo(t,1,l),h=pi(t,i);if(s)if(i.fillStyle==="solid")if(u.length===1){const c=pi(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));r.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else r.push(un(u,i));else r.push(jt(u,i));return a&&(o?u.forEach(c=>{r.push(Ve(c,!1,i))}):r.push(h)),this._d("path",r,i)}opsToPath(t,n){let i="";for(const r of t.ops){const s=typeof n=="number"&&n>=0?r.data.map(a=>+a.toFixed(n)):r.data;switch(r.op){case"move":i+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":i+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":i+=`L${s[0]} ${s[1]} `;break}}return i.trim()}toPaths(t){const n=t.sets||[],i=t.options||this.defaultOptions,r=[];for(const s of n){let a=null;switch(s.type){case"path":a={d:this.opsToPath(s),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:ct};break;case"fillPath":a={d:this.opsToPath(s),stroke:ct,strokeWidth:0,fill:i.fill||ct};break;case"fillSketch":a=this.fillSketch(s,i);break}a&&r.push(a)}return r}fillSketch(t,n){let i=n.fillWeight;return i<0&&(i=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||ct,strokeWidth:i,fill:ct}}_mergedShape(t){return t.filter((n,i)=>i===0?!0:n.op!=="move")}}class xo{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Ze(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),r=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const a of n)switch(a.type){case"path":r.save(),r.strokeStyle=i.stroke==="none"?"transparent":i.stroke,r.lineWidth=i.strokeWidth,i.strokeLineDash&&r.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(r.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(r,a,s),r.restore();break;case"fillPath":{r.save(),r.fillStyle=i.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(r,a,s,o),r.restore();break}case"fillSketch":this.fillSketch(r,a,i);break}}fillSketch(t,n,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=r,this._drawToContext(t,n,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,i,r="nonzero"){t.beginPath();for(const s of n.ops){const a=typeof i=="number"&&i>=0?s.data.map(o=>+o.toFixed(i)):s.data;switch(s.op){case"move":t.moveTo(a[0],a[1]);break;case"bcurveTo":t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":t.lineTo(a[0],a[1]);break}}n.type==="fillPath"?t.fill(r):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,i,r,s){const a=this.gen.line(t,n,i,r,s);return this.draw(a),a}rectangle(t,n,i,r,s){const a=this.gen.rectangle(t,n,i,r,s);return this.draw(a),a}ellipse(t,n,i,r,s){const a=this.gen.ellipse(t,n,i,r,s);return this.draw(a),a}circle(t,n,i,r){const s=this.gen.circle(t,n,i,r);return this.draw(s),s}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i),i}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i),i}arc(t,n,i,r,s,a,o=!1,l){const u=this.gen.arc(t,n,i,r,s,a,o,l);return this.draw(u),u}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i),i}path(t,n){const i=this.gen.path(t,n);return this.draw(i),i}}const Ne="http://www.w3.org/2000/svg";class wo{constructor(t,n){this.svg=t,this.gen=new Ze(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,s=r.createElementNS(Ne,"g"),a=t.options.fixedDecimalPlaceDigits;for(const o of n){let l=null;switch(o.type){case"path":{l=r.createElementNS(Ne,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke",i.stroke),l.setAttribute("stroke-width",i.strokeWidth+""),l.setAttribute("fill","none"),i.strokeLineDash&&l.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break}case"fillPath":{l=r.createElementNS(Ne,"path"),l.setAttribute("d",this.opsToPath(o,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",i.fill||""),(t.shape==="curve"||t.shape==="polygon")&&l.setAttribute("fill-rule","evenodd");break}case"fillSketch":{l=this.fillSketch(r,o,i);break}}l&&s.appendChild(l)}return s}fillSketch(t,n,i){let r=i.fillWeight;r<0&&(r=i.strokeWidth/2);const s=t.createElementNS(Ne,"path");return s.setAttribute("d",this.opsToPath(n,i.fixedDecimalPlaceDigits)),s.setAttribute("stroke",i.fill||""),s.setAttribute("stroke-width",r+""),s.setAttribute("fill","none"),i.fillLineDash&&s.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,i,r,s){const a=this.gen.line(t,n,i,r,s);return this.draw(a)}rectangle(t,n,i,r,s){const a=this.gen.rectangle(t,n,i,r,s);return this.draw(a)}ellipse(t,n,i,r,s){const a=this.gen.ellipse(t,n,i,r,s);return this.draw(a)}circle(t,n,i,r){const s=this.gen.circle(t,n,i,r);return this.draw(s)}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i)}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i)}arc(t,n,i,r,s,a,o=!1,l){const u=this.gen.arc(t,n,i,r,s,a,o,l);return this.draw(u)}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i)}path(t,n){const i=this.gen.path(t,n);return this.draw(i)}}const To={canvas(e,t){return new xo(e,t)},svg(e,t){return new wo(e,t)},generator(e){return new Ze(e)},newSeed(){return Ze.newSeed()}};function He(e){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(e)}var Eo=/^\s+/,Mo=/\s+$/;function A(e,t){if(e=e||"",t=t||{},e instanceof A)return e;if(!(this instanceof A))return new A(e,t);var n=So(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}A.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,i,r,s,a,o;return n=t.r/255,i=t.g/255,r=t.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(t){return this._a=or(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=bi(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=bi(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+r+"%)":"hsva("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=yi(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=yi(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),r=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+r+"%)":"hsla("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return xi(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Oo(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(W(this._r,255)*100)+"%",g:Math.round(W(this._g,255)*100)+"%",b:Math.round(W(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(W(this._r,255)*100)+"%, "+Math.round(W(this._g,255)*100)+"%, "+Math.round(W(this._b,255)*100)+"%)":"rgba("+Math.round(W(this._r,255)*100)+"%, "+Math.round(W(this._g,255)*100)+"%, "+Math.round(W(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ho[xi(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+wi(this._r,this._g,this._b,this._a),i=n,r=this._gradientType?"GradientType = 1, ":"";if(t){var s=A(t);i="#"+wi(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var n=!!t;t=t||this._format;var i=!1,r=this._a<1&&this._a>=0,s=!n&&r&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return A(this.toString())},_applyModification:function(t,n){var i=t.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Io,arguments)},brighten:function(){return this._applyModification(Ro,arguments)},darken:function(){return this._applyModification(Vo,arguments)},desaturate:function(){return this._applyModification(No,arguments)},saturate:function(){return this._applyModification(Po,arguments)},greyscale:function(){return this._applyModification(ko,arguments)},spin:function(){return this._applyModification(Do,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Fo,arguments)},complement:function(){return this._applyCombination(Lo,arguments)},monochromatic:function(){return this._applyCombination(Zo,arguments)},splitcomplement:function(){return this._applyCombination(zo,arguments)},triad:function(){return this._applyCombination(Ti,[3])},tetrad:function(){return this._applyCombination(Ti,[4])}};A.fromRatio=function(e,t){if(He(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=le(e[i]));e=n}return A(e,t)};function So(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,s=null,a=!1,o=!1;return typeof e=="string"&&(e=qo(e)),He(e)=="object"&&(Nt(e.r)&&Nt(e.g)&&Nt(e.b)?(t=_o(e.r,e.g,e.b),a=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Nt(e.h)&&Nt(e.s)&&Nt(e.v)?(i=le(e.s),r=le(e.v),t=Co(e.h,i,r),a=!0,o="hsv"):Nt(e.h)&&Nt(e.s)&&Nt(e.l)&&(i=le(e.s),s=le(e.l),t=Ao(e.h,i,s),a=!0,o="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=or(n),{ok:a,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function _o(e,t,n){return{r:W(e,255)*255,g:W(t,255)*255,b:W(n,255)*255}}function yi(e,t,n){e=W(e,255),t=W(t,255),n=W(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),s,a,o=(i+r)/2;if(i==r)s=a=0;else{var l=i-r;switch(a=o>.5?l/(2-i-r):l/(i+r),i){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:a,l:o}}function Ao(e,t,n){var i,r,s;e=W(e,360),t=W(t,100),n=W(n,100);function a(u,h,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(h-u)*6*c:c<1/2?h:c<2/3?u+(h-u)*(2/3-c)*6:u}if(t===0)i=r=s=n;else{var o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=a(l,o,e+1/3),r=a(l,o,e),s=a(l,o,e-1/3)}return{r:i*255,g:r*255,b:s*255}}function bi(e,t,n){e=W(e,255),t=W(t,255),n=W(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),s,a,o=i,l=i-r;if(a=i===0?0:l/i,i==r)s=0;else{switch(i){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4;break}s/=6}return{h:s,s:a,v:o}}function Co(e,t,n){e=W(e,360)*6,t=W(t,100),n=W(n,100);var i=Math.floor(e),r=e-i,s=n*(1-t),a=n*(1-r*t),o=n*(1-(1-r)*t),l=i%6,u=[n,a,s,s,o,n][l],h=[o,n,n,a,s,s][l],c=[s,s,o,n,n,a][l];return{r:u*255,g:h*255,b:c*255}}function xi(e,t,n,i){var r=[Tt(Math.round(e).toString(16)),Tt(Math.round(t).toString(16)),Tt(Math.round(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Oo(e,t,n,i,r){var s=[Tt(Math.round(e).toString(16)),Tt(Math.round(t).toString(16)),Tt(Math.round(n).toString(16)),Tt(ar(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function wi(e,t,n,i){var r=[Tt(ar(i)),Tt(Math.round(e).toString(16)),Tt(Math.round(t).toString(16)),Tt(Math.round(n).toString(16))];return r.join("")}A.equals=function(e,t){return!e||!t?!1:A(e).toRgbString()==A(t).toRgbString()};A.random=function(){return A.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function No(e,t){t=t===0?0:t||10;var n=A(e).toHsl();return n.s-=t/100,n.s=Be(n.s),A(n)}function Po(e,t){t=t===0?0:t||10;var n=A(e).toHsl();return n.s+=t/100,n.s=Be(n.s),A(n)}function ko(e){return A(e).desaturate(100)}function Io(e,t){t=t===0?0:t||10;var n=A(e).toHsl();return n.l+=t/100,n.l=Be(n.l),A(n)}function Ro(e,t){t=t===0?0:t||10;var n=A(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),A(n)}function Vo(e,t){t=t===0?0:t||10;var n=A(e).toHsl();return n.l-=t/100,n.l=Be(n.l),A(n)}function Do(e,t){var n=A(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,A(n)}function Lo(e){var t=A(e).toHsl();return t.h=(t.h+180)%360,A(t)}function Ti(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=A(e).toHsl(),i=[A(e)],r=360/t,s=1;s<t;s++)i.push(A({h:(n.h+s*r)%360,s:n.s,l:n.l}));return i}function zo(e){var t=A(e).toHsl(),n=t.h;return[A(e),A({h:(n+72)%360,s:t.s,l:t.l}),A({h:(n+216)%360,s:t.s,l:t.l})]}function Fo(e,t,n){t=t||6,n=n||30;var i=A(e).toHsl(),r=360/n,s=[A(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,s.push(A(i));return s}function Zo(e,t){t=t||6;for(var n=A(e).toHsv(),i=n.h,r=n.s,s=n.v,a=[],o=1/t;t--;)a.push(A({h:i,s:r,v:s})),s=(s+o)%1;return a}A.mix=function(e,t,n){n=n===0?0:n||50;var i=A(e).toRgb(),r=A(t).toRgb(),s=n/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return A(a)};A.readability=function(e,t){var n=A(e),i=A(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};A.isReadable=function(e,t,n){var i=A.readability(e,t),r,s;switch(s=!1,r=Wo(n),r.level+r.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};A.mostReadable=function(e,t,n){var i=null,r=0,s,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<t.length;u++)s=A.readability(e,t[u]),s>r&&(r=s,i=A(t[u]));return A.isReadable(e,i,{level:o,size:l})||!a?i:(n.includeFallbackColors=!1,A.mostReadable(e,["#fff","#000"],n))};var En=A.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ho=A.hexNames=Uo(En);function Uo(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function or(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function W(e,t){Go(e)&&(e="100%");var n=Bo(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Be(e){return Math.min(1,Math.max(0,e))}function ft(e){return parseInt(e,16)}function Go(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Bo(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Tt(e){return e.length==1?"0"+e:""+e}function le(e){return e<=1&&(e=e*100+"%"),e}function ar(e){return Math.round(parseFloat(e)*255).toString(16)}function Ei(e){return ft(e)/255}var bt=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Nt(e){return!!bt.CSS_UNIT.exec(e)}function qo(e){e=e.replace(Eo,"").replace(Mo,"").toLowerCase();var t=!1;if(En[e])e=En[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=bt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=bt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=bt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=bt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=bt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=bt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=bt.hex8.exec(e))?{r:ft(n[1]),g:ft(n[2]),b:ft(n[3]),a:Ei(n[4]),format:t?"name":"hex8"}:(n=bt.hex6.exec(e))?{r:ft(n[1]),g:ft(n[2]),b:ft(n[3]),format:t?"name":"hex"}:(n=bt.hex4.exec(e))?{r:ft(n[1]+""+n[1]),g:ft(n[2]+""+n[2]),b:ft(n[3]+""+n[3]),a:Ei(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=bt.hex3.exec(e))?{r:ft(n[1]+""+n[1]),g:ft(n[2]+""+n[2]),b:ft(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Wo(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lr=function(e,t){return(lr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])})(e,t)};function ur(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lr(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function hr(e){var t="";Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];if(i.type===E.CLOSE_PATH)t+="z";else if(i.type===E.HORIZ_LINE_TO)t+=(i.relative?"h":"H")+i.x;else if(i.type===E.VERT_LINE_TO)t+=(i.relative?"v":"V")+i.y;else if(i.type===E.MOVE_TO)t+=(i.relative?"m":"M")+i.x+" "+i.y;else if(i.type===E.LINE_TO)t+=(i.relative?"l":"L")+i.x+" "+i.y;else if(i.type===E.CURVE_TO)t+=(i.relative?"c":"C")+i.x1+" "+i.y1+" "+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===E.SMOOTH_CURVE_TO)t+=(i.relative?"s":"S")+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===E.QUAD_TO)t+=(i.relative?"q":"Q")+i.x1+" "+i.y1+" "+i.x+" "+i.y;else if(i.type===E.SMOOTH_QUAD_TO)t+=(i.relative?"t":"T")+i.x+" "+i.y;else{if(i.type!==E.ARC)throw new Error('Unexpected command type "'+i.type+'" at index '+n+".");t+=(i.relative?"a":"A")+i.rX+" "+i.rY+" "+i.xRot+" "+ +i.lArcFlag+" "+ +i.sweepFlag+" "+i.x+" "+i.y}}return t}function Mn(e,t){var n=e[0],i=e[1];return[n*Math.cos(t)-i*Math.sin(t),n*Math.sin(t)+i*Math.cos(t)]}function xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)if(typeof e[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof e[n]+" == typeof "+e[n]);return!0}var Lt=Math.PI;function hn(e,t,n){e.lArcFlag=e.lArcFlag===0?0:1,e.sweepFlag=e.sweepFlag===0?0:1;var i=e.rX,r=e.rY,s=e.x,a=e.y;i=Math.abs(e.rX),r=Math.abs(e.rY);var o=Mn([(t-s)/2,(n-a)/2],-e.xRot/180*Lt),l=o[0],u=o[1],h=Math.pow(l,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(r,2);1<h&&(i*=Math.sqrt(h),r*=Math.sqrt(h)),e.rX=i,e.rY=r;var c=Math.pow(i,2)*Math.pow(u,2)+Math.pow(r,2)*Math.pow(l,2),d=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(i,2)*Math.pow(r,2)-c)/c)),p=i*u/r*d,g=-r*l/i*d,v=Mn([p,g],e.xRot/180*Lt);e.cX=v[0]+(t+s)/2,e.cY=v[1]+(n+a)/2,e.phi1=Math.atan2((u-g)/r,(l-p)/i),e.phi2=Math.atan2((-u-g)/r,(-l-p)/i),e.sweepFlag===0&&e.phi2>e.phi1&&(e.phi2-=2*Lt),e.sweepFlag===1&&e.phi2<e.phi1&&(e.phi2+=2*Lt),e.phi1*=180/Lt,e.phi2*=180/Lt}function Mi(e,t,n){xt(e,t,n);var i=e*e+t*t-n*n;if(0>i)return[];if(i===0)return[[e*n/(e*e+t*t),t*n/(e*e+t*t)]];var r=Math.sqrt(i);return[[(e*n+t*r)/(e*e+t*t),(t*n-e*r)/(e*e+t*t)],[(e*n-t*r)/(e*e+t*t),(t*n+e*r)/(e*e+t*t)]]}var $,Pt=Math.PI/180;function Si(e,t,n){return(1-n)*e+n*t}function _i(e,t,n,i){return e+Math.cos(i/180*Lt)*t+Math.sin(i/180*Lt)*n}function Ai(e,t,n,i){var r=1e-6,s=t-e,a=n-t,o=3*s+3*(i-n)-6*a,l=6*(a-s),u=3*s;return Math.abs(o)<r?[-u/l]:function(h,c,d){var p=h*h/4-c;if(p<-1e-6)return[];if(p<=d)return[-h/2];var g=Math.sqrt(p);return[-h/2-g,-h/2+g]}(l/o,u/o,r)}function Ci(e,t,n,i,r){var s=1-r;return e*(s*s*s)+t*(3*s*s*r)+n*(3*s*r*r)+i*(r*r*r)}(function(e){function t(){return r(function(o,l,u){return o.relative&&(o.x1!==void 0&&(o.x1+=l),o.y1!==void 0&&(o.y1+=u),o.x2!==void 0&&(o.x2+=l),o.y2!==void 0&&(o.y2+=u),o.x!==void 0&&(o.x+=l),o.y!==void 0&&(o.y+=u),o.relative=!1),o})}function n(){var o=NaN,l=NaN,u=NaN,h=NaN;return r(function(c,d,p){return c.type&E.SMOOTH_CURVE_TO&&(c.type=E.CURVE_TO,o=isNaN(o)?d:o,l=isNaN(l)?p:l,c.x1=c.relative?d-o:2*d-o,c.y1=c.relative?p-l:2*p-l),c.type&E.CURVE_TO?(o=c.relative?d+c.x2:c.x2,l=c.relative?p+c.y2:c.y2):(o=NaN,l=NaN),c.type&E.SMOOTH_QUAD_TO&&(c.type=E.QUAD_TO,u=isNaN(u)?d:u,h=isNaN(h)?p:h,c.x1=c.relative?d-u:2*d-u,c.y1=c.relative?p-h:2*p-h),c.type&E.QUAD_TO?(u=c.relative?d+c.x1:c.x1,h=c.relative?p+c.y1:c.y1):(u=NaN,h=NaN),c})}function i(){var o=NaN,l=NaN;return r(function(u,h,c){if(u.type&E.SMOOTH_QUAD_TO&&(u.type=E.QUAD_TO,o=isNaN(o)?h:o,l=isNaN(l)?c:l,u.x1=u.relative?h-o:2*h-o,u.y1=u.relative?c-l:2*c-l),u.type&E.QUAD_TO){o=u.relative?h+u.x1:u.x1,l=u.relative?c+u.y1:u.y1;var d=u.x1,p=u.y1;u.type=E.CURVE_TO,u.x1=((u.relative?0:h)+2*d)/3,u.y1=((u.relative?0:c)+2*p)/3,u.x2=(u.x+2*d)/3,u.y2=(u.y+2*p)/3}else o=NaN,l=NaN;return u})}function r(o){var l=0,u=0,h=NaN,c=NaN;return function(d){if(isNaN(h)&&!(d.type&E.MOVE_TO))throw new Error("path must start with moveto");var p=o(d,l,u,h,c);return d.type&E.CLOSE_PATH&&(l=h,u=c),d.x!==void 0&&(l=d.relative?l+d.x:d.x),d.y!==void 0&&(u=d.relative?u+d.y:d.y),d.type&E.MOVE_TO&&(h=l,c=u),p}}function s(o,l,u,h,c,d){return xt(o,l,u,h,c,d),r(function(p,g,v,w){var x=p.x1,T=p.x2,O=p.relative&&!isNaN(w),_=p.x!==void 0?p.x:O?0:g,D=p.y!==void 0?p.y:O?0:v;function P(st){return st*st}p.type&E.HORIZ_LINE_TO&&l!==0&&(p.type=E.LINE_TO,p.y=p.relative?0:v),p.type&E.VERT_LINE_TO&&u!==0&&(p.type=E.LINE_TO,p.x=p.relative?0:g),p.x!==void 0&&(p.x=p.x*o+D*u+(O?0:c)),p.y!==void 0&&(p.y=_*l+p.y*h+(O?0:d)),p.x1!==void 0&&(p.x1=p.x1*o+p.y1*u+(O?0:c)),p.y1!==void 0&&(p.y1=x*l+p.y1*h+(O?0:d)),p.x2!==void 0&&(p.x2=p.x2*o+p.y2*u+(O?0:c)),p.y2!==void 0&&(p.y2=T*l+p.y2*h+(O?0:d));var N=o*h-l*u;if(p.xRot!==void 0&&(o!==1||l!==0||u!==0||h!==1))if(N===0)delete p.rX,delete p.rY,delete p.xRot,delete p.lArcFlag,delete p.sweepFlag,p.type=E.LINE_TO;else{var C=p.xRot*Math.PI/180,R=Math.sin(C),X=Math.cos(C),U=1/P(p.rX),F=1/P(p.rY),z=P(X)*U+P(R)*F,H=2*R*X*(U-F),Y=P(R)*U+P(X)*F,q=z*h*h-H*l*h+Y*l*l,Q=H*(o*h+l*u)-2*(z*u*h+Y*o*l),rt=z*u*u-H*o*u+Y*o*o,G=(Math.atan2(Q,q-rt)+Math.PI)%Math.PI/2,B=Math.sin(G),j=Math.cos(G);p.rX=Math.abs(N)/Math.sqrt(q*P(j)+Q*B*j+rt*P(B)),p.rY=Math.abs(N)/Math.sqrt(q*P(B)-Q*B*j+rt*P(j)),p.xRot=180*G/Math.PI}return p.sweepFlag!==void 0&&0>N&&(p.sweepFlag=+!p.sweepFlag),p})}function a(){return function(o){var l={};for(var u in o)l[u]=o[u];return l}}e.ROUND=function(o){function l(u){return Math.round(u*o)/o}return o===void 0&&(o=1e13),xt(o),function(u){return u.x1!==void 0&&(u.x1=l(u.x1)),u.y1!==void 0&&(u.y1=l(u.y1)),u.x2!==void 0&&(u.x2=l(u.x2)),u.y2!==void 0&&(u.y2=l(u.y2)),u.x!==void 0&&(u.x=l(u.x)),u.y!==void 0&&(u.y=l(u.y)),u.rX!==void 0&&(u.rX=l(u.rX)),u.rY!==void 0&&(u.rY=l(u.rY)),u}},e.TO_ABS=t,e.TO_REL=function(){return r(function(o,l,u){return o.relative||(o.x1!==void 0&&(o.x1-=l),o.y1!==void 0&&(o.y1-=u),o.x2!==void 0&&(o.x2-=l),o.y2!==void 0&&(o.y2-=u),o.x!==void 0&&(o.x-=l),o.y!==void 0&&(o.y-=u),o.relative=!0),o})},e.NORMALIZE_HVZ=function(o,l,u){return o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=!0),r(function(h,c,d,p,g){if(isNaN(p)&&!(h.type&E.MOVE_TO))throw new Error("path must start with moveto");return l&&h.type&E.HORIZ_LINE_TO&&(h.type=E.LINE_TO,h.y=h.relative?0:d),u&&h.type&E.VERT_LINE_TO&&(h.type=E.LINE_TO,h.x=h.relative?0:c),o&&h.type&E.CLOSE_PATH&&(h.type=E.LINE_TO,h.x=h.relative?p-c:p,h.y=h.relative?g-d:g),h.type&E.ARC&&(h.rX===0||h.rY===0)&&(h.type=E.LINE_TO,delete h.rX,delete h.rY,delete h.xRot,delete h.lArcFlag,delete h.sweepFlag),h})},e.NORMALIZE_ST=n,e.QT_TO_C=i,e.INFO=r,e.SANITIZE=function(o){o===void 0&&(o=0),xt(o);var l=NaN,u=NaN,h=NaN,c=NaN;return r(function(d,p,g,v,w){var x=Math.abs,T=!1,O=0,_=0;if(d.type&E.SMOOTH_CURVE_TO&&(O=isNaN(l)?0:p-l,_=isNaN(u)?0:g-u),d.type&(E.CURVE_TO|E.SMOOTH_CURVE_TO)?(l=d.relative?p+d.x2:d.x2,u=d.relative?g+d.y2:d.y2):(l=NaN,u=NaN),d.type&E.SMOOTH_QUAD_TO?(h=isNaN(h)?p:2*p-h,c=isNaN(c)?g:2*g-c):d.type&E.QUAD_TO?(h=d.relative?p+d.x1:d.x1,c=d.relative?g+d.y1:d.y2):(h=NaN,c=NaN),d.type&E.LINE_COMMANDS||d.type&E.ARC&&(d.rX===0||d.rY===0||!d.lArcFlag)||d.type&E.CURVE_TO||d.type&E.SMOOTH_CURVE_TO||d.type&E.QUAD_TO||d.type&E.SMOOTH_QUAD_TO){var D=d.x===void 0?0:d.relative?d.x:d.x-p,P=d.y===void 0?0:d.relative?d.y:d.y-g;O=isNaN(h)?d.x1===void 0?O:d.relative?d.x:d.x1-p:h-p,_=isNaN(c)?d.y1===void 0?_:d.relative?d.y:d.y1-g:c-g;var N=d.x2===void 0?0:d.relative?d.x:d.x2-p,C=d.y2===void 0?0:d.relative?d.y:d.y2-g;x(D)<=o&&x(P)<=o&&x(O)<=o&&x(_)<=o&&x(N)<=o&&x(C)<=o&&(T=!0)}return d.type&E.CLOSE_PATH&&x(p-v)<=o&&x(g-w)<=o&&(T=!0),T?[]:d})},e.MATRIX=s,e.ROTATE=function(o,l,u){l===void 0&&(l=0),u===void 0&&(u=0),xt(o,l,u);var h=Math.sin(o),c=Math.cos(o);return s(c,h,-h,c,l-l*c+u*h,u-l*h-u*c)},e.TRANSLATE=function(o,l){return l===void 0&&(l=0),xt(o,l),s(1,0,0,1,o,l)},e.SCALE=function(o,l){return l===void 0&&(l=o),xt(o,l),s(o,0,0,l,0,0)},e.SKEW_X=function(o){return xt(o),s(1,0,Math.atan(o),1,0,0)},e.SKEW_Y=function(o){return xt(o),s(1,Math.atan(o),0,1,0,0)},e.X_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),xt(o),s(-1,0,0,1,o,0)},e.Y_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),xt(o),s(1,0,0,-1,0,o)},e.A_TO_C=function(){return r(function(o,l,u){return E.ARC===o.type?function(h,c,d){var p,g,v,w;h.cX||hn(h,c,d);for(var x=Math.min(h.phi1,h.phi2),T=Math.max(h.phi1,h.phi2)-x,O=Math.ceil(T/90),_=new Array(O),D=c,P=d,N=0;N<O;N++){var C=Si(h.phi1,h.phi2,N/O),R=Si(h.phi1,h.phi2,(N+1)/O),X=R-C,U=4/3*Math.tan(X*Pt/4),F=[Math.cos(C*Pt)-U*Math.sin(C*Pt),Math.sin(C*Pt)+U*Math.cos(C*Pt)],z=F[0],H=F[1],Y=[Math.cos(R*Pt),Math.sin(R*Pt)],q=Y[0],Q=Y[1],rt=[q+U*Math.sin(R*Pt),Q-U*Math.cos(R*Pt)],G=rt[0],B=rt[1];_[N]={relative:h.relative,type:E.CURVE_TO};var j=function(st,nt){var kt=Mn([st*h.rX,nt*h.rY],h.xRot),Jt=kt[0],qe=kt[1];return[h.cX+Jt,h.cY+qe]};p=j(z,H),_[N].x1=p[0],_[N].y1=p[1],g=j(G,B),_[N].x2=g[0],_[N].y2=g[1],v=j(q,Q),_[N].x=v[0],_[N].y=v[1],h.relative&&(_[N].x1-=D,_[N].y1-=P,_[N].x2-=D,_[N].y2-=P,_[N].x-=D,_[N].y-=P),D=(w=[_[N].x,_[N].y])[0],P=w[1]}return _}(o,o.relative?0:l,o.relative?0:u):o})},e.ANNOTATE_ARCS=function(){return r(function(o,l,u){return o.relative&&(l=0,u=0),E.ARC===o.type&&hn(o,l,u),o})},e.CLONE=a,e.CALCULATE_BOUNDS=function(){var o=function(d){var p={};for(var g in d)p[g]=d[g];return p},l=t(),u=i(),h=n(),c=r(function(d,p,g){var v=h(u(l(o(d))));function w(B){B>c.maxX&&(c.maxX=B),B<c.minX&&(c.minX=B)}function x(B){B>c.maxY&&(c.maxY=B),B<c.minY&&(c.minY=B)}if(v.type&E.DRAWING_COMMANDS&&(w(p),x(g)),v.type&E.HORIZ_LINE_TO&&w(v.x),v.type&E.VERT_LINE_TO&&x(v.y),v.type&E.LINE_TO&&(w(v.x),x(v.y)),v.type&E.CURVE_TO){w(v.x),x(v.y);for(var T=0,O=Ai(p,v.x1,v.x2,v.x);T<O.length;T++)0<(G=O[T])&&1>G&&w(Ci(p,v.x1,v.x2,v.x,G));for(var _=0,D=Ai(g,v.y1,v.y2,v.y);_<D.length;_++)0<(G=D[_])&&1>G&&x(Ci(g,v.y1,v.y2,v.y,G))}if(v.type&E.ARC){w(v.x),x(v.y),hn(v,p,g);for(var P=v.xRot/180*Math.PI,N=Math.cos(P)*v.rX,C=Math.sin(P)*v.rX,R=-Math.sin(P)*v.rY,X=Math.cos(P)*v.rY,U=v.phi1<v.phi2?[v.phi1,v.phi2]:-180>v.phi2?[v.phi2+360,v.phi1+360]:[v.phi2,v.phi1],F=U[0],z=U[1],H=function(B){var j=B[0],st=B[1],nt=180*Math.atan2(st,j)/Math.PI;return nt<F?nt+360:nt},Y=0,q=Mi(R,-N,0).map(H);Y<q.length;Y++)(G=q[Y])>F&&G<z&&w(_i(v.cX,N,R,G));for(var Q=0,rt=Mi(X,-C,0).map(H);Q<rt.length;Q++){var G;(G=rt[Q])>F&&G<z&&x(_i(v.cY,C,X,G))}}return d});return c.minX=1/0,c.maxX=-1/0,c.minY=1/0,c.maxY=-1/0,c}})($||($={}));var yt,cr=function(){function e(){}return e.prototype.round=function(t){return this.transform($.ROUND(t))},e.prototype.toAbs=function(){return this.transform($.TO_ABS())},e.prototype.toRel=function(){return this.transform($.TO_REL())},e.prototype.normalizeHVZ=function(t,n,i){return this.transform($.NORMALIZE_HVZ(t,n,i))},e.prototype.normalizeST=function(){return this.transform($.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform($.QT_TO_C())},e.prototype.aToC=function(){return this.transform($.A_TO_C())},e.prototype.sanitize=function(t){return this.transform($.SANITIZE(t))},e.prototype.translate=function(t,n){return this.transform($.TRANSLATE(t,n))},e.prototype.scale=function(t,n){return this.transform($.SCALE(t,n))},e.prototype.rotate=function(t,n,i){return this.transform($.ROTATE(t,n,i))},e.prototype.matrix=function(t,n,i,r,s,a){return this.transform($.MATRIX(t,n,i,r,s,a))},e.prototype.skewX=function(t){return this.transform($.SKEW_X(t))},e.prototype.skewY=function(t){return this.transform($.SKEW_Y(t))},e.prototype.xSymmetry=function(t){return this.transform($.X_AXIS_SYMMETRY(t))},e.prototype.ySymmetry=function(t){return this.transform($.Y_AXIS_SYMMETRY(t))},e.prototype.annotateArcs=function(){return this.transform($.ANNOTATE_ARCS())},e}(),$o=function(e){return e===" "||e==="	"||e==="\r"||e===`
`},Oi=function(e){return 48<=e.charCodeAt(0)&&e.charCodeAt(0)<=57},Yo=function(e){function t(){var n=e.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return ur(t,e),t.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},t.prototype.parse=function(n,i){var r=this;i===void 0&&(i=[]);for(var s=function(c){i.push(c),r.curArgs.length=0,r.canParseCommandOrComma=!0},a=0;a<n.length;a++){var o=n[a],l=!(this.curCommandType!==E.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),u=Oi(o)&&(this.curNumber==="0"&&o==="0"||l);if(!Oi(o)||u)if(o!=="e"&&o!=="E")if(o!=="-"&&o!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(o!=="."||this.curNumberHasExp||this.curNumberHasDecimal||l){if(this.curNumber&&this.curCommandType!==-1){var h=Number(this.curNumber);if(isNaN(h))throw new SyntaxError("Invalid number ending at "+a);if(this.curCommandType===E.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>h)throw new SyntaxError('Expected positive number, got "'+h+'" at index "'+a+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+a+'"')}this.curArgs.push(h),this.curArgs.length===Xo[this.curCommandType]&&(E.HORIZ_LINE_TO===this.curCommandType?s({type:E.HORIZ_LINE_TO,relative:this.curCommandRelative,x:h}):E.VERT_LINE_TO===this.curCommandType?s({type:E.VERT_LINE_TO,relative:this.curCommandRelative,y:h}):this.curCommandType===E.MOVE_TO||this.curCommandType===E.LINE_TO||this.curCommandType===E.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),E.MOVE_TO===this.curCommandType&&(this.curCommandType=E.LINE_TO)):this.curCommandType===E.CURVE_TO?s({type:E.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===E.SMOOTH_CURVE_TO?s({type:E.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.QUAD_TO?s({type:E.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.ARC&&s({type:E.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!$o(o))if(o===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(o!=="+"&&o!=="-"&&o!==".")if(u)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+a+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+a+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,o!=="z"&&o!=="Z")if(o==="h"||o==="H")this.curCommandType=E.HORIZ_LINE_TO,this.curCommandRelative=o==="h";else if(o==="v"||o==="V")this.curCommandType=E.VERT_LINE_TO,this.curCommandRelative=o==="v";else if(o==="m"||o==="M")this.curCommandType=E.MOVE_TO,this.curCommandRelative=o==="m";else if(o==="l"||o==="L")this.curCommandType=E.LINE_TO,this.curCommandRelative=o==="l";else if(o==="c"||o==="C")this.curCommandType=E.CURVE_TO,this.curCommandRelative=o==="c";else if(o==="s"||o==="S")this.curCommandType=E.SMOOTH_CURVE_TO,this.curCommandRelative=o==="s";else if(o==="q"||o==="Q")this.curCommandType=E.QUAD_TO,this.curCommandRelative=o==="q";else if(o==="t"||o==="T")this.curCommandType=E.SMOOTH_QUAD_TO,this.curCommandRelative=o==="t";else{if(o!=="a"&&o!=="A")throw new SyntaxError('Unexpected character "'+o+'" at index '+a+".");this.curCommandType=E.ARC,this.curCommandRelative=o==="a"}else i.push({type:E.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal=o==="."}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return i},t.prototype.transform=function(n){return Object.create(this,{parse:{value:function(i,r){r===void 0&&(r=[]);for(var s=0,a=Object.getPrototypeOf(this).parse.call(this,i);s<a.length;s++){var o=a[s],l=n(o);Array.isArray(l)?r.push.apply(r,l):r.push(l)}return r}}})},t}(cr),E=function(e){function t(n){var i=e.call(this)||this;return i.commands=typeof n=="string"?t.parse(n):n,i}return ur(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var n=$.CALCULATE_BOUNDS();return this.transform(n),n},t.prototype.transform=function(n){for(var i=[],r=0,s=this.commands;r<s.length;r++){var a=n(s[r]);Array.isArray(a)?i.push.apply(i,a):i.push(a)}return this.commands=i,this},t.encode=function(n){return hr(n)},t.parse=function(n){var i=new Yo,r=[];return i.parse(n,r),i.finish(r),r},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(cr),Xo=((yt={})[E.MOVE_TO]=2,yt[E.LINE_TO]=2,yt[E.HORIZ_LINE_TO]=1,yt[E.VERT_LINE_TO]=1,yt[E.CLOSE_PATH]=0,yt[E.QUAD_TO]=4,yt[E.SMOOTH_QUAD_TO]=2,yt[E.CURVE_TO]=6,yt[E.SMOOTH_CURVE_TO]=4,yt[E.ARC]=7,yt),zt;function Zt(e){if(e.children!==void 0)return e.children;let t,n=0;const i=e.childNodes,r=[];for(;t=i[n++];)t.nodeType===1&&r.push(t);return r}function On(e){const t=e.parentNode;return t&&t.nodeType===Node.ELEMENT_NODE?t:null}function cn(e,t){for(;t.firstChild;)e.append(t.firstChild);return e}function Qt(e){if(e===null)return null;const t=/url\('#?(.*?)'\)/.exec(e)||/url\("#?(.*?)"\)/.exec(e)||/url\(#?(.*?)\)/.exec(e);return t&&t.length>1?t[1]:null}(function(e){e[e.SVG=0]="SVG",e[e.CANVAS=1]="CANVAS"})(zt||(zt={}));const fe="data-sketchy-clip-path",jo=/[acsqt]/i;function Nn(e){if(e.svgSketchDefs)return e.svgSketchDefs;const t=e.svgSketch,n=document.createElementNS("http://www.w3.org/2000/svg","defs");return t.childElementCount>0?t.insertBefore(n,t.firstElementChild):t.appendChild(n),e.svgSketchDefs=n,n}function Ni(e){const t=e.getAttribute("points");if(!t)return[];let n;n=t.indexOf(" ")>0?/\s+/g:/,/g;const i=t.split(n),r=[];for(let s=0;s<i.length;s++){const a=i[s],o=a.split(",");if(o.length===2)r.push({x:parseFloat(o[0]),y:parseFloat(o[1])});else{const l=s+1;l<i.length&&(r.push({x:parseFloat(a),y:parseFloat(i[l])}),s=l)}}return r}function pt(e,t,n){let i=n;const r=t.getAttribute(fe),s=e.pencilFilter&&t.tagName!=="text";if(!(i.tagName==="g"&&i.attributes.length===0)&&(r||s)){const a=document.createElementNS("http://www.w3.org/2000/svg","g");a.appendChild(i),i=a}r&&(i.setAttribute("clip-path",`url(#${r})`),t.removeAttribute(fe)),s&&i.setAttribute("filter","url(#pencilTextureFilter)"),e.svgSketch.appendChild(i)}function Pe(e,t,n){return jo.test(t)&&(n=n?Object.assign(Object.assign({},n),{preserveVertices:!0}):{preserveVertices:!0}),e.rc.path(t,n)}function et(e,t,n,i){let r;if(r=i?t.getAttribute(n):getComputedStyle(t)[n]||t.getAttribute(n),!r){let s=On(t);const a=i;let o=a;return a&&a.referenced===t&&(s=a.root,o=a.parentContext),!s||s===e.sourceSvg?void 0:et(e,s,n,o)}return r}function fr(e,t,n,i){let r;if(r=i?t.getAttribute("opacity"):getComputedStyle(t).opacity||t.getAttribute("opacity"),r){let l=1;l=r.indexOf("%")!==-1?Math.min(1,Math.max(0,parseFloat(r.substring(0,r.length-1))/100)):Math.min(1,Math.max(0,parseFloat(r))),n*=l}let s=On(t);const a=i;let o=a;return a&&a.referenced===t&&(s=a.root,o=a.parentContext),s&&s!==e.sourceSvg?fr(e,s,n,o):n}function Yt(e,t,n){const{fillId:i,strokeId:r}=function(s,a){function o(l){const u=a.getAttribute(l);if(u&&u.indexOf("url")!==-1){const h=Qt(u);if(h&&s.idElements[h]instanceof SVGPatternElement)return h}return null}return{fillId:o("fill"),strokeId:o("stroke")}}(e,t);if(i!==null||r!==null){const s=n();s.setAttribute("fill",i!==null?`url(#${i})`:"none"),s.setAttribute("stroke",r!==null?`url(#${r})`:"none");const a=et(e,t,"stroke-width",e.useElementContext);s.setAttribute("stroke-width",a??"0"),pt(e,t,s),Pi(e,i),Pi(e,r)}}function Pi(e,t){if(t===null)return;const n=Nn(e),i=`#${t}`;if(!n.querySelector(i)){const r=e.sourceSvg.querySelector(i);if(r){if(!e.sketchPatterns)return void n.appendChild(r.cloneNode(!0));const s=function(o,l,u){const h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.appendChild(l);const c=Object.assign(Object.assign({},o),{sourceSvg:h,svgSketch:document.createElementNS("http://www.w3.org/2000/svg","svg"),roughConfig:Object.assign(Object.assign({},o.roughConfig),u)});return c.processElement(c,l,null),cn(document.createElementNS("http://www.w3.org/2000/svg","g"),c.svgSketch)}(e,cn(document.createElementNS("http://www.w3.org/2000/svg","g"),r.cloneNode(!0)),{fillStyle:"solid",roughness:.5}),a=r.cloneNode();n.appendChild(cn(a,s))}}}const Qo=/^([+-]?(?:\d+|\d*\.\d+(?:[eE][+-]?\d+)?))([a-z]*|%)$/,ki={in:96,cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,px:1},Jo=Math.sqrt(2);function ue(e,t,n,i){const{value:r,unit:s}=fn(n);return function(a){return!!ki[a]}(s)?function(a,o){var l;const u=(l=ki[o])!==null&&l!==void 0?l:1;return a*u}(r,s):function(a,o,l,u,h){var c;const d=(c=a.viewBox)!==null&&c!==void 0?c:{w:0,h:0};if(h==="%")return function(p,g,{w:v,h:w}={w:0,h:0}){const x=g/100;return p==="x"?x*v:p==="y"?x*w:x*(Math.sqrt(v*v+w*w)/Jo)}(l,u,d);if(h==="vw"||h==="vh"||h==="vmin"||h==="vmax")return function(p,g,{w:v,h:w}={w:0,h:0}){var x,T;const O=p/100,_=(x=window.innerWidth)!==null&&x!==void 0?x:v,D=(T=window.innerHeight)!==null&&T!==void 0?T:w;if(g==="vw")return O*_;if(g==="vh")return O*D;if(g==="vmin")return O*Math.min(_,D);if(g==="vmax")return O*Math.max(_,D);throw new Error(`Not a viewport length unit: ${g}`)}(u,h,d);if(h==="em"||h==="ex"||h==="ch"||h==="rem")return function(p,g,v,w){var x;if(w==="rem"){const D=document.documentElement,P=fn(getComputedStyle(D).fontSize);return v*(P.unit==="px"?P.value:16)}if(w==="ch"){const D=function(P){const N=On(P);if(!N)return 1;const C=document.createElementNS("http://www.w3.org/2000/svg","text");C.style.visibility="hidden",C.appendChild(document.createTextNode("0")),N.appendChild(C);const R=C.getBBox();return N.removeChild(C),R.width}(g);return v*D}const T=(x=et(p,g,"font-size",p.useElementContext))!==null&&x!==void 0?x:"16px",O=fn(T),_=O.unit==="px"?O.value:16;if(w==="em")return v*_;if(w==="ex")return v*_*.5;throw new Error(`Not a font relative unit: ${w}`)}(a,o,u,h);throw new Error(`Unsupported relative length unit: ${h}`)}(e,t,i,r,s)}function fn(e){const t=e.match(Qo);if(t===null||t.length!==3)throw new Error(`Cannot parse dimension: ${e}`);return{value:parseFloat(t[1]),unit:t[2].toLowerCase()||"px"}}function he(e){if(!e)return!0;const t=e.matrix;return!t||t.a===1&&t.b===0&&t.c===0&&t.d===1&&t.e===0&&t.f===0}function pn(e){if(!e)return!0;const t=e.matrix;return!t||t.a===1&&t.b===0&&t.c===0&&t.d===1}function I(e,t){if(!t)return e;const n=t.matrix;return{x:n.a*e.x+n.c*e.y+n.e,y:n.b*e.x+n.d*e.y+n.f}}function Ii(e){return e.transform&&e.transform.baseVal.numberOfItems>0?e.transform.baseVal.consolidate():null}function pe(e,t,n){if(!n)return Ii(t);const i=Ii(t);if(i){const r=i.matrix,s=n.matrix.multiply(r);return e.sourceSvg.createSVGTransformFromMatrix(s)}return n}function Ft(e,t,n){if(t&&t.matrix&&!he(t)){const i=t.matrix;n.transform.baseVal.numberOfItems>0?n.transform.baseVal.getItem(0).setMatrix(i):n.transform.baseVal.appendItem(t)}}function Ri(e){var t;let n=e.getAttribute("stop-color");if(!n){const i=(t=e.getAttribute("style"))!==null&&t!==void 0?t:"",r=/stop-color:\s?(.*);?/.exec(i);r&&r.length>1&&(n=r[1])}return A(n||"white")}function Vi(e){const t=e.length;let n=0,i=0,r=0,s=0;return e.forEach(a=>{const o=a.toRgb();n+=o.r*o.r,i+=o.g*o.g,r+=o.b*o.b,s+=o.a}),A({r:Math.sqrt(n/t),g:Math.sqrt(i/t),b:Math.sqrt(r/t),a:s/t})}function Ko(e){const t=e.getAttribute("offset");return t?t.indexOf("%")?parseFloat(t.substring(0,t.length-1)):100*parseFloat(t):0}function ta(e,t){if(e.roughConfig.fillStyle==="solid")return{angle:0,gap:0,weight:0};const{width:n,height:i}=t.getBoundingClientRect(),r=n/i,s=Math.sqrt(n*i),{angle:a,gap:o,weight:l}=function(u){const h={angle:{normal:[-30,-50],horizontal:[-30,-50],vertical:[-30,-50]},weight:{normal:[.5,3],small:[.5,3]},gap:{normal:[3,5],small:[3,5]}},c={angle:{normal:[-30,-50],horizontal:[-50,-75],vertical:[-30,-15]},weight:{normal:[1,3],small:[.5,1.7]},gap:{normal:[2,5],small:[1,3]}};switch(u){default:return c;case"zigzag":case"zigzag-line":return Object.assign(Object.assign({},c),{weight:{normal:[.5,3],small:[.5,2]},gap:{normal:[2,6],small:[2,5]}});case"cross-hatch":return Object.assign(Object.assign({},c),{weight:{normal:[1,3],small:[.5,1.3]},gap:{normal:[4,8],small:[2,5]}});case"dots":return h}}(e.roughConfig.fillStyle);return{angle:ea(e,a,r),gap:na(e,o,s),weight:ia(e,l,s)}}function ea({rng:e},{normal:t,horizontal:n,vertical:i},r){if(isFinite(r)){if(r<.25)return e.next(n);if(r>6)return e.next(i)}return e.next(t)}function na({rng:e},{normal:t,small:n},i){return i<45?e.next(n):e.next(t)}function ia({rng:e},{normal:t,small:n},i){return i<45?e.next(n):e.next(t)}function _t(e,t,n){var i;const r=(i=e.roughConfig.fixedDecimalPlaceDigits)!==null&&i!==void 0?i:15,s=Object.assign({},e.roughConfig);let a=1;if(!he(n)){const v=n.matrix,w=v.a*v.d-v.c*v.b;a=Math.sqrt(Math.abs(w))}const o=fr(e,t,1,e.useElementContext),l=et(e,t,"fill",e.useElementContext)||"black",u=o*Di(t,"fill-opacity");if(l.indexOf("url")!==-1){const v=Li(e,l,u);v!=="none"?s.fill=v:delete s.fill}else if(l==="none")delete s.fill;else{const v=A(l);v.setAlpha(u),s.fill=v.toString()}const h=et(e,t,"stroke",e.useElementContext),c=o*Di(t,"stroke-opacity");if(h)if(h.indexOf("url")!==-1)s.stroke=Li(e,h,c);else if(h==="none")s.stroke="none";else{const v=A(h);v.setAlpha(c),s.stroke=v.toString()}else s.stroke="none";const d=et(e,t,"stroke-width",e.useElementContext);if(d){const v=ue(e,t,d,"stroke-width")*a;s.strokeWidth=parseFloat(v.toFixed(r))}else s.strokeWidth=1;const p=et(e,t,"stroke-dasharray",e.useElementContext);p&&p!=="none"&&(s.strokeLineDash=p.split(/[\s,]+/).filter(v=>v.length>0).map(v=>{const w=ue(e,t,v,"stroke-dasharray")*a;return Math.max(.5,parseFloat(w.toFixed(r)))}));const g=et(e,t,"stroke-dashoffset",e.useElementContext);if(g){const v=ue(e,t,g,"stroke-dashoffset")*a;s.strokeLineDashOffset=parseFloat(v.toFixed(r))}if(s.fill&&s.stroke==="none"&&(s.stroke=s.fill,s.strokeWidth=1),e.randomize){const{angle:v,gap:w,weight:x}=ta(e,t);s.hachureAngle=v,s.hachureGap=Math.round(w),s.fillWeight=parseFloat(x.toFixed(r)),s.disableMultiStroke===void 0&&(s.disableMultiStroke=e.rng.next()>.3)}return s}function Di(e,t){const n=getComputedStyle(e)[t]||e.getAttribute(t);return n?n.indexOf("%")!==-1?Math.min(1,Math.max(0,parseFloat(n.substring(0,n.length-1))/100)):Math.min(1,Math.max(0,parseFloat(n))):1}function Li(e,t,n){const i=Qt(t);if(!i)return"none";const r=e.idElements[i];if(!r)return"none";if(typeof r=="string")return r;if(r instanceof SVGLinearGradientElement||r instanceof SVGRadialGradientElement){const s=function(a,o){const l=Array.prototype.slice.apply(a.querySelectorAll("stop"));if(l.length===0)return"transparent";if(l.length===1){const u=Ri(l[0]);return u.setAlpha(o),u.toString()}{const h=[];let c=null;for(let p=0;p<l.length;p++){const g=Ri(l[p]),v=Ko(l[p]),w=c?Vi([c,g]):g;let x=Math.max(1,v/10|0);for(;x>0;)h.push(w),x--;c=g}const d=Vi(h);return d.setAlpha(o),d.toString()}}(r,n);return e.idElements[i]=s,s}return"none"}function V(e){return`${e.x},${e.y}`}function ke(e,t,n,i){if(n.length===0)return;const r=n[0],s=n[n.length-1],a=Qt(t.getAttribute("marker-start")),o=a?e.idElements[a]:null;if(o&&n.length>1){let d=o.orientAngle.baseVal.value;const p=n[1],g=o.getAttribute("orient");if(g==="auto"||g==="auto-start-reverse"){const T=g==="auto"?0:180,O=n[n.length-2];zi(n)?d=mn(O,s,p)-T:d=Ue({x:1,y:0},{x:p.x-r.x,y:p.y-r.y})-T}const v=e.sourceSvg.createSVGMatrix().translate(r.x,r.y).rotate(d).scale(dn(e,o,t)),w=i?i.matrix.multiply(v):v,x=e.sourceSvg.createSVGTransformFromMatrix(w);e.processElement(e,o,x)}const l=Qt(t.getAttribute("marker-end")),u=l?e.idElements[l]:null;if(u){let d=u.orientAngle.baseVal.value;if(n.length>1){const w=u.getAttribute("orient");if(w==="auto"||w==="auto-start-reverse"){const x=n[n.length-2];zi(n)?d=mn(x,s,n[1]):d=Ue({x:1,y:0},{x:s.x-x.x,y:s.y-x.y})}}const p=e.sourceSvg.createSVGMatrix().translate(s.x,s.y).rotate(d).scale(dn(e,u,t)),g=i?i.matrix.multiply(p):p,v=e.sourceSvg.createSVGTransformFromMatrix(g);e.processElement(e,u,v)}const h=Qt(t.getAttribute("marker-mid")),c=h?e.idElements[h]:null;if(c&&n.length>2)for(let d=0;d<n.length;d++){const p=n[d];if(d===0||d===n.length-1)continue;let g=c.orientAngle.baseVal.value;const v=c.getAttribute("orient");(v==="auto"||v==="auto-start-reverse")&&(g=mn(n[d-1],p,n[d+1]));const w=e.sourceSvg.createSVGMatrix().translate(p.x,p.y).rotate(g).scale(dn(e,c,t)),x=i?i.matrix.multiply(w):w,T=e.sourceSvg.createSVGTransformFromMatrix(x);e.processElement(e,c,T)}}function dn(e,t,n){const i=t.getAttribute("markerUnits");let r=1;if(!i||i==="strokeWidth"){const s=et(e,n,"stroke-width");s&&(r=ue(e,n,s,"stroke-width"))}return r}function zi(e){return t=e[0],n=e[e.length-1],t.x===n.x&&t.y===n.y;var t,n}function mn(e,t,n){const i={x:n.x-t.x,y:n.y-t.y},r=Ue(i,{x:e.x-t.x,y:e.y-t.y}),s=t.x+1,a=t.y,o=Ue(i,{x:s-t.x,y:a-t.y});return((l=r)-180*Math.sign(l))/2-o;var l}function Ue(e,t){const n=Math.atan2(e.y,e.x),i=Math.atan2(t.y,t.x)-n,r=-Math.sign(i)*Math.PI*2,s=Math.abs(r+i)<Math.abs(i)?r+i:i;return Math.round(360*s/(2*Math.PI))}function Fi(e,t,{x:n,y:i,w:r,h:s}){Yt(e,t,()=>{const a=document.createElementNS("http://www.w3.org/2000/svg","rect");return a.x.baseVal.value=n,a.y.baseVal.value=i,a.width.baseVal.value=r,a.height.baseVal.value=s,a})}function ra(e,t,n,i){const r=Qt(n);if(!r)return;const s=e.idElements[r];if(!s)return;const a=Nn(e),o=`${r}_${a.childElementCount}`,l=document.createElementNS("http://www.w3.org/2000/svg","clipPath");l.id=o,function(c,d){if(c.tagName!=="g")return void c.setAttribute(fe,d);const p=[],g=Zt(c);for(let v=g.length-1;v>=0;v--)p.push(g[v]);for(;p.length>0;){const v=p.pop();v.setAttribute(fe,d);const w=Zt(v);for(let x=w.length-1;x>=0;x--)p.push(w[x])}}(t,o);const u=[],h=Zt(s);for(let c=h.length-1;c>=0;c--){const d=h[c],p=pe(e,d,i);u.push({element:d,transform:p})}for(;u.length>0;){const{element:c,transform:d}=u.pop();try{sa(e,c,l,d)}catch(g){console.error(g)}if(c.tagName==="defs"||c.tagName==="svg"||c.tagName==="clipPath"||c.tagName==="text")continue;const p=Zt(c);for(let g=p.length-1;g>=0;g--){const v=p[g],w=pe(e,v,d);u.push({element:v,transform:w})}}l.childNodes.length>0&&a.appendChild(l)}function sa(e,t,n,i){switch(t.tagName){case"rect":(function(r,s,a,o){const l=s.x.baseVal.value,u=s.y.baseVal.value,h=s.width.baseVal.value,c=s.height.baseVal.value;if(h===0||c===0)return;const d=s.hasAttribute("rx")?s.rx.baseVal.value:null,p=s.hasAttribute("ry")?s.ry.baseVal.value:null,g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.x.baseVal.value=l,g.y.baseVal.value=u,g.width.baseVal.value=h,g.height.baseVal.value=c,d&&(g.rx.baseVal.value=d),p&&(g.ry.baseVal.value=p),Ft(0,o,g),a.appendChild(g)})(0,t,n,i);break;case"circle":(function(r,s,a,o){const l=s.cx.baseVal.value,u=s.cy.baseVal.value,h=s.r.baseVal.value;if(h===0)return;const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.cx.baseVal.value=l,c.cy.baseVal.value=u,c.r.baseVal.value=h,Ft(0,o,c),a.appendChild(c)})(0,t,n,i);break;case"ellipse":(function(r,s,a,o){const l=s.cx.baseVal.value,u=s.cy.baseVal.value,h=s.rx.baseVal.value,c=s.ry.baseVal.value;if(h===0||c===0)return;const d=document.createElementNS("http://www.w3.org/2000/svg","ellipse");d.cx.baseVal.value=l,d.cy.baseVal.value=u,d.rx.baseVal.value=h,d.ry.baseVal.value=c,Ft(0,o,d),a.appendChild(d)})(0,t,n,i);break;case"polygon":(function(r,s,a,o){const l=document.createElementNS("http://www.w3.org/2000/svg","polygon");l.setAttribute("points",s.getAttribute("points")),Ft(0,o,l),a.appendChild(l)})(0,t,n,i);break;case"path":(function(r,s,a,o){const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",s.getAttribute("d")),Ft(0,o,l),a.appendChild(l)})(0,t,n,i)}}function oa(e,t,n){const i=document.createElementNS("http://www.w3.org/2000/svg","g");i.setAttribute("class","text-container"),Ft(0,n,i);const r=t.cloneNode(!0);r.transform.baseVal.numberOfItems>0&&r.transform.baseVal.clear(),r.removeAttribute("clip-path");const{cssFont:s,fontSize:a}=function(u,h,c=!1){const d={};let p="";const g=et(u,h,"font-style",u.useElementContext);g&&(p+=c?`font-style: ${g};`:g,d.fontStyle=g);const v=et(u,h,"font-weight",u.useElementContext);v&&(p+=c?`font-weight: ${v};`:` ${v}`,d.fontWeight=v);const w=et(u,h,"font-size",u.useElementContext);if(w&&(p+=c?`font-size: ${w};`:` ${w}`,d.fontSize=w),u.fontFamily)p+=c?`font-family: ${u.fontFamily};`:` ${u.fontFamily}`,d.fontFamiliy=u.fontFamily;else{const x=et(u,h,"font-family",u.useElementContext);x&&(p+=c?`font-family: ${x};`:` ${x}`,d.fontFamiliy=x)}return p=p.trim(),Object.assign(Object.assign({},d),{cssFont:p})}(e,t,!0);if(r.setAttribute("style",function(...u){let h="";u=u.filter(c=>c!==null);for(const c of u)h.length>0&&h[h.length-1]!==";"&&(h+=";"),h+=c;return h}(r.getAttribute("style"),s)),Zi(e,t,r),r.childElementCount>0){const u=Zt(r),h=Zt(t);for(let c=0;c<u.length;c++){const d=u[c];d instanceof SVGTSpanElement&&Zi(e,h[c],d)}}i.appendChild(r),pt(e,t,i);const o=e.fontFamily!==null,l=r.hasAttribute(fe);o&&l&&a&&function(u,h,c,d){const{width:p,height:g}=h.getBBox();if(p<=0||g<=0)return;const v=ue(u,c,d,"font-size");pr(u,{w:p},c,v)}(e,t,r,a)}function pr(e,t,n,i){const{w:r}=function({svgSketch:a,svgSketchIsInDOM:o},l){const u="visibility:hidden;position:absolute;left:-100%;top-100%;",h=a.getAttribute("style");h?a.setAttribute("style",`${h};${u}`):a.setAttribute("style",u);const c=document.body,d=a.parentElement;o||c.appendChild(a);const{width:p,height:g}=l.getBBox();return o||(c.removeChild(a),d&&d.appendChild(a)),h?a.setAttribute("style",h):a.removeAttribute("style"),{w:p,h:g}}(e,n);if(r<t.w||i<=1)return;const s=i-1;n.style.fontSize=`${s}px`,pr(e,t,n,s)}function Zi(e,t,n){const i=et(e,t,"stroke"),r=i?et(e,t,"stroke-width"):null,s=et(e,t,"fill"),a=et(e,t,"dominant-baseline"),o=et(e,t,"text-anchor",e.useElementContext);i&&n.setAttribute("stroke",i),r&&n.setAttribute("stroke-width",r),s&&n.setAttribute("fill",s),o&&n.setAttribute("text-anchor",o),a&&n.setAttribute("dominant-baseline",a)}function dr(e,t,n,i,r){var s,a;const o=[],l={x:0,y:0,w:i??0,h:r??0};if(t instanceof SVGSVGElement||t instanceof SVGSymbolElement||t instanceof SVGMarkerElement){let u=0,h=0;if(t instanceof SVGSymbolElement)u=parseFloat((s=t.getAttribute("x"))!==null&&s!==void 0?s:"")||0,h=parseFloat((a=t.getAttribute("y"))!==null&&a!==void 0?a:"")||0,i=i??(parseFloat(t.getAttribute("width"))||void 0),r=r??(parseFloat(t.getAttribute("height"))||void 0);else if(t instanceof SVGMarkerElement){const g=t.getAttribute("markerWidth"),v=t.getAttribute("markerHeight");i=g!==null?parseFloat(g):3,r=v!==null?parseFloat(v):3}else t!==e.sourceSvg&&(u=t.x.baseVal.value,h=t.y.baseVal.value);let c=e.sourceSvg.createSVGMatrix();if(t.getAttribute("viewBox")){const{x:g,y:v,width:w,height:x}=t.viewBox.baseVal;if(l.x=g,l.y=v,l.w=w,l.h=x,i!==void 0&&r!==void 0){const T=i/w,O=r/x,_=u+.5*i,D=h+.5*r,P=g+.5*w,N=v+.5*x;c=c.translate(_,D),c=t.getAttribute("preserveAspectRatio")==="none"?c.scaleNonUniform(T,O):c.scale(Math.min(T,O)),c=c.translate(-P,-N)}}else c=c.translate(u,h);t instanceof SVGMarkerElement&&(c=c.translate(-t.refX.baseVal.value,-t.refY.baseVal.value));const d=n?n.matrix.multiply(c):c;n=e.sourceSvg.createSVGTransformFromMatrix(d);const p=Zt(t);for(let g=p.length-1;g>=0;g--){const v=p[g];if(v instanceof SVGSymbolElement||v instanceof SVGMarkerElement)continue;const w=pe(e,v,n);o.push({element:v,transform:w,viewBox:l})}}else o.push({element:t,transform:n,viewBox:l});for(;o.length>0;){const{element:u,transform:h,viewBox:c}=o.pop();try{e.viewBox=c,aa(e,u,h)}catch(p){console.error(p)}if(u.tagName==="defs"||u.tagName==="symbol"||u.tagName==="marker"||u.tagName==="svg"||u.tagName==="clipPath")continue;const d=Zt(u);for(let p=d.length-1;p>=0;p--){const g=d[p],v=pe(e,g,h);o.push({element:g,transform:v,viewBox:c})}}}function aa(e,t,n){if(function(r){const s=r.style;return!!s&&(s.display==="none"||s.visibility==="hidden")}(t))return;const i=t.getAttribute("clip-path");switch(i&&ra(e,t,i,n),t.tagName){case"svg":case"symbol":(function(r,s,a){let o=parseFloat(s.getAttribute("width")),l=parseFloat(s.getAttribute("height"));(isNaN(o)||isNaN(l))&&(o=l=void 0),dr(r,s,a,o,l)})(e,t,n);break;case"rect":(function(r,s,a){const o=s.x.baseVal.value,l=s.y.baseVal.value,u=s.width.baseVal.value,h=s.height.baseVal.value;if(u===0||h===0)return;let c=s.hasAttribute("rx")?Math.min(Math.max(0,s.rx.baseVal.value),u/2):null,d=s.hasAttribute("ry")?Math.min(Math.max(0,s.ry.baseVal.value),h/2):null;c===null&&d===null||(c=c===null?d:c,d=d===null?c:d);const p=I({x:o,y:l},a),g=I({x:o+u,y:l+h},a),v=g.x-p.x,w=g.y-p.y,x={x:p.x,y:p.y,w:v,h:w};if(!he(a)&&!pn(a)||c||d){let T="";if(c!==null&&d!==null){const _=1.3333333333333333*(Math.sqrt(2)-1),D=I({x:o+c,y:l},a);T+=`M ${V(D)}`,T+=`L ${V(I({x:o+u-c,y:l},a))}`;const P=I({x:o+u-c+_*c,y:l},a),N=I({x:o+u,y:l+_*d},a),C=I({x:o+u,y:l+d},a);T+=`C ${V(P)} ${V(N)} ${V(C)}`,T+=`L ${V(I({x:o+u,y:l+h-d},a))}`;const R=I({x:o+u,y:l+h-d+_*d},a),X=I({x:o+u-_*c,y:l+h},a),U=I({x:o+u-c,y:l+h},a);T+=`C ${V(R)} ${V(X)} ${V(U)}`,T+=`L ${V(I({x:o+c,y:l+h},a))}`;const F=I({x:o+c-_*c,y:l+h},a),z=I({x:o,y:l+h-_*d},a),H=I({x:o,y:l+h-d},a);T+=`C ${V(F)} ${V(z)} ${V(H)}`,T+=`L ${V(I({x:o,y:l+d},a))}`;const Y=I({x:o,y:l+_*d},a),q=I({x:o+_*c,y:l},a);T+=`C ${V(Y)} ${V(q)} ${V(D)}`,T+="z"}else{const _=I({x:o,y:l},a),D=I({x:o+u,y:l},a),P=I({x:o+u,y:l+h},a),N=I({x:o,y:l+h},a);T+=`M ${V(_)}`,T+=`L ${V(D)}`,T+=`L ${V(P)}`,T+=`L ${V(N)}`,T+="z"}const O=Pe(r,T,_t(r,s,a));Fi(r,s,x),pt(r,s,O)}else{const T=r.rc.rectangle(x.x,x.y,x.w,x.h,_t(r,s,a));Fi(r,s,x),pt(r,s,T)}})(e,t,n);break;case"path":(function(r,s,a){const o=s.getAttribute("d"),l=new E(o).toAbs().transform($.NORMALIZE_HVZ()).transform($.NORMALIZE_ST()),u=new E(l.commands.map(g=>Object.assign({},g)));a&&u.transform($.MATRIX(a.matrix.a,a.matrix.b,a.matrix.c,a.matrix.d,a.matrix.e,a.matrix.f));const h=hr(u.commands);if(h.indexOf("undefined")!==-1)return void console.error("broken path data");const c=Pe(r,h,_t(r,s,a));Yt(r,s,()=>{const g=document.createElementNS("http://www.w3.org/2000/svg","path");return g.setAttribute("d",h),g}),pt(r,s,c);const d=[];let p;l.commands.forEach(g=>{switch(g.type){case E.MOVE_TO:{const v={x:g.x,y:g.y};d.push(v),p=v;break}case E.LINE_TO:case E.QUAD_TO:case E.SMOOTH_QUAD_TO:case E.CURVE_TO:case E.SMOOTH_CURVE_TO:case E.ARC:d.push({x:g.x,y:g.y});break;case E.HORIZ_LINE_TO:d.push({x:g.x,y:0});break;case E.VERT_LINE_TO:d.push({x:0,y:g.y});break;case E.CLOSE_PATH:p&&d.push(p)}}),ke(r,s,d,a)})(e,t,n);break;case"use":(function(r,s,a){let o=s.href.baseVal;o.startsWith("#")&&(o=o.substring(1));const l=r.idElements[o];if(l){let u,h;s.getAttribute("width")&&s.getAttribute("height")&&(u=s.width.baseVal.value,h=s.height.baseVal.value);const c=s.x.baseVal.value,d=s.y.baseVal.value;let p=r.sourceSvg.createSVGMatrix().translate(c,d);p=a?a.matrix.multiply(p):p;const g=r.sourceSvg.createSVGTransformFromMatrix(p);if(r.useElementContext){const v={root:s,referenced:l,parentContext:Object.assign({},r.useElementContext)};r.useElementContext=v}else r.useElementContext={root:s,referenced:l,parentContext:null};r.processElement(r,l,pe(r,l,g),u,h),r.useElementContext.parentContext?r.useElementContext=r.useElementContext.parentContext:r.useElementContext=null}})(e,t,n);break;case"line":(function(r,s,a){const o={x:s.x1.baseVal.value,y:s.y1.baseVal.value},l={x:s.x2.baseVal.value,y:s.y2.baseVal.value},{x:u,y:h}=I(o,a),{x:c,y:d}=I(l,a);if(u===c&&h===d)return;const p=r.rc.line(u,h,c,d,_t(r,s,a));Yt(r,s,()=>{const g=document.createElementNS("http://www.w3.org/2000/svg","line");return g.x1.baseVal.value=u,g.y1.baseVal.value=h,g.x2.baseVal.value=c,g.y2.baseVal.value=d,g}),pt(r,s,p),ke(r,s,[o,l],a)})(e,t,n);break;case"circle":(function(r,s,a){const o=s.cx.baseVal.value,l=s.cy.baseVal.value,u=s.r.baseVal.value;if(u===0)return;const h=I({x:o,y:l},a),c=I({x:o+u,y:l+u},a).x-h.x;let d;if(he(a)||pn(a))d=r.rc.circle(h.x,h.y,2*c,Object.assign(Object.assign({},_t(r,s,a)),{preserveVertices:!0}));else{const p=1.3333333333333333*(Math.sqrt(2)-1),g=I({x:o+u,y:l},a),v=I({x:o,y:l+u},a),w=I({x:o-u,y:l},a),x=I({x:o,y:l-u},a),T=I({x:o+u,y:l+p*u},a),O=I({x:o+p*u,y:l+u},a),_=I({x:o-u,y:l+p*u},a),D=I({x:o-p*u,y:l-u},a),P=I({x:o+u,y:l-p*u},a);d=Pe(r,`M ${V(g)} C ${V(T)} ${V(O)} ${V(v)} S ${V(_)} ${V(w)} S ${V(D)} ${V(x)} S ${V(P)} ${V(g)}z`,_t(r,s,a))}Yt(r,s,()=>{const p=document.createElementNS("http://www.w3.org/2000/svg","circle");return p.cx.baseVal.value=h.x,p.cy.baseVal.value=h.y,p.r.baseVal.value=c,p}),pt(r,s,d)})(e,t,n);break;case"ellipse":(function(r,s,a){const o=s.cx.baseVal.value,l=s.cy.baseVal.value,u=s.rx.baseVal.value,h=s.ry.baseVal.value;if(u===0||h===0)return;const c=I({x:o,y:l},a),d=I({x:o+u,y:l+h},a),p=d.x-c.x,g=d.y-c.y;let v;if(he(a)||pn(a))v=r.rc.ellipse(c.x,c.y,2*p,2*g,Object.assign(Object.assign({},_t(r,s,a)),{preserveVertices:!0}));else{const w=1.3333333333333333*(Math.sqrt(2)-1),x=I({x:o+u,y:l},a),T=I({x:o,y:l+h},a),O=I({x:o-u,y:l},a),_=I({x:o,y:l-h},a),D=I({x:o+u,y:l+w*h},a),P=I({x:o+w*u,y:l+h},a),N=I({x:o-u,y:l+w*h},a),C=I({x:o-w*u,y:l-h},a),R=I({x:o+u,y:l-w*h},a);v=Pe(r,`M ${V(x)} C ${V(D)} ${V(P)} ${V(T)} S ${V(N)} ${V(O)} S ${V(C)} ${V(_)} S ${V(R)} ${V(x)}z`,_t(r,s,a))}Yt(r,s,()=>{const w=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return w.cx.baseVal.value=c.x,w.cy.baseVal.value=c.y,w.rx.baseVal.value=p,w.ry.baseVal.value=g,w}),pt(r,s,v)})(e,t,n);break;case"polyline":(function(r,s,a){const o=Ni(s),l=o.map(h=>{const c=I(h,a);return[c.x,c.y]}),u=_t(r,s,a);if(Yt(r,s,()=>{const h=document.createElementNS("http://www.w3.org/2000/svg","polyline");return h.setAttribute("points",l.join(" ")),h}),u.fill&&u.fill!=="none"){const h=Object.assign(Object.assign({},u),{stroke:"none"});pt(r,s,r.rc.polygon(l,h))}pt(r,s,r.rc.linearPath(l,u)),ke(r,s,o,a)})(e,t,n);break;case"polygon":(function(r,s,a){const o=Ni(s),l=o.map(h=>{const c=I(h,a);return[c.x,c.y]}),u=r.rc.polygon(l,_t(r,s,a));Yt(r,s,()=>{const h=document.createElementNS("http://www.w3.org/2000/svg","polygon");return h.setAttribute("points",l.join(" ")),h}),pt(r,s,u),o.length>0&&(o.push(o[0]),ke(r,s,o,a))})(e,t,n);break;case"text":oa(e,t,n);break;case"image":(function(r,s,a){const o=s.href.baseVal,l=s.x.baseVal.value,u=s.y.baseVal.value;let h,c;if(s.getAttribute("width")&&s.getAttribute("height")&&(h=s.width.baseVal.value,c=s.height.baseVal.value),o.startsWith("data:")&&o.indexOf("image/svg+xml")!==-1){const d=/^data:([^,]*),(.*)/.exec(o);if(d&&d.length>2){const p=d[1];let g=d[2];const v=p.indexOf("base64")!==-1,w=p.indexOf("utf8")!==-1;v&&(g=atob(g)),w||(g=decodeURIComponent(g));const x=new DOMParser().parseFromString(g,"image/svg+xml").firstChild;let T=r.sourceSvg.createSVGMatrix().translate(l,u);T=a?a.matrix.multiply(T):T,r.processElement(r,x,r.sourceSvg.createSVGTransformFromMatrix(T),h,c)}}else{const d=s.cloneNode(),p=document.createElementNS("http://www.w3.org/2000/svg","g");Ft(0,a,p),p.appendChild(d),pt(r,s,p)}})(e,t,n);break;case"foreignObject":(function(r,s,a){const o=s.cloneNode(!0),l=document.createElementNS("http://www.w3.org/2000/svg","g"),u=["color","font-family","font-size","font-style","font-variant","font-weight"],h=getComputedStyle(s);for(const c of u)l.style.setProperty(c,h.getPropertyValue(c));o.transform.baseVal.clear(),Ft(0,a,l),l.appendChild(o),pt(r,o,l)})(e,t,n)}}class la{constructor(t){this.rng=t?new Ji(t):null}next(t){var n,i;const r=(i=(n=this.rng)===null||n===void 0?void 0:n.next())!==null&&i!==void 0?i:Math.random();if(t){const s=t[0];return r*(t[1]-s)+s}return r}}class ua{set svg(t){this.$svg!==t&&(this.$svg=t,this.sourceSvgChanged())}get svg(){return this.$svg}set outputType(t){if(this.$outputType!==t){if(t===zt.CANVAS&&this.outputElement instanceof SVGSVGElement||t===zt.SVG&&this.outputElement instanceof HTMLCanvasElement)throw new Error(`Output format ${t} incompatible with given output element ${this.outputElement.tagName}`);this.$outputType=t}}get outputType(){return this.$outputType}set roughConfig(t){t.fixedDecimalPlaceDigits===void 0&&(t.fixedDecimalPlaceDigits=3),this.$roughConfig=t}get roughConfig(){return this.$roughConfig}constructor(t,n=zt.SVG,i={}){if(this.backgroundColor=null,this.fontFamily="Comic Sans MS, cursive",this.randomize=!0,this.seed=null,this.sketchPatterns=!0,this.pencilFilter=!1,this.width=0,this.height=0,this.$roughConfig={},this.idElements={},this.lastResult=null,!t)throw new Error("No target provided");const r=typeof t=="string"?document.querySelector(t):t;if(!r)throw new Error("Could not find target in document");this.roughConfig=i,this.outputElement=r,r instanceof HTMLCanvasElement?this.$outputType=zt.CANVAS:r instanceof SVGSVGElement?this.$outputType=zt.SVG:this.$outputType=n}sketch(t=!1){var n,i;if(!this.svg)return Promise.resolve(null);t&&this.sourceSvgChanged();const r=this.prepareRenderContainer(),s=this.createRenderContext(r);if(this.pencilFilter&&Nn(s).appendChild(function(){const a=document.createElementNS("http://www.w3.org/2000/svg","filter");a.setAttribute("id","pencilTextureFilter"),a.setAttribute("x","0%"),a.setAttribute("y","0%"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("filterUnits","objectBoundingBox");const o=document.createElementNS("http://www.w3.org/2000/svg","feTurbulence");o.setAttribute("type","fractalNoise"),o.setAttribute("baseFrequency","2"),o.setAttribute("numOctaves","5"),o.setAttribute("stitchTiles","stitch"),o.setAttribute("result","f1"),a.appendChild(o);const l=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");l.setAttribute("type","matrix"),l.setAttribute("values","0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -1.5 1.5"),l.setAttribute("result","f2"),a.appendChild(l);const u=document.createElementNS("http://www.w3.org/2000/svg","feComposite");return u.setAttribute("operator","in"),u.setAttribute("in","SourceGraphic"),u.setAttribute("in2","f2"),u.setAttribute("result","f3"),a.appendChild(u),a}()),s.processElement(s,this.svg,null,this.width,this.height),this.outputElement instanceof SVGSVGElement)return Promise.resolve(this.outputElement);if(this.outputElement instanceof HTMLCanvasElement)return this.drawToCanvas(s,this.outputElement);if((i=(n=this.lastResult)===null||n===void 0?void 0:n.parentNode)===null||i===void 0||i.removeChild(this.lastResult),this.outputType===zt.SVG){const a=s.svgSketch;return this.outputElement.appendChild(a),this.lastResult=a,Promise.resolve(a)}{const a=document.createElement("canvas");return this.outputElement.appendChild(a),this.lastResult=a,this.drawToCanvas(s,a)}}createRenderContext(t){if(!this.svg)throw new Error("No source SVG set yet.");let n=this.roughConfig;return this.seed!==null&&(n=Object.assign({seed:this.seed},n)),{rc:To.svg(t,{options:n}),roughConfig:this.roughConfig,fontFamily:this.fontFamily,pencilFilter:this.pencilFilter,randomize:this.randomize,rng:new la(this.seed),sketchPatterns:this.sketchPatterns,idElements:this.idElements,sourceSvg:this.svg,svgSketch:t,svgSketchIsInDOM:document.body.contains(t),styleSheets:Array.from(this.svg.querySelectorAll("style")).map(i=>i.sheet).filter(i=>i!==null),processElement:dr}}drawToCanvas(t,n){n.width=this.width,n.height=this.height;const i=n.getContext("2d");return i.clearRect(0,0,this.width,this.height),new Promise(r=>{const s=new XMLSerializer().serializeToString(t.svgSketch),a=new Image;a.onload=function(){i.drawImage(this,0,0),r(n)},a.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(s)}`})}prepareRenderContainer(){let t,n;for(t=this.outputElement instanceof SVGSVGElement?this.outputElement:document.createElementNS("http://www.w3.org/2000/svg","svg"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");t.firstChild;)t.removeChild(t.firstChild);return t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString()),this.backgroundColor&&(n=document.createElementNS("http://www.w3.org/2000/svg","rect"),n.width.baseVal.value=this.width,n.height.baseVal.value=this.height,n.setAttribute("fill",this.backgroundColor),t.appendChild(n)),t.setAttribute("stroke-linecap","round"),t}sourceSvgChanged(){const t=this.$svg;if(t){const n=this.roughConfig.fixedDecimalPlaceDigits;this.width=parseFloat(this.coerceSize(t,"width",300).toFixed(n)),this.height=parseFloat(this.coerceSize(t,"height",150).toFixed(n)),this.collectElementsWithID()}}collectElementsWithID(){this.idElements={};const t=Array.prototype.slice.apply(this.svg.querySelectorAll("*[id]"));for(const n of t){const i=n.getAttribute("id");i&&(this.idElements[i]=n)}}coerceSize(t,n,i){let r=i;const s=t.hasAttribute("viewBox");return t.hasAttribute(n)?r=t[n].baseVal.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&s?t.viewBox.baseVal[n]:t[n].baseVal.value:s&&(r=t.viewBox.baseVal[n]),r}}var ha=hs('<!> <div id="view"><div id="container" class="h-full overflow-auto"></div></div>',1);function xa(e,t){Hi(t,!0);const[n,i]=cs(),r=()=>si(ai,"$inputStateStore",n),s=()=>si(ws,"$mode",n);let a=li(t,"panZoomState",23,()=>new Us),o=li(t,"shouldShowGrid",3,!0),l="",u="",h=_e(void 0),c,d=_e(void 0),p=_e(!1),g=!0,v=!0,w=_e(void 0);const x=()=>{a().onPanZoomChange=(C,R)=>{vs({pan:C,zoom:R}),ys("panZoom")}},T=(C,R)=>{a().updateElement(R,C)},O=async C=>{var F,z,H,Y;const R=Date.now();if(C.error!==void 0){Wt(p,!0);return}Wt(p,!1);let X;try{if(gt(h)){if(v=!0,l===C.code&&u===C.mermaid&&c===C.rough&&g===C.panZoom||!Ns())return;l=C.code,u=C.mermaid,c=C.rough,g=C.panZoom??!0,Gs(l)&&await((F=gt(w))==null?void 0:F());const q=(H=(z=gt(d))==null?void 0:z.parentElement)==null?void 0:H.scrollTop;delete gt(h).dataset.processed;const Q=Ms("graph-"),{svg:rt,bindFunctions:G,diagramType:B}=await bs(JSON.parse(C.mermaid),l,Q);if(X=B,rt.length>0){gt(h).innerHTML=rt;let j=document.querySelector(`#${Q}`);if(!j)throw new Error("graph-div not found");if(C.rough){const st=new ua("#container");st.svg=j,await st.sketch(),j.remove();const nt=document.querySelector("#container > svg");if(!nt)throw new Error("sketch not found");const kt=nt.getAttribute("height"),Jt=nt.getAttribute("width");nt.setAttribute("id","graph-div"),nt.setAttribute("height","100%"),nt.setAttribute("width","100%"),nt.setAttribute("viewBox",`0 0 ${Jt} ${kt}`),nt.style.maxWidth="100%",j=nt}else j.setAttribute("height","100%"),j.style.maxWidth="100%",G&&G(j);C.panZoom&&T(C,j)}(Y=gt(d))!=null&&Y.parentElement&&q&&(gt(d).parentElement.scrollTop=q),Wt(p,!1)}else v&&(v=!1)}catch(q){console.error("view fail",q),Wt(p,!0)}const U=Date.now()-R;xs({code:l,diagramType:X,isRough:C.rough,renderTime:U}),Os(U,()=>{fs(ai,ri(r).updateDiagram=!0,ri(r))})};rs(()=>{x();let C=Promise.resolve();ds.subscribe(R=>{C=C.then(()=>O(R).catch(()=>{}))})});var _=ha(),D=Ui(_);Bs(D,{get waitForFontAwesomeToLoad(){return gt(w)},set waitForFontAwesomeToLoad(C){Wt(w,C,!0)}});var P=os(D,2),N=as(P);ui(N,C=>Wt(h,C),()=>gt(h)),ls(P),ui(P,C=>Wt(d,C),()=>gt(d)),ss(()=>ms(P,1,gs(["h-full w-full",o()&&`grid-bg-${s()}`,gt(p)&&"opacity-50"]),"svelte-4502l3")),Bi(e,_),Gi(),i()}export{Us as P,xa as V,ba as w};
