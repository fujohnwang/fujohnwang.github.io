<!doctype html>
<html lang="zh" class="motion-safe:scroll-smooth 2xl:text-[20px]"> 
 <head> 
  <meta charset="utf-8"> 
  <meta name="keywords" content="è‡ªå®šä¹‰Maven archetypeçš„åˆ›å»º - æ¶æ„å¸ˆï¼Œ æ¶æ„å£«ï¼Œæ¶æ„æ•™ç»ƒ, æ•™ç»ƒ, ä¸ªäººæˆé•¿, ç»„ç»‡æˆé•¿, ç‹¬ç«‹é¡¾é—®, architecture, book author, thinker, fighter, æ¶æ„, æ€è€ƒ, æŠ€æœ¯, æ­¦æœ¯, å“²å­¦"> 
  <meta name="description" content="è‡ªå®šä¹‰Maven archetypeçš„åˆ›å»º - ç¦å¼ºè¯´ï¼Œæ‰¶å¢™è€å¸ˆè¯´ï¼Œç‹ç¦å¼ºçš„ä¸ªäººåšå®¢ï¼Œ ä¸€ä¸ªæ¶æ„å£«çš„æ€è€ƒä¸æ²‰æ·€"> 
  <meta name="author" content="ç‹ç¦å¼º"> 
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <meta name="robots" content="index,follow"> 
  <title>è‡ªå®šä¹‰Maven archetypeçš„åˆ›å»º -ç‹ç¦å¼ºçš„ä¸ªäººåšå®¢ï¼šä¸€ä¸ªæ¶æ„å£«çš„æ€è€ƒä¸æ²‰æ·€</title> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="canonical" href="https://afoo.me/posts/2009-10-29-create-custom-maven-archetype.html"> 
  <link rel="icon" type="image/svg+xml" href="https://afoo.me/favicon.svg"> 
  <link rel="mask-icon" href="https://afoo.me/favicon.svg" color="#3383F8"> 
  <script src="https://unpkg.com/htmx.org@1.9.5"></script> 
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"> 
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script> 
  <link rel="stylesheet" href="/css/af.css"> 
  <link ref="stylesheet" href="/css/pygments.css"> 
  <style type="text/css">
        /* pre > code{white-space: pre-line;} */

        .x-indicator{
            display:none;
        }
        .htmx-request .x-indicator{
            display:inline;
        }
        .htmx-request.x-indicator{
            display:inline;
        }
    </style> 
  <style type="text/css">
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          color: #aaaaaa;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span.al { color: #ff0000; font-weight: bold; } /* Alert */
      code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
      code span.at { color: #7d9029; } /* Attribute */
      code span.bn { color: #40a070; } /* BaseN */
      code span.bu { } /* BuiltIn */
      code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #4070a0; } /* Char */
      code span.cn { color: #880000; } /* Constant */
      code span.co { color: #60a0b0; font-style: italic; } /* Comment */
      code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
      code span.do { color: #ba2121; font-style: italic; } /* Documentation */
      code span.dt { color: #902000; } /* DataType */
      code span.dv { color: #40a070; } /* DecVal */
      code span.er { color: #ff0000; font-weight: bold; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #40a070; } /* Float */
      code span.fu { color: #06287e; } /* Function */
      code span.im { } /* Import */
      code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
      code span.kw { color: #007020; font-weight: bold; } /* Keyword */
      code span.op { color: #666666; } /* Operator */
      code span.ot { color: #007020; } /* Other */
      code span.pp { color: #bc7a00; } /* Preprocessor */
      code span.sc { color: #4070a0; } /* SpecialChar */
      code span.ss { color: #bb6688; } /* SpecialString */
      code span.st { color: #4070a0; } /* String */
      code span.va { color: #19177c; } /* Variable */
      code span.vs { color: #4070a0; } /* VerbatimString */
      code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    </style> 
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "headline": "è‡ªå®šä¹‰Maven archetypeçš„åˆ›å»º",
      "image": [
        "https://afoo.me/images/fb_subscribe.jpg"
       ],
      "datePublished": "0000-00-00",
      "author": [{
          "@type": "Person",
          "name": "ç‹ç¦å¼º",
          "url": "https://afoo.me"
        }]
    }
  </script> 
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "irqzhxtyzn");
  </script> 
 </head> 
 <body class="antialiased text-gray-900 dark:text-slate-300 tracking-tight bg-white dark:bg-slate-900 vsc-initialized"> 
  <header class="sticky top-0 z-40 flex-none mx-auto w-full bg-white md:bg-white/90 dark:bg-slate-900 dark:md:bg-slate-900/90 md:backdrop-blur-sm border-b dark:border-b-0" id="header"> 
   <div class="py-3 px-3 mx-auto w-full md:flex md:justify-between max-w-6xl md:px-4"> 
    <div class="flex justify-between"> <a class="flex items-center" href="https://afoo.me"> <span class="self-center ml-2 text-2xl font-extrabold text-gray-900 whitespace-nowrap dark:text-white"> <h1>ç‹ç¦å¼ºçš„ä¸ªäººåšå®¢</h1> </span> </a> 
     <div class="flex items-center md:hidden"> <button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-toggle-color-scheme=""> 
       <svg viewbox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:sun"> <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"> 
         <circle cx="12" cy="12" r="4"></circle> 
         <path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"> 
         </path> 
        </g> 
       </svg> </button> <button type="button" class="ml-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center transition" aria-label="Toggle Menu" data-toggle-menu=""> 
       <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:menu"> <g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> 
         <path d="M4 8h16"></path> 
         <path d="M4 16h16"></path> 
        </g> 
       </svg> </button> 
     </div> 
    </div> 
    <nav class="items-center w-full md:w-auto hidden md:flex text-gray-600 dark:text-slate-200 h-screen md:h-auto" aria-label="Main navigation"> 
     <ul class="flex flex-col pt-8 md:pt-0 md:flex-row md:self-center w-full md:w-auto text-xl md:text-base"> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="http://edu.afoo.me">ç¦å¼ºAIå­¦å ‚</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="http://jiagoubaike.com">æ¶æ„ç™¾ç§‘</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me/posts.html">åšå®¢æ–‡ç«  </a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me/books.html">åˆ›ä½œå‡ºç‰ˆ</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me">äº§å“ä¸æœåŠ¡</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me/crosslinks.html">æ›´å¤šé“¾æ¥</a> </li> 
     </ul> 
     <div class="md:self-center flex items-center mb-4 md:mb-0 ml-2"> 
      <div class="hidden items-center md:flex"> <button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-toggle-color-scheme=""> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:sun"> <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"> 
          <circle cx="12" cy="12" r="4"></circle> 
          <path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"> 
          </path> 
         </g> 
        </svg> </button> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS Feed" href="http://afoo.me/feeds.xml"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"> <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"> 
          <circle cx="5" cy="19" r="1"></circle> 
          <path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"></path> 
         </g> 
        </svg> </a> 
      </div> 
     </div> 
    </nav> 
   </div> 
  </header> 
  <main> 
   <section class="text-gray-600 body-font relative"> 
    <div class="container px-5 py-24 mx-auto mb-12 prose prose-lg dark:prose-invert"> 
     <p class="lead"> </p>
     <h1 class="title">è‡ªå®šä¹‰Maven archetypeçš„åˆ›å»º</h1> 
     <p></p> 
     <hr> 
     <p>ä»¥ä¸‹åªæ˜¯Mavenè‡ªå®šä¹‰Archetypeåˆ›å»ºçš„ç®€å•æµç¨‹ä»¥åŠæœŸé—´å¯èƒ½ç¢°åˆ°çš„é—®é¢˜çš„ä¸€äº›æ•´ç†æ€§å†…å®¹ï¼Œå¤§éƒ¨åˆ†å†…å®¹ä»Mavençš„å®˜æ–¹ç«™ç‚¹æˆ–è€…ç›¸å…³ä¹¦ç±ä¸­éƒ½å¯ä»¥æ‰¾åˆ°ã€‚</p> 
     <p>å…³äºArchetypeæ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘æƒ³ç”¨è¿‡Mavençš„éƒ½ä¸ç”¨è¯´äº†ï¼Œ æ²¡ç”¨è¿‡çš„ä¹Ÿæ²¡å…³ç³»ï¼Œ ç®€å•æ¥è®²ï¼Œ å°±æ˜¯ä¸€å †é¢„å…ˆè®¾å®šå¥½çš„é¡¹ç›®ç»“æ„æ–‡æ¡£ï¼Œ æœ‰äº†è¿™ä¸ªä¸œè¥¿ï¼Œåœ¨æ–°å»ºåŒä¸€ç±»å‹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œå°±ä¸ç”¨åˆä»å¤´æ£é¼“ä¸€éï¼Œ æ¯”å¦‚ï¼Œä»è¿™ä¸ªé¡¹ç›®æŠ“ä¸ªlog4j.xmlæ”¹ä¸€ä¸‹ï¼Œåˆ°é‚£ä¸ªé¡¹ç›®æŠ“ä¸€ä¸ªweb.xmlæ–‡ä»¶æ”¹ä¸€ä¸‹ç­‰ç­‰ã€‚é¢„å…ˆå»ºç«‹ä¸€ä¸ªé’ˆå¯¹æŸç§åœºæ™¯ä¸‹ä½¿ç”¨çš„archetypeï¼Œ ç”¨çš„æ—¶å€™åªéœ€è¦è¿è¡Œä¸€æ¡å‘½ä»¤å°±æ‰€æœ‰ä¸œè¥¿éƒ½å¤‡é½äº†ã€‚å°±æ˜¯è¿™ä¹ˆä¸ªç®€å•çš„ä¸œè¥¿ï¼Œ appfuseå•¦ï¼Œ springsideå•¦ï¼Œåº”è¯¥éƒ½ç±»ä¼¼äºè¿™ç§ä¸œè¥¿ï¼Œä½“ç°å½¢å¼ä¸åŒè€Œå·²ã€‚</p> 
     <h1 id="åˆ›å»ºmavenè‡ªå®šä¹‰archetypeä¸€èˆ¬æµç¨‹">åˆ›å»ºMavenè‡ªå®šä¹‰Archetypeä¸€èˆ¬æµç¨‹</h1> 
     <p>åˆ›å»ºMavenè‡ªå®šä¹‰Archetypeé€šå¸¸æœ‰ä¸¤ç§æ–¹å¼ï¼Œ ä¸ºäº†ä¾¿æ·ï¼Œæˆ‘ä»¬é€‰æ‹©create-from-projectçš„æ–¹å¼ï¼Œæ‰€ä»¥ï¼Œ é¦–å…ˆï¼Œæˆ‘ä»¬ä¼šæ–°å»ºä¸€ä¸ªmaven projectï¼Œç„¶åæŠŠæ‚ä¸ƒæ‚å…«çš„é‚£äº›å…±ç”¨çš„ä¸œè¥¿éƒ½â€œæ‘†æ”¾ â€åœ¨åˆé€‚çš„ä½ç½®ä¸Šï¼Œè¿™å¯èƒ½åŒ…æ‹¬ï¼š</p> 
     <ol type="1"> 
      <li>å°†æŸäº›å®ä¾‹ç”¨Javaä»£ç æ”¾åˆ°src/main/javaç›®å½•ä¸‹ï¼›</li> 
      <li>æŸäº›é€šç”¨çš„é…ç½®æ–‡ä»¶æ”¾åˆ°src/main/resourcesç›®å½•ä¸‹ï¼›</li> 
      <li>å¦‚æœæ˜¯ä¸ºåŸºäºj2eeçš„webåº”ç”¨æ­å»ºarchetypeï¼Œé‚£å¯èƒ½åˆå¾—åœ¨src/main/webappä¸‹åˆ›å»ºç›¸åº”çš„æ–‡ä»¶å’Œç›®å½•ç»“æ„ï¼Œç­‰ç­‰â€¦</li> 
     </ol> 
     <p>å½“ä½ æ„Ÿè§‰æ‰€æœ‰è¿™äº›ä¸œè¥¿éƒ½å‡†å¤‡é½æ´»ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹æœ€åçš„å·¥åºäº†ã€‚</p> 
     <p>é¦–å…ˆï¼Œ è¦åˆ›å»ºarchetypeï¼Œå½“ç„¶æ˜¯è¦å…ˆæŠŠmavençš„archetype pluginæ·»åŠ åˆ°pom.xmlä¸­å•¦ï¼š</p> 
     <div class="sourceCode" id="cb1">
      <pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">plugins</span>&gt;  </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">plugin</span>&gt;  </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">groupId</span>&gt;org.apache.maven.plugins&lt;<span class="kw">groupId</span>&gt;  </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">artifactId</span>&gt;maven-archetype-plugin&lt;<span class="kw">artifactId</span>&gt;  </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">version</span>&gt;2.0-alpha-4&lt;<span class="kw">version</span>&gt;  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">plugin</span>&gt;  </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>...  </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">plugins</span>&gt; </span></code></pre>
     </div> 
     <p>ä¹‹åï¼Œ å°±å¯ä»¥å¼€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œè¿›å…¥å½“å‰projectæ‰€åœ¨ç›®å½•ï¼Œæ•²ä¸‹ï¼š</p> 
     <pre>$ mvn archetype:create-from-project 
</pre> 
     <p>ä¹‹åï¼Œ åˆ›å»ºå¥½çš„archetypeå°±è·‘åˆ°äº†å½“å‰ç›®å½•ä¸‹çš„æ¬¡ä¸€çº§ç›®å½•target/generated-sources/archetype/ ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æ¥ç€æ•²é”®ç›˜ï¼š</p> 
     <pre>$ cd target/generated-sources/archetype/  
$ mvn install
</pre> 
     <p>å°†è¯¥åˆ›å»ºå¥½çš„archetypeå®‰è£…åˆ°æœ¬åœ°çš„repositoryä¹‹åï¼Œ æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å®ƒäº†ï¼š</p> 
     <pre>$ mvn archetype:generate -DarchetypeCatalog=local  
</pre> 
     <p>å¦‚æœä½¿ç”¨m2eclipseï¼Œé‚£åœ¨åˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œé€‰æ‹©ä½¿ç”¨Default Localçš„Catalogï¼Œåº”è¯¥ä¹Ÿå¯ä»¥çœ‹åˆ°å¹¶é€‰æ‹©æ–°å®‰è£…åˆ°è¿™ä¸ªarchetypeã€‚ å®‰è£…åˆ°æœ¬åœ°çš„repositoryåªèƒ½è‡ªå·±ç”¨ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæ˜¯æ¯”è¾ƒé€šç”¨çš„archetypeï¼Œå¯ä»¥deployåˆ°ç»„ç»‡å†…éƒ¨æ¶è®¾çš„maven repositoryæœåŠ¡ä¸Šå»ã€‚</p> 
     <h1 id="å¯èƒ½é‡åˆ°çš„ä¸€äº›é—®é¢˜">å¯èƒ½é‡åˆ°çš„ä¸€äº›é—®é¢˜</h1> 
     <p>ç›´æ¥ä½¿ç”¨archetype:create-from-project æ¯”èµ·æ‰‹å·¥å»æ‰“é€ ä¸€ä¸ªarchetypeè¦ä¾¿æ·çš„å¤šï¼Œä½†ï¼Œ æœ‰æ—¶å€™å·æ‡’ä¼šæœ‰äº›ä¸é è°±ï¼Œarchetype:create-from-project çš„æŸäº›è¡Œä¸ºå¯èƒ½ä¼šä¸æˆ‘ä»¬æœ€åˆçš„è®¾æƒ³æœ‰å‡ºå…¥ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆ‘ä»¬åœ¨æœ€ç»ˆå‘å¸ƒæ–°åˆ›å»ºçš„archetypeä¹‹å‰ï¼Œåšæœ‰äº›åç»§å¤„ç†ï¼Œæ¯”å¦‚ï¼š</p> 
     <h2 id="javaæ–‡ä»¶å¯¹åº”çš„packageè¢«å¿½ç•¥">Javaæ–‡ä»¶å¯¹åº”çš„packageè¢«å¿½ç•¥</h2> 
     <p>å¯¹äºè¦åŒ…å«åˆ°archetypeçš„Javaä»£ç æ–‡ä»¶æ¥è¯´ï¼Œ archetype:create-from-project ä¹‹åï¼Œ Javaä»£ç æ–‡ä»¶åŸæ¥çš„packageç»“æ„ä¼šè¢«å¿½ç•¥æ‰ï¼Œæ¯”å¦‚ï¼Œå¯¹äºå¦‚ä¸‹ç±»æ¥è¯´ï¼š<code>cn.spring21.app.defaults.controller.QuickStartController</code></p> 
     <p>å½“archetype:create-from-project ä¹‹åï¼Œ archetypeä¸­å¯¹åº”çš„æ–‡ä»¶å°±å˜æˆäº†ï¼š <code>QuickStartController</code></p> 
     <p>è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼ˆå½“ç„¶ï¼Œå¯¹äºä¸åœ¨ä¹è¿™ä¸€ç»“æ„çš„archetypeæ¥è¯´åˆ™æ— æ‰€è°“ï¼‰ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬è¦å¯¹archetype:create-from-project ä¹‹åç”Ÿæˆçš„ç»“æœæ–‡ä»¶è¿›è¡Œå®šåˆ¶ã€‚</p> 
     <p>é¦–å…ˆï¼Œ æˆ‘ä»¬ç¼–è¾‘æ–‡ä»¶target/generated-sources/archetype/src/main/resources/META-INF/maven/archetype.xml ï¼Œå®ƒè®°è½½äº†archetypeé‡Œéƒ½åŒ…å«å“ªäº›æ–‡ä»¶å’Œç›®å½•ç»“æ„ï¼Œå°†å¦‚ä¸‹å†…å®¹ï¼š</p> 
     <div class="sourceCode" id="cb2">
      <pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">sources</span>&gt;  </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">source</span>&gt;src/main/java/QuickStartController.java&lt;/<span class="kw">source</span>&gt;  </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">sources</span>&gt; </span></code></pre>
     </div> 
     <p>å˜æ›´ä¸º:</p> 
     <div class="sourceCode" id="cb3">
      <pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">sources</span>&gt;  </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">source</span>&gt;src/main/java/cn/spring21/app/defaults/controller/QuickStartController.java&lt;/<span class="kw">source</span>&gt;  </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">sources</span>&gt;  </span></code></pre>
     </div> 
     <p>ç„¶åï¼Œå°†ä»¥ä¸Šæ–‡ä»¶å’Œç›®å½•ç»“æ„åˆ›å»ºæˆ–è€…Copyåˆ°å¦‚ä¸‹ç›®å½•ï¼š</p> 
     <blockquote> 
      <p>target/generated-sources/archetype/src/main/resources/archetype-resources/src/main/java</p> 
     </blockquote> 
     <p>æ‰€æœ‰è¿™äº›åšå®Œä¹‹åï¼ŒJavaæºä»£ç æ–‡ä»¶ç»“æ„å°±å¯ä»¥ä¿æŒäº†ã€‚</p> 
     <h3 id="note">NOTE</h3> 
     <p>è™½ç„¶æƒ³è¦çš„Javaæºä»£ç ç›®å½•ç»“æ„å¯ä»¥ä¿æŒä½äº†ï¼Œä¸è¿‡ï¼Œ è¿˜ä¼šæœ‰ä¸€ä¸ªçƒ¦äººçš„åœ°æ–¹ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨è¿™ä¸ªarchetypeåˆ›å»ºæ–°çš„projectçš„æ—¶å€™ï¼Œä¸æ˜ç¡®æŒ‡å®špackageName ï¼Œé‚£mavenä¼šâ€œè‡ªä½œå¤šæƒ… â€çš„æŠŠgroupIdä½œä¸ºJavaæ–‡ä»¶çš„packageï¼Œå‰ç¼€åˆ°åŸæ¥çš„packageå‰é¢ã€‚ æ¯”å¦‚ï¼Œ å¦‚æœæˆ‘åŸæ¥javaæ–‡ä»¶å¯¹åº”ï¼š<code>cn/spring21/app/defaults/controller/QuickStartController.java</code></p> 
     <p>è€Œåˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œ æŒ‡å®šâ€œ-DgroupId=cn.spring21 â€ï¼Œé‚£ä¹ˆï¼Œæœ€åç”Ÿæˆçš„é¡¹ç›®ä¸­ï¼Œ å¯¹åº”çš„Javaæ–‡ä»¶å°±è·‘åˆ°äº†â€œcn/spring21/cn/spring21/app/defaults/controller/QuickStartController.java â€ï¼Œstupidå“ˆ</p> 
     <p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ å¯ä»¥åœ¨ä½¿ç”¨archetypeåˆ›å»ºprojectçš„æ—¶å€™ï¼Œæ˜ç¡®å°†packageNameæŒ‡å®šä¸ºç©ºï¼š</p> 
     <blockquote> 
      <p>mvn archetype:create -DarchetypeGroupId=archetypeGroupId -DarchetypeArtifactId=archetypeArtifactId -DarchetypeVersion=0.0.2-SNAPSHOT -DgroupId=cn.spring21 -DartifactId=sample -Dversion=0.0.1-SNAPSHOT -DpackageName=</p> 
     </blockquote> 
     <p>å”¯ä¸€ä¸çˆ½çš„å°±æ˜¯å‘½ä»¤è¡Œå®åœ¨å®åœ¨å¤ªé•¿äº†ã€‚</p> 
     <h2 id="å¤šä½™æ–‡ä»¶çš„æ¸…ç†">å¤šä½™æ–‡ä»¶çš„æ¸…ç†</h2> 
     <p>æœ‰æ—¶å€™ï¼Œ archetype:create-from-project ä¼šæŠŠä¸€äº›ä¸å¿…è¦çš„æ–‡ä»¶å’Œç›®å½•ç»“æ„ä¹ŸåŒ…å«åˆ°æœ€ç»ˆçš„archetypeä¸­ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–è¾‘æ–‡ä»¶target/generated-sources/archetype/src/main/resources/META-INF/maven/archetype-metadata.xml æ¥æ¸…ç†è¿™äº›ä¸å¿…è¦åŒ…å«çš„æ–‡ä»¶å’Œç›®å½•ç»“æ„ã€‚</p> 
     <p>æ¯”æ–¹è¯´ï¼Œå¦‚æœæˆ‘ä»¬æ˜¯ä½¿ç”¨EclipseIDEæ¥æ­å»ºè¦åšæˆarchetypeçš„projectçš„è¯ï¼Œä¸€äº›EcilpseIDEç‰¹æœ‰çš„æ–‡ä»¶å’Œç›®å½•ï¼Œæ¯” å¦‚.settingsç›®å½•å•¦ï¼Œ .classpath/.projectæ–‡ä»¶å•¦ï¼Œéƒ½ä¼šè¢«copyåˆ°archetypeçš„ç›®å½•ä¸‹ï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠarchetype- metadata.xmlæ–‡ä»¶ä¸­å¯¹åº”è¿™äº›æ–‡ä»¶å’Œç›®å½•çš„<fileset>
       å…ƒç´ åˆ é™¤æ‰æ¥æ¸…ç†å®ƒä»¬ã€‚
      </fileset></p> 
     <h2 id="äºŒè¿›åˆ¶æ–‡ä»¶çš„æŸå">äºŒè¿›åˆ¶æ–‡ä»¶çš„æŸå</h2> 
     <p>å¦‚æœæŸäº›äºŒè¿›åˆ¶æ–‡ä»¶è¦åŒ…å«åˆ°archetypeå½“ä¸­ï¼Œ æ¯”å¦‚ï¼Œ å¸¸è§çš„å›¾ç‰‡æ–‡ä»¶ï¼Œ æˆ‘ä»¬éœ€è¦ç¼–è¾‘archetype.xmlæ–‡ä»¶ä¸­å¯¹åº”è¿™äº›æ–‡ä»¶çš„<resource>
       å…ƒç´ é…ç½®ï¼Œä¸ºè¿™äº›å…ƒç´ æ·»åŠ filtered=â€œfalseâ€ çš„å±æ€§ï¼Œ å¦åˆ™çš„è¯ï¼Œ å½“ä½¿ç”¨è¿™ä¸ªarchetypeæ¥åˆ›å»ºæ–°çš„å·¥ç¨‹çš„æ—¶å€™ï¼Œè¿™äº›äºŒè¿›åˆ¶æ–‡ä»¶å°±ä¼šâ€œåºŸåºŸ â€äº†ï¼ŒåŸå› å˜›ï¼Œè¿˜æ˜¯å› ä¸ºmavenå¤ªâ€œè‡ªä½œå¤šæƒ… â€ï¼Œå‘µå‘µï¼Œå±…ç„¶æŠŠå›¾ç‰‡å½“Velocityæ¨¡æ¿æ¥çœ‹å¾…ã€‚ æœ‰å…³è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå¯ä»¥å‚è€ƒè¿™ä¸ªJIRA issue æ¥äº†è§£æ›´å¤šç»†èŠ‚ã€‚
      </resource></p> 
     <h1 id="æœ€åˆè‰ç¨¿">æœ€åˆè‰ç¨¿</h1> 
     <p>since the â€œarchetype:create-from-projectâ€ is the simplest way to create an archetype, most of the time, itâ€™s the way we will resort to , but in order to make it work for us properly, or say, to make it work as we want it to, we need to do some custom work after running the command â€œmvn archetype:create-from-projectâ€, here is some tips you may need.</p> 
     <blockquote> 
      <p>NOTE</p> 
      <p>first of all, we should come to the same point that all of the artifacts generated locate at â€œtarget/generated-sources/archetypeâ€ folder after running â€œmvn archetype:create-from-projectâ€ command.</p> 
     </blockquote> 
     <hr> 
     <p>for java code we want to include into the archetype, the default behavior from â€œarchetype:create-from-projectâ€ is that it will ignore the package structure, e.g.&nbsp;if we have a source folder with package structure , below: cn.spring21.app.defaults.controller.QuickStartController but with the default behavior from â€œarchetype:create-from-projectâ€, the final structure will be only java file left. thatâ€™s, QuickStartController thatâ€™s not what we want, we want to keep the package structure as it is. so we need to customize this. go to â€œtarget/generated-sources/archetype/src/main/resources/META-INF/maven/archetype.xmlâ€, change following part:</p> 
     <div class="sourceCode" id="cb4">
      <pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">sources</span>&gt;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">source</span>&gt;src/main/java/QuickStartController.java&lt;/<span class="kw">source</span>&gt;</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">sources</span>&gt;</span></code></pre>
     </div> 
     <p>TO:</p> 
     <div class="sourceCode" id="cb5">
      <pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">sources</span>&gt;</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">source</span>&gt;src/main/java/cn/spring21/app/defaults/controller/QuickStartController.java&lt;/<span class="kw">source</span>&gt;</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">sources</span>&gt;</span></code></pre>
     </div> 
     <p>then, copy or create such folder structure under :</p> 
     <blockquote> 
      <p>target/generated-sources/archetype/src/main/resources/archetype-resources/src/main/java</p> 
     </blockquote> 
     <p>after all of this, the original folder structure will be retained.</p> 
     <blockquote> 
      <p>NOTE</p> 
      <p>when creating a project with our archetype above, in order to create a source folder with default package we assigned, the â€œpackageNameâ€ environment attribute must be assigned to empty, so command seems like : <code>mvn archetype:create -DarchetypeGroupId=archetypeGroupId -DarchetypeArtifactId=archetypeArtifactId -DarchetypeVersion=0.0.2-SNAPSHOT -DgroupId=cn.spring21 -DartifactId=sample -Dversion=0.0.1-SNAPSHOT -DpackageName=</code>, pay attention to the last -DpackageName= , no value is assigned.</p> 
     </blockquote> 
     <hr> 
     <p>sometimes, â€œarchetype:create-from-projectâ€ will include other unnecessary filess into the final package, we can clean this by editing â€œtarget/generated-sources/archetype/src/main/resources/META-INF/maven/archetype-metadata.xmlâ€, for example, if we set up a project for archetype in Eclipse IDE, several files specific to Eclipse IDE will be included, these files can be removed by deleting â€œfilesetâ€ elements which are setup for them.</p> 
     <hr> 
     <p>for binary files, e.g.&nbsp;images, we need to edit archetype.xml entry for these resources, and add â€œfiltered=â€falseâ€â€ attribute to their <resource>
        elements. Otherwise , when create a project with this archetype, the binary files will be corrupted. Because velocity try to process it. See JIRA issure from http://jira.codehaus.org/browse/ARCHETYPE-19 for this problem.
      </resource></p> 
     <hr> 
     <div> <a href="/posts.html"> <b> &gt;&gt;&gt;&gt;&gt;&gt; æ›´å¤šé˜…è¯» &lt;&lt;&lt;&lt;&lt;&lt; </b></a> 
     </div> 
     <div id="random_posts"> 
      <div class="alert alert-light" role="alert"> <a href="/posts/2014-02-18-sometimes-just-let-it-go.html">Sometimes, Just â€œLet it goâ€ </a> 
      </div> 
      <div class="alert alert-light" role="alert"> <a href="/posts/2008-11-14-am-I-too-hard-to-myself.html">æ˜¯ä¸æ˜¯å¯¹è‡ªå·±å¤ªè‹›åˆ»äº†ï¼Ÿï¼ </a> 
      </div> 
      <div class="alert alert-light" role="alert"> <a href="/posts/2006-00-00-configure-log4j-programmatically.html">åœ¨ç¨‹åºä¸­åŠ¨æ€é…ç½®log4j(configure Log4j Programmatically) </a> 
      </div> 
     </div> 
     <hr> 
     <div> 
      <p> ã€Œä¸ºAIç–¯ç‹‚ã€æ˜Ÿçƒä¸Šï¼Œæ‰¶å¢™è€å¸ˆæ­£åœ¨å’Œæœ‹å‹ä»¬è®¨è®ºæœ‰è¶£çš„AIè¯é¢˜ï¼Œä½ è¦ä¸è¦â¼€èµ·æ¥å‘€ï¼Ÿ^-^<br> è¿™é‡Œ </p>
      <ol> 
       <li>ä¸ä½†æœ‰åŠæ—¶æ–°é²œçš„AIèµ„è®¯å’Œæ·±åº¦æ¢è®¨</li> 
       <li>è¿˜åˆ†äº«AIå·¥å…·ã€äº§å“æ–¹æ³•å’Œå•†ä¸šæœºä¼š</li> 
       <li>æ›´æœ‰ä½“ç³»åŒ–ç²¾å“ä»˜è´¹å†…å®¹ç­‰ç€ä½ ï¼Œ<a href="https://t.zsxq.com/0dI3ZA0sL">åŠ å…¥æ˜Ÿçƒ(https://t.zsxq.com/0dI3ZA0sL)</a> å³å¯å…è´¹é¢†å–ã€‚(åŠ å…¥ä¹‹å<b>ä¸€å®šè®°å¾—çœ‹ç½®é¡¶æ¶ˆæ¯</b>å‘€ï¼)</li> 
      </ol> 
      <p></p> <a href="https://t.zsxq.com/0dI3ZA0sL"> <img src="/posts/images/2023-05-06-12-09-53.jpg" alt="çŸ¥è¯†æ˜ŸçƒäºŒç»´ç "> </a> 
     </div> 
     <hr> 
     <p> <span style="font-size: xx-large;">å­˜é‡çš„æ—¶ä»£ï¼Œçœé’±å°±æ˜¯èµšé’±ã€‚</span> <br> <span style="font-size: xx-large;">åœ¨å¢é‡çš„æ—¶ä»£ï¼Œçœé’±å…¶å®æ˜¯äºé’±ã€‚</span> <br> é¿å‘å„¿æ˜¯çœé’±çš„ä¸€ç§å½¢å¼ï¼Œæ›´æ˜¯çœŸæ­£èªæ˜äººçš„é€‰æ‹©ï¼ <br> å¼¯è·¯è™½ç„¶ä¹Ÿæ˜¯è·¯ï¼Œä½†è¿˜æ˜¯èƒ½å°‘èµ°å°±å°‘èµ°ï¼ŒèƒŒåéƒ½æ˜¯é«˜æ˜‚çš„è¯•é”™æˆæœ¬ã€‚ <br> <b>è®¢é˜…ã€Œç¦æŠ¥ã€</b>ï¼Œå°‘è¸©å‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œå¤šèµ°ä¸€æ­¥ï¼Œå°±æ˜¯ä¸ä¸€æ ·çš„èƒœç‡ï¼ </p> <a href="https://wfq.gumroad.com/l/fb"> <img src="/images/fb_subscribe.jpg" alt="è®¢é˜…ã€Œç¦æŠ¥Premiumè®¢é˜…ã€"> </a> 
     <hr> 
     <div hx-get="https://toolfooter.afoo.me/" hx-trigger="revealed" htmx-indicator="#tfloader"> 
      <div id="tfloader" class="x-indicator"> 
       <svg width="57" height="57" viewbox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="#3F83F8"> <g fill="none" fill-rule="evenodd"> 
         <g transform="translate(1 1)" stroke-width="2"> 
          <circle cx="5" cy="50" r="5"> 
           <animate attributename="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcmode="linear" repeatcount="indefinite" /> 
           <animate attributename="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcmode="linear" repeatcount="indefinite" /> 
          </circle> 
          <circle cx="27" cy="5" r="5"> 
           <animate attributename="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcmode="linear" repeatcount="indefinite" /> 
           <animate attributename="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcmode="linear" repeatcount="indefinite" /> 
          </circle> 
          <circle cx="49" cy="50" r="5"> 
           <animate attributename="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcmode="linear" repeatcount="indefinite" /> 
           <animate attributename="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcmode="linear" repeatcount="indefinite" /> 
          </circle> 
         </g> 
        </g> 
       </svg> 
      </div> 
     </div> 
     <hr> 
     <div id="comments"></div> 
    </div> 
   </section> 
  </main> 
  <footer class="border-t border-gray-200 dark:border-slate-800"> 
   <div class="max-w-6xl mx-auto px-4 sm:px-6"> 
    <div class="md:flex md:items-center md:justify-between py-6 md:py-8"> 
     <ul class="flex mb-4 md:order-1 -ml-2 md:ml-4 md:mb-0"> 
      <li> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Twitter" href="https://twitter.com/fujohnwang"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-twitter"> <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753C20.18 7.773 21.692 5.25 22 4.009z"> 
         </path> 
        </svg> </a> </li> 
      <li> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Facebook" href="https://www.facebook.com/fujohnwang/"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-facebook"> <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 0 1 1-1h3V3h-3a5 5 0 0 0-5 5v2H7"></path> 
        </svg> </a> </li> 
      <li> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Github" href="https://github.com/fujohnwang"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"> <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"> 
         </path> 
        </svg> </a> </li> 
     </ul> 
     <div class="text-sm text-gray-700 mr-4 dark:text-slate-400"> <span class="w-5 h-5 md:w-6 md:h-6 md:-mt-0.5 bg-cover mr-1.5 float-left rounded-sm"> <img src="https://afoo.me/favicon.svg" class="rounded-md" alt> </span> Copyright Â© ç‹ç¦å¼ºä¸ªäººç‰ˆæƒæ‰€æœ‰ - Since 2004 (Everything is homebrewed with <a href="https://pandoc.org/">Pandoc</a> and Markdown, little <a href="https://www.scala-lang.org/">Scala</a> also included.) 
     </div> 
    </div> 
   </div> 
  </footer> 
  <script>
        // Set "light" theme as default
        if (!localStorage.theme) {
            localStorage.theme = "light";
        }

        if (
            localStorage.theme === 'dark' ||
            (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
        ) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        function attachEvent(selector, event, fn) {
            const matches = document.querySelectorAll(selector);
            if (matches && matches.length) {
                matches.forEach((elem) => {
                    elem.addEventListener(event, () => fn(elem), false);
                });
            }
        }

        window.onload = function () {
            attachEvent('[data-toggle-menu]', 'click', function (elem) {
                elem.classList.toggle('expanded');
                document.body.classList.toggle('overflow-hidden');
                document.getElementById('header')?.classList.toggle('h-screen');
                document.querySelector('#header nav')?.classList.toggle('hidden');
            });
            attachEvent('[data-toggle-color-scheme]', 'click', function () {
                document.documentElement.classList.toggle('dark');
                localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            });
        };
        window.onpageshow = function () {
            const elem = document.querySelector('[data-toggle-menu]');
            if (elem) {
                elem.classList.remove('expanded');
            }
            document.body.classList.remove('overflow-hidden');
            document.getElementById('header')?.classList.remove('h-screen');
            document.querySelector('#header nav')?.classList.add('hidden');
        };
    </script> 
  <script type="text/javascript">
        var gitalk = new Gitalk({
          clientID: '518a605d711883414ac0',
          clientSecret: '69fb8ccc0616c5bcbc64d24ece0d06d279da91ff',
          repo: 'afoo.me.comments',
          owner: 'fujohnwang',
          admin: ['fujohnwang'],
          id: location.pathname.substring(0, 49),      // Ensure uniqueness and length less than 50
          distractionFreeMode: false  // Facebook-like distraction free mode
        })
        gitalk.render('comments')
    </script> 
  <script src="https://formspree.io/js/formbutton-v1.min.js" defer></script> 
  <script>
  /* paste this line in verbatim */
  window.formbutton=window.formbutton||function(){(formbutton.q=formbutton.q||[]).push(arguments)};
  /* customize formbutton below*/     
  formbutton("create", {
    action: "https://formspree.io/f/xknlpkkd",
    title: "æœ‰ä»€ä¹ˆå¯ä»¥å¸®åˆ°æ‚¨ï¼ŸğŸ’•ğŸ’•ğŸ’• How can I help you?",
    fields: [
      { 
        type: "email", 
        label: "æ‚¨çš„ç”µå­é‚®ç®±ï¼ˆæ–¹ä¾¿ä¸æ‚¨è”ç³»ï¼‰:", 
        name: "email",
        required: true,
        placeholder: "your@email.com"
      },
      {
        type: "textarea",
        label: "æ‚¨æƒ³æäº¤çš„åé¦ˆå’Œè¯¢é—®ä¿¡æ¯:",
        name: "message",
        placeholder: "What's on your mind?",
      },
      { type: "submit" }      
    ],
    styles: {
      title: {
        backgroundColor: "blue"
      },
      button: {
        backgroundColor: "blue"
      }
    }
  });
</script>  
 </body>
</html>