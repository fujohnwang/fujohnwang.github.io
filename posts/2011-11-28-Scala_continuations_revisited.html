<!doctype html>
<html lang="zh" class="motion-safe:scroll-smooth 2xl:text-[20px]"> 
 <head> 
  <meta charset="utf-8"> 
  <meta name="keywords" content="Scala Continuations Revisited - æ¶æ„å¸ˆï¼Œ æ¶æ„å£«ï¼Œæ¶æ„æ•™ç»ƒ, æ•™ç»ƒ, ä¸ªäººæˆé•¿, ç»„ç»‡æˆé•¿, ç‹¬ç«‹é¡¾é—®, architecture, book author, thinker, fighter, æ¶æ„, æ€è€ƒ, æŠ€æœ¯, æ­¦æœ¯, å“²å­¦"> 
  <meta name="description" content="Scala Continuations Revisited - ç¦å¼ºè¯´ï¼Œæ‰¶å¢™è€å¸ˆè¯´ï¼Œç‹ç¦å¼ºçš„ä¸ªäººåšå®¢ï¼Œ ä¸€ä¸ªæ¶æ„å£«çš„æ€è€ƒä¸æ²‰æ·€"> 
  <meta name="author" content="ç‹ç¦å¼º"> 
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  <meta name="robots" content="index,follow"> 
  <title>Scala Continuations Revisited -ç‹ç¦å¼ºçš„ä¸ªäººåšå®¢ï¼šä¸€ä¸ªæ¶æ„å£«çš„æ€è€ƒä¸æ²‰æ·€</title> 
  <meta property="og:title" content="Scala Continuations Revisited"> 
  <meta property="og:type" content="landing page"> 
  <meta property="og:url" content="https://afoo.me/posts/2011-11-28-Scala_continuations_revisited.html"> 
  <meta property="og:image" content="https://og.afoo.me?url=https://afoo.me/posts/2011-11-28-Scala_continuations_revisited.html"> 
  <meta name="twitter:card" content="summary_large_image"> 
  <meta name="twitter:title" content="Scala Continuations Revisited"> 
  <meta name="twitter:site" content="@afoo_me"> 
  <meta name="twitter:creator" content="@afoo_me"> 
  <meta name="twitter:image" content="https://og.afoo.me?url=https://afoo.me/posts/2011-11-28-Scala_continuations_revisited.html"> 
  <meta name="twitter:description" content="Scala Continuations Revisited - ç‹ç¦å¼ºçš„ä¸ªäººåšå®¢ï¼Œ ä¸€ä¸ªæ¶æ„å£«çš„æ€è€ƒä¸æ²‰æ·€"> 
  <link rel="shortcut icon" href="/favicon.ico"> 
  <link rel="canonical" href="https://afoo.me/posts/2011-11-28-Scala_continuations_revisited.html"> 
  <link rel="icon" type="image/svg+xml" href="https://afoo.me/favicon.svg"> 
  <link rel="mask-icon" href="https://afoo.me/favicon.svg" color="#3383F8"> 
  <script src="https://unpkg.com/htmx.org@1.9.5"></script> 
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"> 
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script> 
  <script src="https://unpkg.com/@popperjs/core@2"></script> 
  <script src="https://unpkg.com/tippy.js@6"></script> 
  <link rel="stylesheet" href="/css/af.css"> 
  <link rel="stylesheet" href="/css/components.css"> 
  <link ref="stylesheet" href="/css/pygments.css"> 
  <style type="text/css">
        pre > code{
          white-space: pre-wrap;
          font-family: monospace;
          font-size: 14px;
          /* border-left: blueviolet;
          border-left-width: thick;
          border-left-style: double;
          padding-left: 1rem !important; */
        }
        
        .x-indicator{
            display:none;
        }
        .htmx-request .x-indicator{
            display:inline;
        }
        .htmx-request.x-indicator{
            display:inline;
        }
    </style> 
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "headline": "Scala Continuations Revisited",
      "image": [
        "https://afoo.me/images/fb_subscribe.jpg"
       ],
      "datePublished": "2011-11-28 Scala Continuations Revisited",
      "author": [{
          "@type": "Person",
          "name": "ç‹ç¦å¼º",
          "url": "https://afoo.me"
        }]
    }
  </script> 
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3687639021943715" crossorigin="anonymous"></script> 
 </head> 
 <body class="antialiased text-gray-900 dark:text-slate-300 tracking-tight bg-white dark:bg-slate-900 vsc-initialized"> 
  <header class="sticky top-0 z-40 flex-none mx-auto w-full bg-white md:bg-white/90 dark:bg-slate-900 dark:md:bg-slate-900/90 md:backdrop-blur-sm border-b dark:border-b-0" id="header"> 
   <div class="py-3 px-3 mx-auto w-full md:flex md:justify-between max-w-6xl md:px-4"> 
    <div class="flex justify-between"> <a class="flex items-center" href="https://afoo.me"> <span class="self-center ml-2 text-2xl font-extrabold text-gray-900 whitespace-nowrap dark:text-white"> <img src="/images/afoo.PNG" alt="logo" style="height:60px;"> </span> </a> 
     <div class="flex items-center md:hidden"> <button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-toggle-color-scheme=""> 
       <svg viewbox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:sun"> <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"> 
         <circle cx="12" cy="12" r="4"></circle> 
         <path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"> 
         </path> 
        </g> 
       </svg> </button> <button type="button" class="ml-1.5 text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center transition" aria-label="Toggle Menu" data-toggle-menu=""> 
       <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24" class="w-6 h-6" astro-icon="tabler:menu"> <g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> 
         <path d="M4 8h16"></path> 
         <path d="M4 16h16"></path> 
        </g> 
       </svg> </button> 
     </div> 
    </div> 
    <nav class="items-center w-full md:w-auto hidden md:flex text-gray-600 dark:text-slate-200 h-screen md:h-auto" aria-label="Main navigation"> 
     <ul class="flex flex-col pt-8 md:pt-0 md:flex-row md:self-center w-full md:w-auto text-xl md:text-base"> 
      <li><a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://kb.afoo.me/">ç¦å¼ºç§å­¦</a></li> 
      <li> <a id="aiedu" class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="http://ai.afoo.me"> ç¦å¼ºAIå­¦å ‚</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="http://jiagoubaike.com">æ¶æ„ç™¾ç§‘</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me/posts.html">åšå®¢æ–‡ç«  </a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me/books.html">åˆ›ä½œå‡ºç‰ˆ</a> </li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://store.afoo.me">äº§å“ä¸æœåŠ¡</a> </li> 
      <li><a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://auth.afoo.me/user.html">ç™»å½•ä¿¡æ¯</a></li> 
      <li> <a class="font-medium hover:text-gray-900 dark:hover:text-white px-4 py-3 flex items-center transition duration-150 ease-in-out" href="https://afoo.me/crosslinks.html">æ›´å¤šé“¾æ¥</a> </li> 
     </ul> 
     <div class="md:self-center flex items-center mb-4 md:mb-0 ml-2"> 
      <div class="hidden items-center md:flex"> <button type="button" class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Toggle between Dark and Light mode" data-toggle-color-scheme=""> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:sun"> <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"> 
          <circle cx="12" cy="12" r="4"></circle> 
          <path d="M3 12h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"> 
          </path> 
         </g> 
        </svg> </button> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="RSS Feed" href="http://afoo.me/feeds.xml"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:rss"> <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="icon-tabler"> 
          <circle cx="5" cy="19" r="1"></circle> 
          <path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"></path> 
         </g> 
        </svg> </a> 
      </div> 
     </div> 
    </nav> 
   </div> 
  </header> 
  <main> 
   <div id="leftSlot" class="visible md:invisible fixed top-0 left-0" style="width: 16rem;height: 80%;margin-top: 4rem;"> <!-- left --> 
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3687639021943715" data-ad-slot="3581141418" data-ad-format="auto" data-full-width-responsive="true"></ins> 
    <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script> 
   </div> 
   <div id="rightSlot" class="visible md:invisible fixed top-0 right-0" style="width: 16rem;height: 80%;margin-top: 4rem;"> <!-- right --> 
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3687639021943715" data-ad-slot="7030836806" data-ad-format="auto" data-full-width-responsive="true"></ins> 
    <script>
           (adsbygoogle = window.adsbygoogle || []).push({});
      </script> 
   </div> 
   <section class="text-gray-600 body-font relative"> 
    <div class="container px-5 py-24 mx-auto mb-12 prose prose-lg dark:prose-invert"> 
     <p class="lead"> </p>
     <h1 class="title">Scala Continuations Revisited</h1> <small> <h3 class="author">fujohnwang</h3> 
      <div style="text-align: left;">
       2011-11-28 Scala Continuations Revisited
      </div> </small> 
     <p></p> <!-- random --> 
     <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3687639021943715" data-ad-slot="2722720851" data-ad-format="auto" data-full-width-responsive="true"></ins> 
     <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script> 
     <hr> 
     <p>The continuation is all about <strong>suspend</strong> and <strong>resume</strong> semantic, the idea is simple, powerful, but hard to get, especially when you try to rewind your mind from threading world.</p> 
     <p>After Scala2.8, a kind of continuation is introduced, which is called <strong>delimited continuation</strong>, aka. <em>partial continuation</em> or <em>composable continuation</em>, I had tried to understand scalaâ€™s continuation support well before, but didnâ€™t get too much, So today, I try to do same thing again, here are some of the information that I regroup from former collections or new sources, I donâ€™t hope to understand it this time either, but at least I leave some footprint. :-)</p> 
     <blockquote> 
      <p>To understand Continuation and CPS concepts well, Jim Mcbeathâ€™s blog post on <a href="http://jim-mcbeath.blogspot.com/2010/08/delimited-continuations.html">Delimited Continuation</a> is highly recommended to read!!!</p> 
     </blockquote> 
     <hr> 
     <h1 id="classification-of-continuation">Classification Of Continuation</h1> 
     <ol type="1"> 
      <li>Full Continuation / First-Class Continuation</li> 
      <li>Delimited Continuations / Partial Continuation / Composable Continuation</li> 
     </ol> 
     <hr> 
     <h1 id="how-to-enable-scalas-continuation-support">How to enable scalaâ€™s continuation support?</h1> 
     <ol type="1"> 
      <li>enable compiler plugin 
       <ul> 
        <li>with compiler, <code>scalac -P:continuations:enable</code></li> 
        <li>with REPL, <code>scala -P:continuations:enable</code></li> 
       </ul></li> 
      <li>import continuation library 
       <ul> 
        <li><code>import scala.util.continuations._</code></li> 
       </ul></li> 
     </ol> 
     <hr> 
     <h1 id="scala-continuationåˆç¥">Scala Continuationåˆç¥</h1> 
     <pre>reset{
    shift{continuationRef=&gt;
        // 1. do something
        // 2. execution the continuation captured.
        continuationRef()
    }
    continuationBody()
}
</pre> 
     <p><strong>reset</strong> will setup/demarcate the boundary of the delimited continuation while <strong>shift</strong> will capture the delimited continuation. In above code snippet, <em>continuationRef</em> argument of shift is the captured DC which in fact is the <em>continuationBody()</em> part of the code.</p> æ³¨æ„ï¼š continuationæŒ‡çš„æ˜¯resetç•Œå®šä¸­shiftåé¢å‰©ä½™çš„éƒ¨åˆ†ï¼Œ è¿™é‡Œå¾ˆå®¹æ˜“è®©expressionå’Œstatementæç³Šæ¶‚, æ¯”å¦‚ï¼š 
     <pre class="prettyprint">reset {
    println("A")
    shift { k1: (Unit=&gt;Unit) =&gt;
        println("B")
        k1()
        println("C")
    }
    println("D")
    shift { k2: (Unit=&gt;Unit) =&gt;
        println("E")
        k2()
        println("F")
    }
    println("G")
}
</pre> ä¸ 
     <pre class="prettyprint">reset {
  1+ 
  shift { k: (Int=&gt;Int) =&gt;
    k(7)
  } + 1
}
</pre> 
     <p>å¯èƒ½å› ä¸ºæ˜¯ä»£ç å†™æ³•çš„ç¼˜æ•…ï¼Œä¸€å¼€å§‹å¾ˆå®¹æ˜“æä¸æ¸…æ¥šä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªä¾‹å­ä¸­<code>println("A")</code>ä¸åŒ…å«åœ¨continuationä¸­å¹¶ä¸”è‡ªå·±å•ç‹¬å…ˆæ‰§è¡Œï¼Œè€Œåé¢ä¸€ä¸ªä»£ç äº‹ä¾‹ä¸­å´å°†å¼€å§‹çš„1ï¼‹ç®—åœ¨continuationä¸­ï¼Œå…¶å®å·®åˆ«å°±æ˜¯expressionè·Ÿstatementï¼ŒåŸåˆ™ä¸Šæ¥è®²ï¼Œ æ˜¯è‡ªå·±æ²¡æœ‰çœŸæ­£ç†è§£continuationçš„æ¦‚å¿µå’Œscalaçš„ç¨‹åºç»“æ„ï¼Œå‘µå‘µ</p> 
     <p>There are thus three types associated with shift:</p> 
     <ul> 
      <li>The type of the argument to pass to the continuation, which is the same as the syntactic return type of the shift in the source code.</li> 
      <li>The type of the return from the continuation, which is the same as the return type of all of the code that follows the shift block in the source code (i.e.&nbsp;the type of the last value in the block of code between the shift block and the end of the function or reset block containing the shift block). This is called the untransformed return type.</li> 
      <li>The type of the last value in the shift block, which becomes the type of the return value of the enclosing function or return block. This is called the transformed return type.</li> 
     </ul> 
     <p>In the signature for shift, the above three types appear as A, B and C, respectively: <code>shift [A, B, C] (fun: ((A) â‡’ B) â‡’ C): A @scala.util.continuations.cpsParam[B,C]</code></p> 
     <p>Hereâ€™s where those types appear: <code>C = reset { ...; A = shift { k:(A=&gt;B) =&gt; ...; C } ...; B }</code></p> 
     <hr> 
     <h1 id="yield-or-return">yield or return</h1> 
     <p>shiftæ•è·å½“å‰resetç•Œå®šçš„continuationï¼Œåœ¨shiftä¸­å¯ä»¥ç›´æ¥è°ƒç”¨å¹¶æ‰§è¡Œæ•è·çš„continuationï¼Œä¹Ÿå¯ä»¥å°†è¯¥continuationäº¤ç»™å…¶ä»–ç»„ä»¶è€Œæš‚æ—¶ä¸æ‰§è¡Œï¼Œæ¯”å¦‚æ”¾å…¥æŸä¸ªqueueä¸­ï¼Œç”±æŸä¸ªç»„ä»¶é›†ä¸­è°ƒåº¦å…¶æ‰§è¡Œã€‚</p> 
     <ul> 
      <li>yield = return the captured continuation from shift directly without invoking it, just like a function or closure is returned as result value.</li> 
      <li>return = invoke the captured continuation in the shift directly</li> 
     </ul> 
     <p>é™¤äº†åœ¨shiftä¸­æ•è·continuationå¹¶å†³å®šå¦‚ä½•ä½¿ç”¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨shiftä¸­åšå…¶å®ƒäº‹æƒ…ï¼Œè€Œä¸å•å•æ˜¯ä¸ºäº†æ•è·çš„continuationè€Œâ€œæˆ–è€…â€ï¼Œå‘µå‘µ</p> 
     <hr> 
     <h1 id="æ½œåœ¨çš„å¯ä»¥ç®€åŒ–çš„ç¼–ç¨‹åœºæ™¯">æ½œåœ¨çš„å¯ä»¥ç®€åŒ–çš„ç¼–ç¨‹åœºæ™¯</h1> 
     <ol type="1"> 
      <li>doing asynchronous I/O using Java NIO</li> 
      <li>using executors and thread pools</li> 
      <li>handling cross-request control flow in web applications</li> 
     </ol> 
     <hr> 
     <h1 id="multitasking-with-scala-continuations">multitasking with scala continuations</h1> 
     <p>The key different with threading model is that multitasking with continuations is coorperitive while multitasking with threads is preemptive. So the key point to make multitasking with continuation works is we need to offer a custom scheduler for the continuations execution and coordination.</p> 
     <pre>reset {
    shift{
        cont:(()=&gt;Unit) =&gt; {
            connect() // synchronous
            startDump() // synchronous
            scheduler.register(cont) // yield without execution immediately since the io might be not ready.
        }
    }
    readBinlogEventsAndProcess()
}

scheduler.selectAndNotify
</pre> 
     <hr> 
     <h1 id="å€¼å¾—å‚è€ƒçš„é¡¹ç›®">å€¼å¾—å‚è€ƒçš„é¡¹ç›®</h1> 
     <ol type="1"> 
      <li>Swarm 
       <ul> 
        <li><a href="http://vimeo.com/6614042" class="uri">http://vimeo.com/6614042</a></li> 
        <li><a href="http://www.earldouglas.com/actor-based-continuations-with-akka-and-swarm/" class="uri">http://www.earldouglas.com/actor-based-continuations-with-akka-and-swarm/</a></li> 
       </ul></li> 
      <li>Akkaâ€™s DataFlow and NIO actor implementations</li> 
      <li>Jim McBeathçš„blog postså’Œgithubé¡¹ç›®(Scoroutine &amp; NIOServer)</li> 
      <li>Loft - <a href="https://github.com/rschildmeijer/loft" class="uri">https://github.com/rschildmeijer/loft</a></li> 
     </ol> 
     <hr> 
     <h1 id="ä¸€äº›æ¨¡å¼ä¸è§„åˆ™">ä¸€äº›æ¨¡å¼ä¸è§„åˆ™</h1> 
     <ol type="1"> 
      <li>â€œAll code inside the reset, minus the shift expressions, is turned into continuationsâ€</li> 
      <li>resetçš„è¿”å›å€¼ç±»å‹è·Ÿshiftçš„è¿”å›å€¼ç±»å‹ç›¸åŒï¼Ÿï¼ - â€œthe value of the evaluated reset block is the value of the last expression in the shift block that gets executed within that reset blockâ€</li> 
      <li>â€œ<strong>The gist of CPS is that we donâ€™t use return</strong>. Rather than calling a subroutine and having it return to us, as is the case in the normal Direct Style, we pass a continuation to the subroutine for it to execute when it is done.â€</li> 
      <li>â€œIn every method where we call a subroutine using CPS, that call is always the very last thing in the method.â€</li> 
      <li>â€œAny method that includes shift must be marked as CPS, and any method that calls a CPS method must be marked as CPS, until you reach the enclosing reset call.â€</li> 
      <li></li> 
     </ol> 
     <hr> 
     <h1 id="limitations">Limitations</h1> 
     <ol type="1"> 
      <li>Using return statements in a CPS function is unlikely to do what you expect, and may cause type mismatch compiler errors, so you should not use them.</li> 
      <li>When using an if statement, you may get an error like this: <code>Foo.scala:21: error: then and else parts must both be cps code or neither of them</code></li> 
      <li>The compiler plugin does not handle try blocks, so you canâ€™t catch exceptions within CPS code. Those exceptions will be propagated out to the enclosing reset block and can be caught there - unless the continuation is suspended and executed later, in which case any exceptions would be propagated to the reset block of the code doing that later execution.</li> 
      <li>You need to be careful when using looping constructs. As <a href="http://scala-programming-language.1934581.n4.nabble.com/scala-Tail-Recursive-Calls-possible-inside-CPS-td2221188.html#a2226758">Tiark says</a>, <code>Capturing delimited continuations inside a while loop turns the loop basically into a general recursive function.</code> You can follow the above link for details, but basically each invocation of shift within a looping construct allocates another stack frame, so after â€œloopingâ€ many times you will likely get a StackOverflowError.</li> 
      <li>Some looping constructs can not be used with a shift inside them. To quote Tiark again: <code>In a reset block you can do anything, but shifts are not allowed everywhere. The limitation is that everything on the call path between a shift and its enclosing reset must be "shift-aware". That rules out the regular foreach, map and filter methods because they know nothing about continuations, so they can't call closures containing shift.</code></li> 
     </ol> 
     <hr> 
     <h1 id="read-more">Read Moreâ€¦</h1> 
     <ol type="1"> 
      <li>My Question On Quora - <a href="http://www.quora.com/How-does-Scala-continuation-work-and-has-there-been-some-successful-system-built-on-it" class="uri">http://www.quora.com/How-does-Scala-continuation-work-and-has-there-been-some-successful-system-built-on-it</a></li> 
      <li><strong>highly recommended</strong> - <a href="http://jim-mcbeath.blogspot.com/2010/08/delimited-continuations.html" class="uri">http://jim-mcbeath.blogspot.com/2010/08/delimited-continuations.html</a></li> 
      <li><a href="http://ebruchez.blogspot.com/2011/09/continuations-in-scala.html" class="uri">http://ebruchez.blogspot.com/2011/09/continuations-in-scala.html</a></li> 
      <li>Scala continuations and NIO meet JVM coroutines - <a href="http://skillsmatter.com/podcast/scala/scala-continuations" class="uri">http://skillsmatter.com/podcast/scala/scala-continuations</a></li> 
      <li>Swarm Discussion On Lambda the Ultimate - <a href="http://lambda-the-ultimate.org/node/3626" class="uri">http://lambda-the-ultimate.org/node/3626</a></li> 
      <li><a href="http://www.slideshare.net/openbala/continuations" class="uri">http://www.slideshare.net/openbala/continuations</a></li> 
      <li><a href="http://biosimilarity.blogspot.com/2011/01/rabbitmq-monadically.html" class="uri">http://biosimilarity.blogspot.com/2011/01/rabbitmq-monadically.html</a></li> 
      <li><a href="http://suereth.blogspot.com/2010/03/how-you-should-think-about-delimited.html" class="uri">http://suereth.blogspot.com/2010/03/how-you-should-think-about-delimited.html</a></li> 
      <li><a href="http://www.earldouglas.com/asynchronous-network-io-with-scala-continuations/" class="uri">http://www.earldouglas.com/asynchronous-network-io-with-scala-continuations/</a></li> 
      <li><a href="http://www.infoq.com/articles/deft-loft" class="uri">http://www.infoq.com/articles/deft-loft</a></li> 
      <li><a href="http://lampsvn.epfl.ch/trac/scala/browser/compiler-plugins/continuations/trunk/doc/examples/continuations/Test17Webserver.scala" class="uri">http://lampsvn.epfl.ch/trac/scala/browser/compiler-plugins/continuations/trunk/doc/examples/continuations/Test17Webserver.scala</a></li> 
      <li><a href="http://lampsvn.epfl.ch/trac/scala/browser/compiler-plugins/continuations/trunk/doc/examples/continuations" class="uri">http://lampsvn.epfl.ch/trac/scala/browser/compiler-plugins/continuations/trunk/doc/examples/continuations</a></li> 
     </ol> <!-- tail --> 
     <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-3687639021943715" data-ad-slot="7874087130" data-ad-format="auto" data-full-width-responsive="true"></ins> 
     <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script> 
     <hr> 
     <div> <a href="/posts.html"> <b> &gt;&gt;&gt;&gt;&gt;&gt; æ›´å¤šé˜…è¯» &lt;&lt;&lt;&lt;&lt;&lt; </b></a> 
     </div> 
     <div id="random_posts"> 
      <div class="alert alert-light" role="alert"> <a href="/posts/2024-09-12-architect-ladders.html">ç™¾ä¸‡å¹´è–ªçš„æ¶æ„å¸ˆå’Œ 50 ä¸‡ä»¥å†…æ¶æ„å¸ˆçš„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ </a> 
      </div> 
      <div class="alert alert-light" role="alert"> <a href="/posts/2023-03-23-3-way-to-deploy-own-chatgpt.html">éƒ¨ç½²å±äºè‡ªå·±çš„ChatGPTçš„ä¸‰ç§æ–¹å¼ </a> 
      </div> 
      <div class="alert alert-light" role="alert"> <a href="/posts/2024-04-27-fq-products-and-services.html">ç¦å¼ºçš„å†…å®¹äº§å“ä¸æœåŠ¡ä½“ç³»ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼ </a> 
      </div> 
     </div> 
     <hr> 
     <div id="comments"></div> 
     <hr> <!-- Section CTA --> 
     <section class="overflow-x-clip bg-zinc-50 py-16 md:py-24"> 
      <div class="relative mx-auto w-full max-w-screen-xl px-4"> 
       <div class="relative z-10 w-full"> <!-- ç¦å¼ºç§å­¦æ¨è --> 
        <div class="mx-auto max-w-screen-md"> 
         <h2 class="mb-4 text-center text-4xl font-bold md:text-5xl"><a href="https://afoo.me/kb.html" class="border-b">ã€Œç¦å¼ºç§å­¦ã€</a>æ¥ä¸€ä¸ªï¼Ÿ</h2> 
         <p class="mx-auto mb-8 w-full text-center text-lg leading-8 text-zinc-700 md:w-5/6 md:text-xl">ã€Œç¦å¼ºç§å­¦ã€, ä¸€éƒ¨æ²‰æ·€äº†ä¸ªäººæˆé•¿ã€æŠ€æœ¯ä¸æ¶æ„ã€ç»„ç»‡ä¸ç®¡ç†ä»¥åŠå•†ä¸šä¸Šçš„æ–¹æ³•ä¸å¿ƒæ³•çš„ç™¾ç§‘å…¨ä¹¦ã€‚</p> 
        </div> 
        <div class="mx-auto mt-6 w-full md:mt-12 md:w-4/5"> <a href="https://afoo.me/kb.html"> <img alt="footer img for kb.afoo.me" loading="lazy" width="2911" height="1961" decoding="async" data-nimg="1" class="mx-auto rounded-lg object-contain shadow-lg sm:rounded-2xl lg:rounded-3xl" style="color:transparent" src="https://og.afoo.me/?url=footer"> </a> 
        </div> <!-- å°æŠ¥ç«¥æ¨è --> 
        <div class="mx-auto max-w-screen-md"> 
         <h2 class="mt-8 mb-4 text-center text-4xl font-bold md:text-5xl"><a href="https://xiaobot.net/p/aifd" class="border-b">ç¦å¼ºè€å¸ˆçš„ AI é€šè¯†è¯¾</a></h2><a href="https://xiaobot.net/p/aifd" class="border-b"> </a>
        </div><a href="https://xiaobot.net/p/aifd" class="border-b"> </a>
        <div class="mx-auto mt-6 w-full md:mt-12 md:w-4/5">
         <a href="https://xiaobot.net/p/aifd" class="border-b"> </a><a href="https://xiaobot.net/p/aifd"> <img alt="footer img for kb.afoo.me" loading="lazy" width="2911" height="1961" decoding="async" data-nimg="1" class="mx-auto rounded-lg object-contain shadow-lg sm:rounded-2xl lg:rounded-3xl" style="color:transparent" src="https://afoo.me/images/xbt-footer.webp"> </a> 
        </div> <!-- ä»˜è´¹åˆé›†æ¨è --> 
        <div class="mx-auto max-w-screen-md"> 
         <h2 class="mt-8 mb-4 text-center text-4xl font-bold md:text-5xl">è§†é¢‘å· ä»˜è´¹åˆé›†</h2> 
        </div> 
        <div class="mx-auto mt-6 w-full md:mt-12 md:w-4/5"> 
         <img alt="footer img for kb.afoo.me" loading="lazy" width="2911" height="1961" decoding="async" data-nimg="1" class="mx-auto rounded-lg object-contain shadow-lg sm:rounded-2xl lg:rounded-3xl" style="color:transparent" src="https://afoo.me/images/ffhj-footer.webp"> 
        </div> 
       </div> 
      </div> 
     </section> 
     <hr> 
     <p> <span style="font-size: xx-large;"> å¼€å¤©çª—ï¼Œæ‹‰è®¤çŸ¥ï¼Œè®¢é˜…ã€Œç¦æŠ¥ã€ï¼Œå³åˆ»æ‹¥æœ‰è‡ªå·±çš„å…¨æ¨¡æ€äººå·¥æ™ºèƒ½ã€‚ </span> </p> <a href="https://wfq.gumroad.com/l/fb"> <img src="/images/fb_subscribe_v2.jpg" alt="è®¢é˜…ã€Œç¦æŠ¥ã€"> </a> 
     <hr> 
     <div hx-get="https://toolfooter.afoo.me/" hx-trigger="revealed" htmx-indicator="#tfloader"> 
      <div id="tfloader" class="x-indicator"> 
       <svg width="57" height="57" viewbox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="#3F83F8"> <g fill="none" fill-rule="evenodd"> 
         <g transform="translate(1 1)" stroke-width="2"> 
          <circle cx="5" cy="50" r="5"> 
           <animate attributename="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcmode="linear" repeatcount="indefinite" /> 
           <animate attributename="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcmode="linear" repeatcount="indefinite" /> 
          </circle> 
          <circle cx="27" cy="5" r="5"> 
           <animate attributename="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcmode="linear" repeatcount="indefinite" /> 
           <animate attributename="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcmode="linear" repeatcount="indefinite" /> 
          </circle> 
          <circle cx="49" cy="50" r="5"> 
           <animate attributename="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcmode="linear" repeatcount="indefinite" /> 
           <animate attributename="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcmode="linear" repeatcount="indefinite" /> 
          </circle> 
         </g> 
        </g> 
       </svg> 
      </div> 
     </div> 
    </div> 
   </section> 
  </main> 
  <div style="position: fixed; left: 0; bottom: 0; padding: 10px; z-index: 1000;"> 
   <img src="/icons/Written-By-Human-Not-By-AI-Badge-black@2x.png" alt loading="lazy"> 
  </div> 
  <footer class="border-t border-gray-200 dark:border-slate-800"> 
   <div class="max-w-6xl mx-auto px-4 sm:px-6"> 
    <div class="md:flex md:items-center md:justify-between py-6 md:py-8"> 
     <ul class="flex mb-4 md:order-1 -ml-2 md:ml-4 md:mb-0"> 
      <li> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Twitter" href="https://twitter.com/afoo_me"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-twitter"> <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84 0 0 0 .497-3.753C20.18 7.773 21.692 5.25 22 4.009z"> 
         </path> 
        </svg> </a> </li> 
      <li> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Facebook" href="https://www.facebook.com/fujohnwang/"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-facebook"> <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 0 1 1-1h3V3h-3a5 5 0 0 0-5 5v2H7"></path> 
        </svg> </a> </li> 
      <li> <a class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 inline-flex items-center" aria-label="Github" href="https://github.com/fujohnwang"> 
        <svg viewbox="0 0 24 24" class="w-5 h-5" astro-icon="tabler:brand-github"> <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"> 
         </path> 
        </svg> </a> </li> 
     </ul> 
     <div class="text-sm text-gray-700 mr-4 dark:text-slate-400"> <span class="w-5 h-5 md:w-6 md:h-6 md:-mt-0.5 bg-cover mr-1.5 float-left rounded-sm"> <img src="https://afoo.me/favicon.svg" class="rounded-md" alt> </span> Copyright Â© ç‹ç¦å¼ºä¸ªäººç‰ˆæƒæ‰€æœ‰ - Since 2004 (Everything is homebrewed with <a href="https://pandoc.org/">Pandoc</a> and Markdown, little <a href="https://www.scala-lang.org/">Scala</a> also included.) 
     </div> 
    </div> 
   </div> 
  </footer> 
  <script>
        // Set "light" theme as default
        if (!localStorage.theme) {
            localStorage.theme = "light";
        }

        if (
            localStorage.theme === 'dark' ||
            (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
        ) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        function attachEvent(selector, event, fn) {
            const matches = document.querySelectorAll(selector);
            if (matches && matches.length) {
                matches.forEach((elem) => {
                    elem.addEventListener(event, () => fn(elem), false);
                });
            }
        }

        window.onload = function () {
            attachEvent('[data-toggle-menu]', 'click', function (elem) {
                elem.classList.toggle('expanded');
                document.body.classList.toggle('overflow-hidden');
                document.getElementById('header')?.classList.toggle('h-screen');
                document.querySelector('#header nav')?.classList.toggle('hidden');
            });
            attachEvent('[data-toggle-color-scheme]', 'click', function () {
                document.documentElement.classList.toggle('dark');
                localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            });
        };
        window.onpageshow = function () {
            const elem = document.querySelector('[data-toggle-menu]');
            if (elem) {
                elem.classList.remove('expanded');
            }
            document.body.classList.remove('overflow-hidden');
            document.getElementById('header')?.classList.remove('h-screen');
            document.querySelector('#header nav')?.classList.add('hidden');
        };
    </script> 
  <script type="text/javascript">
        var gitalk = new Gitalk({
          clientID: '518a605d711883414ac0',
          clientSecret: '69fb8ccc0616c5bcbc64d24ece0d06d279da91ff',
          repo: 'afoo.me.comments',
          owner: 'fujohnwang',
          admin: ['fujohnwang'],
          id: location.pathname.substring(0, 49),      // Ensure uniqueness and length less than 50
          distractionFreeMode: false  // Facebook-like distraction free mode
        })
        gitalk.render('comments')
    </script> 
  <script src="https://formspree.io/js/formbutton-v1.min.js" defer></script> 
  <script>
  /* paste this line in verbatim */
  window.formbutton=window.formbutton||function(){(formbutton.q=formbutton.q||[]).push(arguments)};
  /* customize formbutton below*/     
  formbutton("create", {
    action: "https://formspree.io/f/xknlpkkd",
    title: "æœ‰ä»€ä¹ˆå¯ä»¥å¸®åˆ°æ‚¨ï¼ŸğŸ’•ğŸ’•ğŸ’• How can I help you?",
    buttonImg: "<img src='https://afoo.me/hero3/70.webp' alt/>",
    fields: [
      { 
        type: "email", 
        label: "æ‚¨çš„ç”µå­é‚®ç®±ï¼ˆæ–¹ä¾¿ä¸æ‚¨è”ç³»ï¼‰:", 
        name: "email",
        required: true,
        placeholder: "your@email.com"
      },
      {
        type: "textarea",
        label: "æ‚¨æƒ³æäº¤çš„åé¦ˆå’Œè¯¢é—®ä¿¡æ¯:",
        name: "message",
        placeholder: "What's on your mind?",
      },
      { type: "submit" }      
    ],
    styles: {
      title: {
        backgroundColor: "blue"
      },
      button: {
        backgroundColor: "blue"
      }
    }
  });
</script> 
  <script>
	// tooltips
	tippy('#aiedu', {
        content: "As to AI nowadays, LLM and Stable Diffusion are hot even hottest among them, If your want to both know-why and know-how with them, instead of only know-how which can't repeat itself, you should get you to https://ai.afoo.me right now â—"
    });  
</script>  
 </body>
</html>